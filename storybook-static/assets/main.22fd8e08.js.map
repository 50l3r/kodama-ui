{"version":3,"mappings":"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","names":["SysMenu","useMenu","__name","ctx","getCurrentInstance","SeparatorMenu","_sfc_main$6","defineComponent","route","useRoute","menu","hasActiveChildren","match","checkRoles","hasOneAccess","i","page","j","subpage","initCollapse","accordionItems","item","options","_hoisted_1","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_13","_hoisted_14","_resolveComponent","_ctx","_createElementBlock","_Fragment","_createCommentVNode","_openBlock","_component_k_tooltip","menuItem","_createVNode","_createElementVNode","item2","_withCtx","_hoisted_12","_hoisted_4","isComponent","name","resolveDynamicComponent","computed","useConfig","value","_normalizeClass","_component_k_logo","_cache","_createBlock","_component_k_menu","registerSW","wb","registration","registerPromise","sendSkipWaitingMessage","updateServiceWorker","reloadPage","event","register","__vitePreload","messageSW","Workbox","onOfflineReady","showSkipWaitingPrompt","onNeedRefresh","r","onRegisteredSW","onRegistered","e","onRegisterError","ref","updateSW","update","updateAvailable","_component_k_button","config","darkMode","inject","logout","auth","firstname","fullname","lastname","collapsed","_hoisted_3","_hoisted_7","_component_k_toolbar_search","_component_k_theme","_component_k_dropdown","_createTextVNode","_component_k_dropdown_item","_component_router_link","_component_k_icon","_createStaticVNode","_component_k_aside"],"sources":["../../src/config/_menu.ts","../../src/store/index.ts","../../src/layouts/main/partials/aside/menu.vue","../../src/layouts/main/partials/aside/aside.vue","../../../../@vite-plugin-pwa/virtual:pwa-register","../../src/layouts/main/partials/topbar/updater.vue","../../src/layouts/main/partials/topbar/theme.vue","../../src/layouts/main/partials/topbar/topbar.vue","../../src/layouts/main/partials/debug.vue","../../src/layouts/main/main.vue"],"sourcesContent":["import { RouteLocationRaw } from 'vue-router'\r\n\r\nexport const SysMenu: Menu[] = [\r\n    // {\r\n    //     separator: true\r\n    // },\r\n    // {\r\n    //     // heading: 'Config',\r\n    //     // route: '/produccion',\r\n    //     pages: [\r\n    //         {\r\n    //             sectionTitle: 'Changelog v1.0',\r\n    //             route: '/cupones',\r\n    //             icon: ['fad', 'fa-file']\r\n    //         }\r\n    //     ]\r\n    // }\r\n]\r\n\r\nexport type MenuItem = {\r\n    title: string\r\n    disabled?: boolean\r\n    route: RouteLocationRaw\r\n    icon: string\r\n    auth?: boolean\r\n    pages?: MenuItem[]\r\n}\r\n\r\nexport type Menu = {\r\n    heading?: string\r\n    pages?: MenuItem[]\r\n    separator?: boolean\r\n    auth?: boolean\r\n}\r\n\r\n// export default (FrontMenu: () => Menu[]) => {\r\n//     const SeparatorMenu: Menu[] = [{ separator: true }]\r\n//     const CustomMenu: Menu[] = [...FrontMenu(), ...SeparatorMenu, ...SysMenu]\r\n\r\n//     return CustomMenu\r\n// }\r\n","import { getCurrentInstance } from 'vue'\r\nimport { Menu, SysMenu } from '../config/_menu'\r\nimport useConfig from './modules/config'\r\nimport useQuery from './modules/query'\r\n\r\nconst useMenu = function (): Menu[] {\r\n    const ctx: any = getCurrentInstance()\r\n\r\n    const SeparatorMenu: Menu[] = [{ separator: true }]\r\n    const FrontMenu: Menu[] = ctx ? ctx.proxy.menu() : []\r\n    const CustomMenu: Menu[] = [...FrontMenu, ...SeparatorMenu, ...SysMenu]\r\n\r\n    return CustomMenu\r\n}\r\n\r\nexport { useConfig, useMenu, useQuery }\r\n","<template>\r\n    <ul class=\"k-menu\" :class=\"{ 'k-menu-collapsed': collapsed }\">\r\n        <template v-for=\"(item, i) in menu\" :key=\"i\">\r\n            <template v-if=\"checkRoles(item)\">\r\n                <li\r\n                    v-if=\"item.heading && hasOneAccess(item)\"\r\n                    class=\"k-menu-header\"\r\n                >\r\n                    <template v-if=\"!collapsed\">{{ item.heading }}</template>\r\n                </li>\r\n                <li v-else-if=\"item.separator\" class=\"k-menu-separator\"></li>\r\n                <template v-for=\"(menuItem, j) in item.pages\" :key=\"j\">\r\n                    <template v-if=\"checkRoles(menuItem)\">\r\n                        <li v-if=\"!menuItem.pages\">\r\n                            <k-tooltip\r\n                                :title=\"menuItem.title\"\r\n                                placement=\"right\"\r\n                                :arrow=\"false\"\r\n                                :disabled=\"!collapsed\"\r\n                            >\r\n                                <button class=\"k-menu-item\">\r\n                                    <span\r\n                                        v-if=\"menuItem.icon\"\r\n                                        class=\"k-menu-icon\"\r\n                                    >\r\n                                        <k-icon\r\n                                            :icon=\"menuItem.icon\"\r\n                                            type=\"fal\"\r\n                                        />\r\n                                    </span>\r\n\r\n                                    <span\r\n                                        v-if=\"!collapsed\"\r\n                                        class=\"k-menu-title\"\r\n                                    >\r\n                                        {{ menuItem.title }}\r\n                                    </span>\r\n\r\n                                    <k-icon\r\n                                        v-if=\"menuItem.pages && !collapsed\"\r\n                                        icon=\"chevron-down\"\r\n                                        type=\"fal\"\r\n                                        class=\"k-menu-chevron\"\r\n                                    />\r\n                                </button>\r\n                            </k-tooltip>\r\n                        </li>\r\n\r\n                        <li\r\n                            v-else-if=\"hasOneAccess(menuItem)\"\r\n                            :class=\"{\r\n                                show: hasActiveChildren(menuItem.route)\r\n                            }\"\r\n                        >\r\n                            <k-tooltip\r\n                                :title=\"menuItem.title\"\r\n                                placement=\"right\"\r\n                                :arrow=\"false\"\r\n                                :disabled=\"!collapsed\"\r\n                            >\r\n                                <button\r\n                                    :id=\"`k-menu-dropdown-${menuItem.title}`\"\r\n                                    class=\"k-menu-item\"\r\n                                >\r\n                                    <span\r\n                                        v-if=\"menuItem.icon\"\r\n                                        class=\"k-menu-icon\"\r\n                                    >\r\n                                        <k-icon\r\n                                            :icon=\"menuItem.icon\"\r\n                                            type=\"fal\"\r\n                                        />\r\n                                    </span>\r\n                                    <span\r\n                                        v-if=\"!collapsed\"\r\n                                        class=\"k-menu-title\"\r\n                                    >\r\n                                        {{ menuItem.title }}\r\n                                    </span>\r\n\r\n                                    <k-icon\r\n                                        v-if=\"menuItem.pages && !collapsed\"\r\n                                        icon=\"chevron-down\"\r\n                                        type=\"fal\"\r\n                                        class=\"k-menu-chevron\"\r\n                                    />\r\n                                </button>\r\n                            </k-tooltip>\r\n\r\n                            <ul\r\n                                :id=\"`k-menu-dropdown-${menuItem.title}-body`\"\r\n                                class=\"k-menu-sub hidden\"\r\n                            >\r\n                                <template\r\n                                    v-for=\"(item2, k) in menuItem.pages\"\r\n                                    :key=\"k\"\r\n                                >\r\n                                    <li v-if=\"item2.title && checkRoles(item2)\">\r\n                                        <k-tooltip\r\n                                            :title=\"item2.title\"\r\n                                            placement=\"right\"\r\n                                            :arrow=\"false\"\r\n                                            :disabled=\"!collapsed\"\r\n                                        >\r\n                                            <button class=\"k-menu-item\">\r\n                                                <span\r\n                                                    v-if=\"item2.icon\"\r\n                                                    class=\"k-menu-icon\"\r\n                                                    type=\"fal\"\r\n                                                >\r\n                                                    <k-icon\r\n                                                        :icon=\"item2.icon\"\r\n                                                        type=\"fal\"\r\n                                                    />\r\n                                                </span>\r\n\r\n                                                <span\r\n                                                    v-if=\"!collapsed\"\r\n                                                    class=\"k-menu-title\"\r\n                                                >\r\n                                                    {{ item2.title }}\r\n                                                </span>\r\n\r\n                                                <!-- <k-icon\r\n                                                v-if=\"item2.pages\"\r\n                                                icon=\"chevron-down\"\r\n                                                class=\"k-menu-chevron\"\r\n                                            /> -->\r\n                                            </button>\r\n                                        </k-tooltip>\r\n\r\n                                        <!-- <div\r\n                                            class=\"menu-sub menu-sub-accordion\"\r\n                                        >\r\n                                            <template\r\n                                                v-for=\"(\r\n                                                    item3, k\r\n                                                ) in item2.pages\"\r\n                                                :key=\"k\"\r\n                                            >\r\n                                                <div\r\n                                                    v-if=\"checkRoles(item3)\"\r\n                                                    class=\"menu-item\"\r\n                                                >\r\n                                                    <menu-item :item=\"item3\" />\r\n                                                </div>\r\n                                            </template>\r\n                                        </div> -->\r\n                                    </li>\r\n                                </template>\r\n                            </ul>\r\n                        </li>\r\n                    </template>\r\n                </template>\r\n            </template>\r\n        </template>\r\n    </ul>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { defineComponent, onMounted } from 'vue'\r\n    import { RouteLocationRaw, useRoute } from 'vue-router'\r\n    import { Accordion } from 'flowbite'\r\n\r\n    import { useMenu } from '@/store'\r\n    import { version } from '@/helpers/config'\r\n\r\n    export default defineComponent({\r\n        name: 'KMenu',\r\n        props: {\r\n            collapsed: {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        setup() {\r\n            const route = useRoute()\r\n            const menu = useMenu()\r\n\r\n            const hasActiveChildren = (match: RouteLocationRaw) => {\r\n                return route.path.indexOf(match.toString()) !== -1\r\n            }\r\n\r\n            const checkRoles = (menu: any) => {\r\n                if (menu.auth) return menu.auth\r\n                return true\r\n            }\r\n\r\n            const hasOneAccess = (menu: any) => {\r\n                if (menu.auth) return menu.auth\r\n\r\n                if (menu.pages) {\r\n                    for (let i = 0; i < menu.pages.length; i++) {\r\n                        const page = menu.pages[i]\r\n\r\n                        if (page.auth) return page.auth\r\n\r\n                        if (page.pages) {\r\n                            for (let j = 0; j < page.pages.length; j++) {\r\n                                const subpage = page.pages[j]\r\n\r\n                                const subpageAccess = checkRoles(subpage)\r\n                                if (subpageAccess) return true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return false\r\n            }\r\n\r\n            const initCollapse = () => {\r\n                // create an array of objects with the id, trigger element (eg. button), and the content element\r\n                let accordionItems: any[] = []\r\n                let i = 0\r\n                menu.forEach((item) => {\r\n                    if (item.pages) {\r\n                        item.pages.forEach((page) => {\r\n                            if (page.pages) {\r\n                                accordionItems.push({\r\n                                    id: `k-menu-dropdown-${page.title}`,\r\n                                    triggerEl: document.getElementById(\r\n                                        `k-menu-dropdown-${page.title}`\r\n                                    ),\r\n                                    targetEl: document.getElementById(\r\n                                        `k-menu-dropdown-${page.title}-body`\r\n                                    ),\r\n                                    active: false\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n                    i++\r\n                })\r\n\r\n                const options = {\r\n                    alwaysOpen: true,\r\n                    activeClasses: 'bg-gray-800 text-gray-200',\r\n                    inactiveClasses: 'text-gray-200'\r\n                }\r\n\r\n                new Accordion(accordionItems, options)\r\n            }\r\n\r\n            onMounted(() => {\r\n                initCollapse()\r\n            })\r\n\r\n            return {\r\n                hasActiveChildren,\r\n                hasOneAccess,\r\n                menu,\r\n                version,\r\n                checkRoles\r\n            }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .k-menu {\r\n        // COLLAPSED\r\n        &.k-menu-collapsed {\r\n            li:not(.k-menu-sub) {\r\n                @apply space-y-0;\r\n            }\r\n\r\n            .k-menu-header {\r\n                @apply border-b border-gray-700 mb-4 pb-4 mt-0;\r\n            }\r\n\r\n            .k-menu-item {\r\n                @apply w-12 h-12 justify-center m-0;\r\n\r\n                .k-menu-icon {\r\n                    @apply m-0 w-auto;\r\n                }\r\n            }\r\n\r\n            .k-menu-sub {\r\n                @apply w-12 justify-center m-0;\r\n            }\r\n        }\r\n\r\n        & > .k-menu-header {\r\n            @apply text-gray-400 uppercase font-bold text-sm mt-6 mb-2 font-title;\r\n        }\r\n\r\n        .k-menu-icon {\r\n            @apply mr-2 w-5 inline-flex;\r\n        }\r\n\r\n        .k-menu-item {\r\n            @apply flex items-center w-full rounded-md px-2 py-3 hover:bg-gray-800 text-left text-gray-400 hover:text-gray-200;\r\n\r\n            .k-menu-title {\r\n                @apply text-sm font-semibold;\r\n            }\r\n\r\n            .k-menu-chevron {\r\n                @apply ml-auto;\r\n            }\r\n        }\r\n\r\n        .k-menu-item[aria-expanded='true'] {\r\n            @apply rounded-bl-none rounded-br-none;\r\n        }\r\n\r\n        .k-menu-sub {\r\n            margin-top: 0 !important;\r\n\r\n            @apply bg-gray-800 rounded-br-md rounded-bl-md pt-1 transition-all;\r\n\r\n            .k-menu-item {\r\n                @apply py-3;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","<template>\r\n    <aside\r\n        class=\"k-aside h-screen bg-sidebar text-gray-100 flex flex-col\"\r\n        :class=\"{ 'k-aside-collapsed': collapsed }\"\r\n    >\r\n        <div\r\n            class=\"px-3 pb-5 pt-5 flex relative\"\r\n            :class=\"collapsed ? 'justify-center' : 'justify-between'\"\r\n        >\r\n            <k-logo\r\n                dark\r\n                :side=\"!collapsed\"\r\n                class=\"cursor-pointer\"\r\n                @click=\"collapsed = false\"\r\n            />\r\n\r\n            <k-button\r\n                v-if=\"!collapsed\"\r\n                icon=\"chevrons-left\"\r\n                link\r\n                color=\"primary\"\r\n                class=\"-mr-2\"\r\n                @click=\"collapsed = true\"\r\n            ></k-button>\r\n\r\n            <k-button\r\n                v-else\r\n                icon=\"chevrons-right\"\r\n                link\r\n                color=\"primary\"\r\n                class=\"absolute top-0 right-0 -m-3 mt-5\"\r\n                @click=\"collapsed = false\"\r\n            ></k-button>\r\n        </div>\r\n        <div class=\"overflow-y-auto py-5 px-3 h-full flex-1\">\r\n            <k-menu :collapsed=\"collapsed\" />\r\n        </div>\r\n        <div class=\"justify-center p-4 space-x-4\">\r\n            <k-aside-footer />\r\n        </div>\r\n    </aside>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { useConfig } from '@/store'\r\n    import { computed, defineComponent, resolveDynamicComponent } from 'vue'\r\n    import KMenu from './menu.vue'\r\n\r\n    export default defineComponent({\r\n        name: 'KAside',\r\n        components: {\r\n            KMenu\r\n        },\r\n        setup() {\r\n            const isComponent = (name: string) =>\r\n                typeof resolveDynamicComponent(name) !== 'string'\r\n\r\n            const collapsed = computed({\r\n                get() {\r\n                    const config = useConfig()\r\n                    return config.get('aside.collapsed') || false\r\n                },\r\n                set(value) {\r\n                    const config = useConfig()\r\n                    config.set('aside.collapsed', value)\r\n                }\r\n            })\r\n\r\n            return { collapsed, isComponent }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .k-aside {\r\n        @apply w-80 transition-all fixed z-50 sm:z-0 sm:relative;\r\n\r\n        &-collapsed {\r\n            @apply w-20 hidden sm:flex;\r\n        }\r\n    }\r\n</style>\r\n","// src/client/build/register.ts\nvar autoUpdateMode = \"false\";\nvar selfDestroying = \"false\";\nvar auto = autoUpdateMode === \"true\";\nvar autoDestroy = selfDestroying === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisteredSW,\n    onRegisterError\n  } = options;\n  let wb;\n  let registration;\n  let registerPromise;\n  let sendSkipWaitingMessage;\n  const updateServiceWorker = async (reloadPage = true) => {\n    await registerPromise;\n    if (!auto) {\n      if (reloadPage) {\n        wb == null ? void 0 : wb.addEventListener(\"controlling\", (event) => {\n          if (event.isUpdate)\n            window.location.reload();\n        });\n      }\n      await (sendSkipWaitingMessage == null ? void 0 : sendSkipWaitingMessage());\n    }\n  };\n  async function register() {\n    if (\"serviceWorker\" in navigator) {\n      const { Workbox, messageSW } = await import(\"workbox-window\");\n      sendSkipWaitingMessage = async () => {\n        if (registration && registration.waiting) {\n          await messageSW(registration.waiting, { type: \"SKIP_WAITING\" });\n        }\n      };\n      wb = new Workbox(\"/sw.js\", { scope: \"/\", type: \"classic\" });\n      wb.addEventListener(\"activated\", (event) => {\n        if (event.isUpdate)\n          auto && window.location.reload();\n        else if (!autoDestroy)\n          onOfflineReady == null ? void 0 : onOfflineReady();\n      });\n      if (!auto) {\n        const showSkipWaitingPrompt = () => {\n          onNeedRefresh == null ? void 0 : onNeedRefresh();\n        };\n        wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n        wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n      }\n      wb.register({ immediate }).then((r) => {\n        registration = r;\n        if (onRegisteredSW)\n          onRegisteredSW(\"/sw.js\", r);\n        else\n          onRegistered == null ? void 0 : onRegistered(r);\n      }).catch((e) => {\n        onRegisterError == null ? void 0 : onRegisterError(e);\n      });\n    }\n  }\n  registerPromise = register();\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","<template>\r\n    <k-tooltip\r\n        v-if=\"updateAvailable\"\r\n        title=\"🍾 Actualización disponible\"\r\n        placement=\"left\"\r\n    >\r\n        <k-button\r\n            neon\r\n            color=\"success\"\r\n            icon=\"cloud-arrow-down\"\r\n            @click=\"update\"\r\n        />\r\n    </k-tooltip>\r\n</template>\r\n\r\n<script type=\"module\" lang=\"ts\">\r\n    import { defineComponent, onMounted, ref } from 'vue'\r\n    import { registerSW } from 'virtual:pwa-register'\r\n\r\n    export default defineComponent({\r\n        name: 'KUpdater',\r\n        setup() {\r\n            let updateAvailable = ref(false)\r\n            let updateSW: any = null\r\n\r\n            const update = () => {\r\n                if (updateSW) updateSW(true)\r\n            }\r\n\r\n            onMounted(() => {\r\n                if ('serviceWorker' in navigator) {\r\n                    updateSW = registerSW({\r\n                        onNeedRefresh() {\r\n                            updateAvailable.value = true\r\n                        },\r\n                        onRegistered(r: any) {\r\n                            r &&\r\n                                setInterval(() => {\r\n                                    r.update()\r\n                                }, 60000)\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n\r\n            return { update, updateAvailable }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style scoped></style>\r\n","<template>\r\n    <k-button\r\n        outline\r\n        color=\"gray\"\r\n        :icon=\"['fal', darkMode ? 'moon' : 'sun']\"\r\n        @click=\"toggleTheme\"\r\n    />\r\n</template>\r\n\r\n<script type=\"module\" lang=\"ts\">\r\n    import { useConfig } from '@/store'\r\n    import { computed, defineComponent } from 'vue'\r\n\r\n    export default defineComponent({\r\n        name: 'KTheme',\r\n        setup() {\r\n            const darkMode = computed(() => {\r\n                const config = useConfig()\r\n                return config.get('darkMode')\r\n            })\r\n\r\n            const toggleTheme = () => {\r\n                const config = useConfig()\r\n\r\n                if (darkMode.value) {\r\n                    config.set('darkMode', false)\r\n\r\n                    document\r\n                        .getElementsByTagName('html')[0]\r\n                        .classList.remove('dark')\r\n                    document\r\n                        .getElementsByTagName('html')[0]\r\n                        .classList.add('light')\r\n                } else {\r\n                    config.set('darkMode', true)\r\n\r\n                    document\r\n                        .getElementsByTagName('html')[0]\r\n                        .classList.remove('light')\r\n                    document\r\n                        .getElementsByTagName('html')[0]\r\n                        .classList.add('dark')\r\n                }\r\n            }\r\n\r\n            return { toggleTheme, darkMode }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style scoped></style>\r\n","<template>\r\n    <header>\r\n        <nav class=\"px-4 lg:px-6 py-2.5 bg-sidebar text-gray-100\">\r\n            <div class=\"flex flex-wrap items-center\">\r\n                <div class=\"flex sm:hidden\">\r\n                    <k-button\r\n                        icon=\"chevrons-right\"\r\n                        link\r\n                        color=\"white\"\r\n                        @click=\"collapsed = false\"\r\n                    ></k-button>\r\n                </div>\r\n\r\n                <div class=\"hidden sm:flex justify-start items-center\">\r\n                    <k-toolbar-search />\r\n                </div>\r\n\r\n                <div class=\"ml-auto\"></div>\r\n\r\n                <div class=\"flex flex-row gap-4\">\r\n                    <k-updater />\r\n\r\n                    <k-theme />\r\n\r\n                    <div class=\"flex items-center lg:order-2\">\r\n                        <k-dropdown click>\r\n                            <k-avatar\r\n                                :name=\"fullname\"\r\n                                :size=\"42\"\r\n                                :tooltip=\"false\"\r\n                                square\r\n                                class=\"cursor-pointer\"\r\n                            />\r\n\r\n                            <template #header>\r\n                                <div class=\"flex gap-4 items-center\">\r\n                                    <k-avatar\r\n                                        :name=\"fullname\"\r\n                                        :size=\"40\"\r\n                                        :tooltip=\"false\"\r\n                                    />\r\n                                    <div>\r\n                                        Bienvenido <br />\r\n                                        <strong>{{ firstname }}</strong>\r\n                                    </div>\r\n                                </div>\r\n                            </template>\r\n\r\n                            <template #content>\r\n                                <k-dropdown-item>\r\n                                    <router-link to=\"/pages/profile/overview\">\r\n                                        <k-icon\r\n                                            icon=\"address-card\"\r\n                                            type=\"fal\"\r\n                                            class=\"mr-2\"\r\n                                        />\r\n                                        Mi Perfil\r\n                                    </router-link>\r\n                                </k-dropdown-item>\r\n                                <k-dropdown-item>\r\n                                    <router-link to=\"/pages/profile/overview\">\r\n                                        <k-icon\r\n                                            icon=\"gear\"\r\n                                            type=\"fal\"\r\n                                            class=\"mr-2\"\r\n                                        />\r\n                                        Configuración\r\n                                    </router-link>\r\n                                </k-dropdown-item>\r\n                            </template>\r\n\r\n                            <template #footer>\r\n                                <a\r\n                                    class=\"text-danger cursor-pointer block\"\r\n                                    @click=\"logout()\"\r\n                                >\r\n                                    <k-icon\r\n                                        icon=\"right-from-bracket\"\r\n                                        class=\"mr-2\"\r\n                                    />\r\n                                    Cerrar sesión\r\n                                </a>\r\n                            </template>\r\n                        </k-dropdown>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    </header>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { defineComponent, computed, inject } from 'vue'\r\n\r\n    // import GlobalSearch from './global-search/global-search.vue'\r\n    import KUpdater from './updater.vue'\r\n    import KTheme from './theme.vue'\r\n\r\n    import { searchEnabled } from '@/helpers/config'\r\n    import { useConfig } from '@/store'\r\n    import { KodamaParams } from '@/config'\r\n\r\n    export default defineComponent({\r\n        name: 'KTopbar',\r\n        components: {\r\n            KUpdater,\r\n            KTheme\r\n        },\r\n        setup() {\r\n            const auth = inject('$auth') as KodamaParams['auth']\r\n\r\n            const logout = () => {\r\n                auth.logout()\r\n            }\r\n\r\n            const firstname = computed(() => {\r\n                return auth.getLastName() || 'Jhon'\r\n            })\r\n\r\n            const fullname = computed(() => {\r\n                const name = auth.getName() || 'Jhon'\r\n                const lastname = auth.getLastName() || 'Doe'\r\n                return `${name} ${lastname}`\r\n            })\r\n\r\n            const collapsed = computed({\r\n                get() {\r\n                    const config = useConfig()\r\n                    return config.get('aside.collapsed') || false\r\n                },\r\n                set(value) {\r\n                    const config = useConfig()\r\n                    config.set('aside.collapsed', value)\r\n                }\r\n            })\r\n\r\n            return { firstname, fullname, searchEnabled, logout, collapsed }\r\n        }\r\n    })\r\n</script>\r\n","<template>\r\n    <div v-if=\"debug\" :class=\"$style.debug\">\r\n        <div class=\"block sm:hidden\">XS</div>\r\n\r\n        <div class=\"hidden sm:block md:hidden\">SM</div>\r\n\r\n        <div class=\"hidden md:block lg:hidden\">MD</div>\r\n\r\n        <div class=\"hidden lg:block xl:hidden\">LG</div>\r\n\r\n        <div class=\"hidden xl:block\">XL</div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { computed, defineComponent } from 'vue'\r\n    import { useConfig } from '@/store'\r\n\r\n    export default defineComponent({\r\n        name: 'KDebug',\r\n        setup() {\r\n            const config = useConfig()\r\n            const debug = computed(() => config.get('debug'))\r\n\r\n            return { debug }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style module lang=\"scss\">\r\n    .debug {\r\n        position: fixed;\r\n        top: 20px;\r\n        left: 50%;\r\n        width: 100px;\r\n        margin-left: -50px;\r\n        z-index: 9999;\r\n        background: rgba(0, 0, 0, 0.5);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 5px 10px;\r\n        font-size: 20px;\r\n        color: white;\r\n        border-radius: 10px;\r\n    }\r\n</style>\r\n","<template>\r\n    <div class=\"flex flex-row bg-white dark:bg-gray-800\">\r\n        <k-aside />\r\n\r\n        <div\r\n            id=\"k-wrapper\"\r\n            class=\"flex flex-col flex-row-fluid w-full bg-gray-100 dark:bg-gray-900 min-h-screen\"\r\n        >\r\n            <k-toolbar />\r\n\r\n            <router-view />\r\n        </div>\r\n    </div>\r\n\r\n    <k-debug />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { defineComponent } from 'vue'\r\n\r\n    import KAside from './partials/aside/aside.vue'\r\n    import KToolbar from './partials/topbar/topbar.vue'\r\n    import KDebug from './partials/debug.vue'\r\n\r\n    export default defineComponent({\r\n        name: 'KMain',\r\n        components: {\r\n            KAside,\r\n            KDebug,\r\n            KToolbar\r\n        },\r\n        setup() {\r\n            return {}\r\n        }\r\n    })\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n"],"file":"assets/main.22fd8e08.js"}