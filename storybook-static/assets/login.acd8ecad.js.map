{"version":3,"file":"login.acd8ecad.js","sources":["../../src/views/auth/login/login.vue","../../src/views/auth/login/login.vue"],"sourcesContent":["<template>\r\n    <k-card id=\"k-login\">\r\n        <div class=\"p-1 sm:p-5 select-none\">\r\n            <div class=\"text-center mb-10\">\r\n                <h1 class=\"mb-3 sm:text-3xl text-2xl uppercase font-bold\">\r\n                    Iniciar Sesión\r\n                </h1>\r\n\r\n                <div v-if=\"signupEnabled\" class=\"text-gray-400 fw-bold fs-4\">\r\n                    ¿Nuevo aquí?\r\n                    <router-link\r\n                        :to=\"{ name: 'register' }\"\r\n                        class=\"link-primary fw-bolder\"\r\n                    >\r\n                        Regístrate\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n\r\n            <form @submit.prevent=\"submitLogin\">\r\n                <div class=\"mb-4\">\r\n                    <k-input\r\n                        v-model=\"state.username\"\r\n                        type=\"text\"\r\n                        placeholder=\"\"\r\n                        label=\"Email / Usuario\"\r\n                        tabindex=\"1\"\r\n                        :errors=\"v$.username.$errors\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"mb-10\">\r\n                    <k-input\r\n                        v-model=\"state.password\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        label=\"Contraseña\"\r\n                        tabindex=\"2\"\r\n                        :errors=\"v$.password.$errors\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"text-center\">\r\n                    <k-button\r\n                        :loading=\"loading\"\r\n                        icon=\"right-from-bracket\"\r\n                        class=\"w-full mb-4\"\r\n                        :disabled=\"!isValidForm\"\r\n                        type=\"submit\"\r\n                    >\r\n                        Acceder\r\n                    </k-button>\r\n\r\n                    <router-link\r\n                        :to=\"{ name: 'forgotPassword' }\"\r\n                        class=\"text-sm\"\r\n                        tabindex=\"3\"\r\n                    >\r\n                        ¿Olvidaste tu contraseña?\r\n                    </router-link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </k-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { computed, defineComponent, inject, reactive, ref } from 'vue'\r\n    import { required } from '@vuelidate/validators'\r\n\r\n    import { useConfig } from '@/store'\r\n\r\n    import { useRouter } from 'vue-router'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { KodamaParams } from '@/config'\r\n\r\n    export default defineComponent({\r\n        name: 'Login',\r\n\r\n        setup() {\r\n            const auth = inject('$auth') as KodamaParams['auth']\r\n\r\n            const router = useRouter()\r\n            const config = useConfig()\r\n\r\n            const signupEnabled = false\r\n            const loading = ref(false)\r\n\r\n            const state = reactive({\r\n                username: '',\r\n                password: ''\r\n            })\r\n\r\n            const rules = {\r\n                password: { required },\r\n                username: { required }\r\n            }\r\n\r\n            const v$ = useVuelidate(rules, state)\r\n\r\n            const isValidForm = computed(() => {\r\n                return !v$.value.$invalid\r\n            })\r\n\r\n            const submitLogin = async (params: any) => {\r\n                if (isValidForm.value) {\r\n                    loading.value = true\r\n\r\n                    auth.login(state.username, state.password)\r\n                        .then(() => {\r\n                            const homepage = config.get('homepage')\r\n                            router.push({ name: homepage })\r\n                        })\r\n                        .finally(() => {\r\n                            loading.value = false\r\n                        })\r\n                }\r\n            }\r\n\r\n            return {\r\n                loading,\r\n                submitLogin,\r\n                // loginSchema,\r\n                signupEnabled,\r\n                state,\r\n                v$,\r\n                isValidForm\r\n            }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style>\r\n    #k-login {\r\n        @apply w-full sm:w-96;\r\n    }\r\n</style>\r\n","<template>\r\n    <k-card id=\"k-login\">\r\n        <div class=\"p-1 sm:p-5 select-none\">\r\n            <div class=\"text-center mb-10\">\r\n                <h1 class=\"mb-3 sm:text-3xl text-2xl uppercase font-bold\">\r\n                    Iniciar Sesión\r\n                </h1>\r\n\r\n                <div v-if=\"signupEnabled\" class=\"text-gray-400 fw-bold fs-4\">\r\n                    ¿Nuevo aquí?\r\n                    <router-link\r\n                        :to=\"{ name: 'register' }\"\r\n                        class=\"link-primary fw-bolder\"\r\n                    >\r\n                        Regístrate\r\n                    </router-link>\r\n                </div>\r\n            </div>\r\n\r\n            <form @submit.prevent=\"submitLogin\">\r\n                <div class=\"mb-4\">\r\n                    <k-input\r\n                        v-model=\"state.username\"\r\n                        type=\"text\"\r\n                        placeholder=\"\"\r\n                        label=\"Email / Usuario\"\r\n                        tabindex=\"1\"\r\n                        :errors=\"v$.username.$errors\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"mb-10\">\r\n                    <k-input\r\n                        v-model=\"state.password\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        label=\"Contraseña\"\r\n                        tabindex=\"2\"\r\n                        :errors=\"v$.password.$errors\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"text-center\">\r\n                    <k-button\r\n                        :loading=\"loading\"\r\n                        icon=\"right-from-bracket\"\r\n                        class=\"w-full mb-4\"\r\n                        :disabled=\"!isValidForm\"\r\n                        type=\"submit\"\r\n                    >\r\n                        Acceder\r\n                    </k-button>\r\n\r\n                    <router-link\r\n                        :to=\"{ name: 'forgotPassword' }\"\r\n                        class=\"text-sm\"\r\n                        tabindex=\"3\"\r\n                    >\r\n                        ¿Olvidaste tu contraseña?\r\n                    </router-link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </k-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { computed, defineComponent, inject, reactive, ref } from 'vue'\r\n    import { required } from '@vuelidate/validators'\r\n\r\n    import { useConfig } from '@/store'\r\n\r\n    import { useRouter } from 'vue-router'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { KodamaParams } from '@/config'\r\n\r\n    export default defineComponent({\r\n        name: 'Login',\r\n\r\n        setup() {\r\n            const auth = inject('$auth') as KodamaParams['auth']\r\n\r\n            const router = useRouter()\r\n            const config = useConfig()\r\n\r\n            const signupEnabled = false\r\n            const loading = ref(false)\r\n\r\n            const state = reactive({\r\n                username: '',\r\n                password: ''\r\n            })\r\n\r\n            const rules = {\r\n                password: { required },\r\n                username: { required }\r\n            }\r\n\r\n            const v$ = useVuelidate(rules, state)\r\n\r\n            const isValidForm = computed(() => {\r\n                return !v$.value.$invalid\r\n            })\r\n\r\n            const submitLogin = async (params: any) => {\r\n                if (isValidForm.value) {\r\n                    loading.value = true\r\n\r\n                    auth.login(state.username, state.password)\r\n                        .then(() => {\r\n                            const homepage = config.get('homepage')\r\n                            router.push({ name: homepage })\r\n                        })\r\n                        .finally(() => {\r\n                            loading.value = false\r\n                        })\r\n                }\r\n            }\r\n\r\n            return {\r\n                loading,\r\n                submitLogin,\r\n                // loginSchema,\r\n                signupEnabled,\r\n                state,\r\n                v$,\r\n                isValidForm\r\n            }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style>\r\n    #k-login {\r\n        @apply w-full sm:w-96;\r\n    }\r\n</style>\r\n"],"names":["_sfc_main","defineComponent","auth","inject","router","useRouter","config","useConfig","signupEnabled","loading","ref","state","reactive","v$","useVuelidate","required","isValidForm","computed","__name","params","homepage","_hoisted_1","_hoisted_4","_resolveComponent","_openBlock","_createBlock","_component_k_card","_withCtx","_createElementVNode","_hoisted_2","_hoisted_3","_createElementBlock","_createTextVNode","_createVNode","_component_router_link","_createCommentVNode","_cache","_withModifiers","args","_ctx","_hoisted_5","_component_k_input","$event","_hoisted_6","_hoisted_7","_component_k_button"],"mappings":"wbA4EI,MAAAA,EAAeC,EAAgB,CAC3B,KAAM,QAEN,OAAQ,CACE,MAAAC,EAAOC,EAAO,OAAO,EAErBC,EAASC,IACTC,EAASC,IAETC,EAAgB,GAChBC,EAAUC,EAAI,EAAK,EAEnBC,EAAQC,EAAS,CACnB,SAAU,GACV,SAAU,EAAA,CACb,EAOKC,EAAKC,EALG,CACV,SAAU,CAAE,SAAAC,CAAS,EACrB,SAAU,CAAE,SAAAA,CAAS,CAAA,EAGMJ,CAAK,EAE9BK,EAAcC,EAAS,IAClB,CAACJ,EAAG,MAAM,QACpB,EAiBM,MAAA,CACH,QAAAJ,EACA,YAjBgBS,EAAA,MAAOC,GAAgB,CACnCH,EAAY,QACZP,EAAQ,MAAQ,GAEhBP,EAAK,MAAMS,EAAM,SAAUA,EAAM,QAAQ,EACpC,KAAK,IAAM,CACF,MAAAS,EAAWd,EAAO,IAAI,UAAU,EACtCF,EAAO,KAAK,CAAE,KAAMgB,CAAU,CAAA,CAAA,CACjC,EACA,QAAQ,IAAM,CACXX,EAAQ,MAAQ,EAAA,CACnB,EACT,EAZgB,eAmBhB,cAAAD,EACA,MAAAG,EACA,GAAAE,EACA,YAAAG,CAAA,CAER,CACJ,CAAC,EC3HgB,MAAAK,EAAA,CAAA,MAAA,mJAEqBC,EAAM,CAAA,IAAA,yCAkC3B,MAAM,oIAzCvBC,EA8DS,QAAA,SA7DLC,EA4DM,EAAAC,EAAAC,EAAA,CAAA,GAAA,WAAA,CAAA,QA3DFC,EAcM,IAAA,CAXGC,EAAA,MAAAP,EAAA,CAAAO,EAEM,MAAaC,EAAA,CAAAC,uBAONC,EAAA,MAAAT,EAAA,CAAAU,EAJL,sBAAoB,EAAAC,EACnBC,EAAwB,CAAA,GAAA,CAAA,KAAA,UAAA,kFAO1CC,EA0CO,GAAA,EAAA,CAAA,CAAA,YAzCH,SAAAC,EAAA,KASMA,EATN,GASMC,EAAA,IAAAC,IAAAC,EAAA,aAAAA,EAAA,YAAA,GAAAD,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,CAPWV,EAAA,MAAMY,EAAQ,CAAAP,EAAAQ,EAAA,CACvB,WAAWF,EAAA,MAAA,SACX,sBAAcH,EAAA,KAAAA,EAAA,GAAAM,GAAAH,EAAA,MAAA,SAAAG,GACd,KAAK,OACL,YAAY,GACX,MAAM,kBAAA,SAAA,gCAaT,EAAA,KAAA,EAAA,CAAA,aAAA,QAAA,CAAA,CAAA,CAAA,EAPWd,EAAA,MAAMe,EAAQ,CAAAV,EAAAQ,EAAA,CACvB,WAAKF,EAAU,MAAA,SACf,sBAAeH,EAAA,KAAAA,EAAA,GAAAM,GAAAH,EAAA,MAAA,SAAAG,GACf,KAAK,WACL,KAAA,WACC,MAAM,gBAAA,SAAA,gCAsBT,EAAA,KAAA,EAAA,CAAA,aAAA,QAAA,CAAA,CAAA,CAAA,IAhBY,MAAOE,EAAA,CAAAX,EACZY,EAAoB,CACzB,QAAMN,EAAA,QACL,KAAA,qBACD,MAAK,cAAA,SAAA,CAAAA,EAAA,4DAKT,EAAA,CAAA,EACK,EAAI,CAAA,UAAA,UAAA,CAAA,EAAAN,EACCC,EAAS,CACf,SAAS,gBAAG,EAAA,MAAA"}