{"version":3,"file":"forgot.a036df94.js","sources":["../../src/views/auth/forgot.vue","../../src/views/auth/forgot.vue"],"sourcesContent":["<template>\r\n    <k-card id=\"k-forgot\">\r\n        <div class=\"p-1 sm:p-5 select-none\">\r\n            <div class=\"text-center mb-10\">\r\n                <h1 class=\"mb-3 sm:text-2xl text-xl uppercase font-bold\">\r\n                    ¿Olvidaste tu clave?\r\n                </h1>\r\n            </div>\r\n\r\n            <form @submit.prevent=\"submitForgot\">\r\n                <div class=\"mb-4\">\r\n                    <k-input\r\n                        v-model=\"state.email\"\r\n                        type=\"email\"\r\n                        placeholder=\"jhon@doe.com\"\r\n                        label=\"Email\"\r\n                        tabindex=\"1\"\r\n                        :errors=\"v$.email.$silentErrors\"\r\n                    />\r\n\r\n                    <div class=\"fv-plugins-message-container\">\r\n                        <div class=\"fv-help-block\">\r\n                            <ErrorMessage name=\"email\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"text-center\">\r\n                    <k-button\r\n                        :loading=\"loading\"\r\n                        icon=\"right-from-bracket\"\r\n                        class=\"w-full mb-4\"\r\n                        :disabled=\"!isValidForm\"\r\n                        type=\"submit\"\r\n                    >\r\n                        Acceder\r\n                    </k-button>\r\n\r\n                    <router-link\r\n                        :to=\"{ name: 'login' }\"\r\n                        class=\"text-sm text-gray-400\"\r\n                    >\r\n                        Ya me acuerdo de mi clave\r\n                    </router-link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </k-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { computed, defineComponent, inject, reactive, ref } from 'vue'\r\n    import { required, email } from '@vuelidate/validators'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { KodamaParams } from '@/config'\r\n\r\n    export default defineComponent({\r\n        name: 'ForgotPassword',\r\n\r\n        setup() {\r\n            const auth = inject('$auth') as KodamaParams['auth']\r\n            const loading = ref(false)\r\n\r\n            const state = reactive({\r\n                email: ''\r\n            })\r\n\r\n            const rules = {\r\n                email: { email, required }\r\n            }\r\n\r\n            const v$ = useVuelidate(rules, state)\r\n\r\n            const isValidForm = computed(() => {\r\n                return !v$.value.$invalid\r\n            })\r\n\r\n            const submitForgot = async () => {\r\n                if (isValidForm.value) {\r\n                    loading.value = true\r\n\r\n                    auth.forgot(state.email).finally(() => {\r\n                        loading.value = false\r\n                    })\r\n                }\r\n            }\r\n\r\n            return {\r\n                loading,\r\n                state,\r\n                v$,\r\n                isValidForm,\r\n                submitForgot\r\n            }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style>\r\n    #k-forgot {\r\n        @apply w-full sm:w-96;\r\n    }\r\n</style>\r\n","<template>\r\n    <k-card id=\"k-forgot\">\r\n        <div class=\"p-1 sm:p-5 select-none\">\r\n            <div class=\"text-center mb-10\">\r\n                <h1 class=\"mb-3 sm:text-2xl text-xl uppercase font-bold\">\r\n                    ¿Olvidaste tu clave?\r\n                </h1>\r\n            </div>\r\n\r\n            <form @submit.prevent=\"submitForgot\">\r\n                <div class=\"mb-4\">\r\n                    <k-input\r\n                        v-model=\"state.email\"\r\n                        type=\"email\"\r\n                        placeholder=\"jhon@doe.com\"\r\n                        label=\"Email\"\r\n                        tabindex=\"1\"\r\n                        :errors=\"v$.email.$silentErrors\"\r\n                    />\r\n\r\n                    <div class=\"fv-plugins-message-container\">\r\n                        <div class=\"fv-help-block\">\r\n                            <ErrorMessage name=\"email\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"text-center\">\r\n                    <k-button\r\n                        :loading=\"loading\"\r\n                        icon=\"right-from-bracket\"\r\n                        class=\"w-full mb-4\"\r\n                        :disabled=\"!isValidForm\"\r\n                        type=\"submit\"\r\n                    >\r\n                        Acceder\r\n                    </k-button>\r\n\r\n                    <router-link\r\n                        :to=\"{ name: 'login' }\"\r\n                        class=\"text-sm text-gray-400\"\r\n                    >\r\n                        Ya me acuerdo de mi clave\r\n                    </router-link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </k-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { computed, defineComponent, inject, reactive, ref } from 'vue'\r\n    import { required, email } from '@vuelidate/validators'\r\n    import useVuelidate from '@vuelidate/core'\r\n    import { KodamaParams } from '@/config'\r\n\r\n    export default defineComponent({\r\n        name: 'ForgotPassword',\r\n\r\n        setup() {\r\n            const auth = inject('$auth') as KodamaParams['auth']\r\n            const loading = ref(false)\r\n\r\n            const state = reactive({\r\n                email: ''\r\n            })\r\n\r\n            const rules = {\r\n                email: { email, required }\r\n            }\r\n\r\n            const v$ = useVuelidate(rules, state)\r\n\r\n            const isValidForm = computed(() => {\r\n                return !v$.value.$invalid\r\n            })\r\n\r\n            const submitForgot = async () => {\r\n                if (isValidForm.value) {\r\n                    loading.value = true\r\n\r\n                    auth.forgot(state.email).finally(() => {\r\n                        loading.value = false\r\n                    })\r\n                }\r\n            }\r\n\r\n            return {\r\n                loading,\r\n                state,\r\n                v$,\r\n                isValidForm,\r\n                submitForgot\r\n            }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style>\r\n    #k-forgot {\r\n        @apply w-full sm:w-96;\r\n    }\r\n</style>\r\n"],"names":["_sfc_main","defineComponent","auth","inject","loading","ref","state","reactive","v$","useVuelidate","email","required","isValidForm","computed","__name","_createElementVNode","_hoisted_4","_resolveComponent","_openBlock","_createBlock","_component_k_card","_withCtx","_hoisted_1","_hoisted_2","_cache","_withModifiers","args","_ctx","_hoisted_3","_createVNode","_component_k_input","$event","_hoisted_5","_hoisted_6","_component_k_button","_component_router_link"],"mappings":"2UAwDI,MAAAA,EAAeC,EAAgB,CAC3B,KAAM,iBAEN,OAAQ,CACE,MAAAC,EAAOC,EAAO,OAAO,EACrBC,EAAUC,EAAI,EAAK,EAEnBC,EAAQC,EAAS,CACnB,MAAO,EAAA,CACV,EAMKC,EAAKC,EAJG,CACV,MAAO,CAAE,MAAAC,EAAO,SAAAC,CAAS,CAAA,EAGEL,CAAK,EAE9BM,EAAcC,EAAS,IAClB,CAACL,EAAG,MAAM,QACpB,EAYM,MAAA,CACH,QAAAJ,EACA,MAAAE,EACA,GAAAE,EACA,YAAAI,EACA,aAfiBE,EAAA,SAAY,CACzBF,EAAY,QACZR,EAAQ,MAAQ,GAEhBF,EAAK,OAAOI,EAAM,KAAK,EAAE,QAAQ,IAAM,CACnCF,EAAQ,MAAQ,EAAA,CACnB,EACL,EAPiB,eAejB,CAER,CACJ,CAAC,UC3FW,CAAU,MAAA,iEAMOW,EAAA,KAAA,CAAA,MAAA,8CAAA,EAAA,2BAAA,UAWJ,MAAM,QAMdC,EAAA,CAAA,MAAM,wLA1BvBC,EA8CS,QAAA,SA7CLC,EA4CM,EAAAC,EAAAC,EAAA,CAAA,GAAA,YAAA,CAAA,QA3CFC,EAIM,IAAA,CAAAN,EAEN,MAoCOO,EAAA,CAAAC,YAnCH,SAAAC,EAAA,KAeMA,EAfN,GAeMC,EAAA,IAAAC,IAAAC,EAAA,cAAAA,EAAA,aAAA,GAAAD,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,CAbWX,EAAA,MAAMa,EAAK,CAAAC,EAAAC,EAAA,CACpB,WAAKH,EAAO,MAAA,MACZ,sBAAYH,EAAc,KAAAA,EAAA,GAAAO,GAAAJ,EAAA,MAAA,MAAAI,GAC1B,KAAK,QACL,YAAY,eACX,MAAM,QAAA,SAAA,IAGX,OAIMJ,EAAA,GAAA,MAAA,aAAA,EAHF,qBAEM,QAFN,CAAA,EACiCZ,EAAA,MAAAC,EAAA,CAAAD,EAAA,MAAAiB,EAAA,sBAKzC,CAAA,CAAA,CAAA,IAEkB,MAAOC,EAAA,CAAAJ,EACZK,EAAoB,CACzB,QAAMP,EAAA,QACL,KAAA,qBACD,MAAK,cAAA,SAAA,CAAAA,EAAA,4DAKT,EAAA,CAAA,EACK,EAAI,CAAiB,UAAA,UAAA,CAAA,EAAAE,EAChBM,EAAuB,CAAA,GAAA,CAAA,KAAA,OAAA"}