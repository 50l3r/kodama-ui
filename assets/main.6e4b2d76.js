var P=Object.defineProperty;var d=(e,o)=>P(e,"name",{value:o,configurable:!0});import{u as U,d as C,J as R,a as r,F as b,W as L,l as S,r as u,o as s,f as A,t as T,g as m,e as a,w as v,b as p,k as K,i as x,a0 as z,p as J,v as G,a6 as I}from"./vue.esm-bundler.5c09a9bb.js";import{u as N}from"./query.d5e34601.js";import{u as X,v as q,s as H}from"./app.825b31d1.js";import{A as Q}from"./index.7fcb4b4b.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";import{k as Y}from"./iframe.74a013c6.js";const Z=[],ee=d(function(){const e=U(),o=[{separator:!0}];return[...e?e.proxy.menu():[],...o,...Z]},"useMenu"),B=C({name:"KMenu",props:{collapsed:{type:Boolean,default:!1}},setup(){const e=X(),o=ee(),c=d(t=>e.path.indexOf(t.toString())!==-1,"hasActiveChildren"),_=d(t=>t.auth?t.auth:!0,"checkRoles"),k=d(t=>{if(t.auth)return t.auth;if(t.pages)for(let l=0;l<t.pages.length;l++){const i=t.pages[l];if(i.auth)return i.auth;if(i.pages)for(let f=0;f<i.pages.length;f++){const n=i.pages[f];if(_(n))return!0}}return!1},"hasOneAccess"),g=d(()=>{let t=[];o.forEach(i=>{i.pages&&i.pages.forEach(f=>{f.pages&&t.push({id:`k-menu-dropdown-${f.title}`,triggerEl:document.getElementById(`k-menu-dropdown-${f.title}`),targetEl:document.getElementById(`k-menu-dropdown-${f.title}-body`),active:!1})})});const l={alwaysOpen:!0,activeClasses:"bg-gray-800 text-gray-200",inactiveClasses:"text-gray-200"};new Q(t,l)},"initCollapse");return R(()=>{g()}),{hasActiveChildren:c,hasOneAccess:k,menu:o,version:q,checkRoles:_}}});const te={key:0,class:"k-menu-header"},oe={key:1,class:"k-menu-separator"},se={key:0},ne={class:"k-menu-item"},ae={key:0,class:"k-menu-icon"},le={key:1,class:"k-menu-title"},ie=["id"],ce={key:0,class:"k-menu-icon"},re={key:1,class:"k-menu-title"},de=["id"],ue={key:0},pe={class:"k-menu-item"},_e={key:0,class:"k-menu-icon",type:"fal"},fe={key:1,class:"k-menu-title"};function ge(e,o,c,_,k,g){const t=u("k-icon"),l=u("k-tooltip");return s(),r("ul",{class:S(["k-menu",{"k-menu-collapsed":e.collapsed}])},[(s(!0),r(b,null,L(e.menu,(i,f)=>(s(),r(b,{key:f},[e.checkRoles(i)?(s(),r(b,{key:0},[i.heading&&e.hasOneAccess(i)?(s(),r("li",te,[e.collapsed?m("",!0):(s(),r(b,{key:0},[A(T(i.heading),1)],64))])):i.separator?(s(),r("li",oe)):m("",!0),(s(!0),r(b,null,L(i.pages,(n,$)=>(s(),r(b,{key:$},[e.checkRoles(n)?(s(),r(b,{key:0},[n.pages?e.hasOneAccess(n)?(s(),r("li",{key:1,class:S({show:e.hasActiveChildren(n.route)})},[a(l,{title:n.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[p("button",{id:`k-menu-dropdown-${n.title}`,class:"k-menu-item"},[n.icon?(s(),r("span",ce,[a(t,{icon:n.icon,type:"fal"},null,8,["icon"])])):m("",!0),e.collapsed?m("",!0):(s(),r("span",re,T(n.title),1)),n.pages&&!e.collapsed?(s(),K(t,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):m("",!0)],8,ie)]),_:2},1032,["title","disabled"]),p("ul",{id:`k-menu-dropdown-${n.title}-body`,class:"k-menu-sub hidden"},[(s(!0),r(b,null,L(n.pages,(y,w)=>(s(),r(b,{key:w},[y.title&&e.checkRoles(y)?(s(),r("li",ue,[a(l,{title:y.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[p("button",pe,[y.icon?(s(),r("span",_e,[a(t,{icon:y.icon,type:"fal"},null,8,["icon"])])):m("",!0),e.collapsed?m("",!0):(s(),r("span",fe,T(y.title),1))])]),_:2},1032,["title","disabled"])])):m("",!0)],64))),128))],8,de)],2)):m("",!0):(s(),r("li",se,[a(l,{title:n.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[p("button",ne,[n.icon?(s(),r("span",ae,[a(t,{icon:n.icon,type:"fal"},null,8,["icon"])])):m("",!0),e.collapsed?m("",!0):(s(),r("span",le,T(n.title),1)),n.pages&&!e.collapsed?(s(),K(t,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):m("",!0)])]),_:2},1032,["title","disabled"])]))],64)):m("",!0)],64))),128))],64)):m("",!0)],64))),128))],2)}d(ge,"_sfc_render$6");const me=M(B,[["render",ge],["__scopeId","data-v-93a75952"]]);B.__docgenInfo={displayName:"KMenu",exportName:"default",description:"",tags:{},props:[{name:"collapsed",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}]};const W=C({name:"KAside",components:{KMenu:me},setup(){const e=d(c=>typeof z(c)!="string","isComponent");return{collapsed:x({get(){return N().get("aside.collapsed")||!1},set(c){N().set("aside.collapsed",c)}}),isComponent:e}}});const ke={class:"overflow-y-auto py-5 px-3 h-full flex-1"},he={class:"justify-center p-4 space-x-4"};function ve(e,o,c,_,k,g){const t=u("k-logo"),l=u("k-button"),i=u("k-menu"),f=u("k-aside-footer");return s(),r("aside",{class:S(["k-aside h-screen bg-sidebar text-gray-100 flex flex-col",{"k-aside-collapsed":e.collapsed}])},[p("div",{class:S(["px-3 pb-5 pt-5 flex relative",e.collapsed?"justify-center":"justify-between"])},[a(t,{dark:"",side:!e.collapsed,class:"cursor-pointer",onClick:o[0]||(o[0]=n=>e.collapsed=!1)},null,8,["side"]),e.collapsed?(s(),K(l,{key:1,icon:"chevrons-right",link:"",color:"primary",class:"absolute top-0 right-0 -m-3 mt-5",onClick:o[2]||(o[2]=n=>e.collapsed=!1)})):(s(),K(l,{key:0,icon:"chevrons-left",link:"",color:"primary",class:"-mr-2",onClick:o[1]||(o[1]=n=>e.collapsed=!0)}))],2),p("div",ke,[a(i,{collapsed:e.collapsed},null,8,["collapsed"])]),p("div",he,[a(f)])],2)}d(ve,"_sfc_render$5");const ye=M(W,[["render",ve],["__scopeId","data-v-dd899477"]]);W.__docgenInfo={displayName:"KAside",exportName:"default",description:"",tags:{}};function be(e={}){const{immediate:o=!1,onNeedRefresh:c,onOfflineReady:_,onRegistered:k,onRegisteredSW:g,onRegisterError:t}=e;let l,i,f,n;const $=d(async(w=!0)=>{await f,w&&(l==null||l.addEventListener("controlling",E=>{E.isUpdate&&window.location.reload()})),await(n==null?void 0:n())},"updateServiceWorker");async function y(){if("serviceWorker"in navigator){const{Workbox:w,messageSW:E}=await Y(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);n=d(async()=>{i&&i.waiting&&await E(i.waiting,{type:"SKIP_WAITING"})},"sendSkipWaitingMessage"),l=new w("/sw.js",{scope:"/",type:"classic"}),l.addEventListener("activated",h=>{h.isUpdate||_==null||_()});{const h=d(()=>{c==null||c()},"showSkipWaitingPrompt");l.addEventListener("waiting",h),l.addEventListener("externalwaiting",h)}l.register({immediate:o}).then(h=>{i=h,g?g("/sw.js",h):k==null||k(h)}).catch(h=>{t==null||t(h)})}}return d(y,"register"),f=y(),$}d(be,"registerSW");const j=C({name:"KUpdater",setup(){let e=J(!1),o=null;const c=d(()=>{o&&o(!0)},"update");return R(()=>{"serviceWorker"in navigator&&(o=be({onNeedRefresh(){e.value=!0},onRegistered(_){_&&setInterval(()=>{_.update()},6e4)}}))}),{update:c,updateAvailable:e}}});function $e(e,o,c,_,k,g){const t=u("k-button"),l=u("k-tooltip");return e.updateAvailable?(s(),K(l,{key:0,title:"\u{1F37E} Actualizaci\xF3n disponible",placement:"left"},{default:v(()=>[a(t,{neon:"",color:"success",icon:"cloud-arrow-down",onClick:e.update},null,8,["onClick"])]),_:1})):m("",!0)}d($e,"_sfc_render$4");const we=M(j,[["render",$e]]);j.__docgenInfo={displayName:"KUpdater",exportName:"default",description:"",tags:{}};const D=C({name:"KTheme",setup(){const e=x(()=>N().get("darkMode"));return{toggleTheme:d(()=>{const c=N();e.value?(c.set("darkMode",!1),document.getElementsByTagName("html")[0].classList.remove("dark"),document.getElementsByTagName("html")[0].classList.add("light")):(c.set("darkMode",!0),document.getElementsByTagName("html")[0].classList.remove("light"),document.getElementsByTagName("html")[0].classList.add("dark"))},"toggleTheme"),darkMode:e}}});function Ne(e,o,c,_,k,g){const t=u("k-button");return s(),K(t,{outline:"",color:"gray",icon:["fal",e.darkMode?"moon":"sun"],onClick:e.toggleTheme},null,8,["icon","onClick"])}d(Ne,"_sfc_render$3");const Ce=M(D,[["render",Ne]]);D.__docgenInfo={displayName:"KTheme",exportName:"default",description:"",tags:{}};const F=C({name:"KTopbar",components:{KUpdater:we,KTheme:Ce},setup(){const e=G("$auth"),o=d(()=>{e.logout()},"logout"),c=x(()=>e.getLastName()||"Jhon"),_=x(()=>{const g=e.getName()||"Jhon",t=e.getLastName()||"Doe";return`${g} ${t}`}),k=x({get(){return N().get("aside.collapsed")||!1},set(g){N().set("aside.collapsed",g)}});return{firstname:c,fullname:_,searchEnabled:H,logout:o,collapsed:k}}}),Me={class:"px-4 lg:px-6 py-2.5 bg-sidebar text-gray-100"},xe={class:"flex flex-wrap items-center"},Ke={class:"flex sm:hidden"},Ee={class:"hidden sm:flex justify-start items-center"},Ae=p("div",{class:"ml-auto"},null,-1),Te={class:"flex flex-row gap-4"},Se={class:"flex items-center lg:order-2"},Le={class:"flex gap-4 items-center"},Re=p("br",null,null,-1);function Be(e,o,c,_,k,g){const t=u("k-button"),l=u("k-toolbar-search"),i=u("k-updater"),f=u("k-theme"),n=u("k-avatar"),$=u("k-icon"),y=u("router-link"),w=u("k-dropdown-item"),E=u("k-dropdown");return s(),r("header",null,[p("nav",Me,[p("div",xe,[p("div",Ke,[a(t,{icon:"chevrons-right",link:"",color:"white",onClick:o[0]||(o[0]=h=>e.collapsed=!1)})]),p("div",Ee,[a(l)]),Ae,p("div",Te,[a(i),a(f),p("div",Se,[a(E,{click:""},{header:v(()=>[p("div",Le,[a(n,{name:e.fullname,size:40,tooltip:!1},null,8,["name"]),p("div",null,[A(" Bienvenido "),Re,p("strong",null,T(e.firstname),1)])])]),content:v(()=>[a(w,null,{default:v(()=>[a(y,{to:"/pages/profile/overview"},{default:v(()=>[a($,{icon:"address-card",type:"fal",class:"mr-2"}),A(" Mi Perfil ")]),_:1})]),_:1}),a(w,null,{default:v(()=>[a(y,{to:"/pages/profile/overview"},{default:v(()=>[a($,{icon:"gear",type:"fal",class:"mr-2"}),A(" Configuraci\xF3n ")]),_:1})]),_:1})]),footer:v(()=>[p("a",{class:"text-danger cursor-pointer block",onClick:o[1]||(o[1]=h=>e.logout())},[a($,{icon:"right-from-bracket",class:"mr-2"}),A(" Cerrar sesi\xF3n ")])]),default:v(()=>[a(n,{name:e.fullname,size:42,tooltip:!1,square:"",class:"cursor-pointer"},null,8,["name"])]),_:1})])])])])])}d(Be,"_sfc_render$2");const We=M(F,[["render",Be]]);F.__docgenInfo={displayName:"KTopbar",exportName:"default",description:"",tags:{}};const O=C({name:"KDebug",setup(){const e=N();return{debug:x(()=>e.get("debug"))}}}),je="_debug_1nu6e_1",De={debug:je},Fe=I('<div class="block sm:hidden">XS</div><div class="hidden sm:block md:hidden">SM</div><div class="hidden md:block lg:hidden">MD</div><div class="hidden lg:block xl:hidden">LG</div><div class="hidden xl:block">XL</div>',5),Oe=[Fe];function Ve(e,o,c,_,k,g){return e.debug?(s(),r("div",{key:0,class:S(e.$style.debug)},Oe,2)):m("",!0)}d(Ve,"_sfc_render$1");const Pe={$style:De},Ue=M(O,[["render",Ve],["__cssModules",Pe]]);O.__docgenInfo={displayName:"KDebug",exportName:"default",description:"",tags:{}};const V=C({name:"KMain",components:{KAside:ye,KDebug:Ue,KToolbar:We},setup(){return{}}}),ze={class:"flex flex-row bg-white dark:bg-gray-800"},Je={id:"k-wrapper",class:"flex flex-col flex-row-fluid w-full bg-gray-100 dark:bg-gray-900 min-h-screen"};function Ge(e,o,c,_,k,g){const t=u("k-aside"),l=u("k-toolbar"),i=u("router-view"),f=u("k-debug");return s(),r(b,null,[p("div",ze,[a(t),p("div",Je,[a(l),a(i)])]),a(f)],64)}d(Ge,"_sfc_render");const et=M(V,[["render",Ge]]);V.__docgenInfo={displayName:"KMain",exportName:"default",description:"",tags:{}};export{et as default};
//# sourceMappingURL=main.6e4b2d76.js.map
