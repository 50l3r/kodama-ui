var aa=Object.defineProperty;var r=(e,a)=>aa(e,"name",{value:a,configurable:!0});import{i as N,q as I,y as ra,d as L,r as _,o as u,k as w,J as ye,a as C,b as k,n as j,f as B,t as U,w as F,e as $,j as H,T as ae,g as E,F as P,Y as Fe,x as la,U as mt,I as pt,_ as ia,m as gt,a0 as oa,a1 as sa}from"./vue.esm-bundler.e9a14992.js";import{a as fe,u as ua}from"./query.3fdcaab5.js";import{c as Se}from"./iframe.781b7dd4.js";import{d as Pe}from"./index.5dafb763.js";import{c as da}from"./chance.4dc9e851.js";import{_ as x}from"./+plugin-vue+export-helper.ed6a1c48.js";import{m as ca}from"./medium-zoom.esm.33ca94a8.js";import{K as fa}from"./k-badge.a2d670cf.js";import{u as vt}from"./utils.afff62ba.js";const ma={ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)},seed(e,a){return new da.exports.Chance(a).shuffle(e)}},pa={index:{type:String,required:!0,description:"Clave primaria de la tabla"},store:{type:String,required:!1,description:"Nombre \xFAnico para almacenamiento en cache"},columns:{type:Array,required:!0,description:"Array con las columnas a mostrar"},data:{type:Array,default:()=>[],description:"Array con los datos a mostrar"},total:{type:Number,default:()=>0,description:"Numero total de registros para la paginaci\xF3n"},loading:{type:Boolean,default:!1,description:"Indica si se estan cargando los datos"},selected:{type:Array,required:!1,description:"Indica si se muestra la columna de checkbox y que items estan seleccionados"},header:{type:Boolean,default:!0,description:"Muestra u oculta la cabecera de la tabla"},clean:{type:Boolean,default:!1,description:"Elimina los estilos por defecto del componente"},requiredFilters:{type:Object,default:null,description:"Filtros requeridos para la consulta. No se pueden eliminar"},card:{type:[Boolean,String],default:!1,description:"Muestra los datos en forma de tarjetas"},cardTag:{type:String,default:"div"},cardClasses:{type:[String,Array],default:()=>[]}};function ga(e,a){const p=N(()=>{const m=e.columns,v=[];return m==null||m.forEach(o=>{let d=o.width||"auto";o.slot==="_image"&&(d="5rem"),o.slot&&["header","footer","content"].includes(o.slot)&&(o.slot="");const g={title:o.title,index:o.index||"",order:o.order||!1,search:o.search||!1,nowrap:o.nowrap||!0,width:d,align:o.align||"left",slot:o.slot||"",makeup:o.makeup||void 0,filter:o.filter,style:{position:"relative"}};g.nowrap&&(g.style["white-space"]="nowrap"),g.align&&(g.style["text-align"]=g.align),g.width&&(g.style.width=g.width),o.style&&(g.style={...g.style,...o.style}),v.push(g)}),v}),b=N(()=>{let m=1;return e.selected!==void 0&&m++,m+=p.value.length,m});return{cols:p,colLength:b}}r(ga,"useColumn");function ya(e){const a=r(o=>{if(e.selected){const d=e.index||"id",g=e.selected.findIndex(T=>T[d]===e.data[o][d]);g>-1?e.selected.splice(g,1):e.selected.push(e.data[o])}},"toggleCheck"),p=N(()=>{const o=e.index||"id";return e.data.map(d=>!!(e.selected&&e.selected.findIndex(T=>T[o]===d[o])>-1))}),b=r(()=>{if(e.selected)if(e.selected.length>=e.data.length)e.selected.splice(0,e.selected.length);else{e.selected.splice(0,e.selected.length);for(let d=0;d<e.data.length;d++)e.selected.push(e.data[d])}},"toggleGlobalCheck"),m=r(()=>{if(e.selected){const o=e.index||"id";for(let d=0;d<e.selected.length;d++){const g=e.selected[d],T=e.data.findIndex(S=>S[o]===g[d][o]);T===-1&&e.selected.splice(T,1)}}},"populateChecks"),v=N(()=>!!(e.selected&&e.selected.length>=e.data.length));return{toggleCheck:a,isRowChecked:p,toggleGlobalCheck:b,populateChecks:m,isCheckedAll:v}}r(ya,"useCheck");function va(e){const a=I([]);return{isRowOpen:N(()=>e.data.map((m,v)=>a.value.includes(v))),toggleRow:r(m=>{a.value.includes(m)?a.value=a.value.filter(v=>v!==m):a.value.push(m)},"toggleRow")}}r(va,"useCollapse");var Be={exports:{}};(function(e,a){var p=200,b="__lodash_hash_undefined__",m=9007199254740991,v="[object Arguments]",o="[object Array]",d="[object Boolean]",g="[object Date]",T="[object Error]",S="[object Function]",s="[object GeneratorFunction]",f="[object Map]",V="[object Number]",M="[object Object]",z="[object Promise]",G="[object RegExp]",Y="[object Set]",Z="[object String]",re="[object Symbol]",Q="[object WeakMap]",le="[object ArrayBuffer]",i="[object DataView]",A="[object Float32Array]",y="[object Float64Array]",ie="[object Int8Array]",me="[object Int16Array]",ve="[object Int32Array]",be="[object Uint8Array]",oe="[object Uint8ClampedArray]",he="[object Uint16Array]",Le="[object Uint32Array]",Kt=/[\\^$.*+?()[\]{}|]/g,jt=/\w*$/,It=/^\[object .+?Constructor\]$/,qt=/^(?:0|[1-9]\d*)$/,O={};O[v]=O[o]=O[le]=O[i]=O[d]=O[g]=O[A]=O[y]=O[ie]=O[me]=O[ve]=O[f]=O[V]=O[M]=O[G]=O[Y]=O[Z]=O[re]=O[be]=O[oe]=O[he]=O[Le]=!0,O[T]=O[S]=O[Q]=!1;var Mt=typeof Se=="object"&&Se&&Se.Object===Object&&Se,Rt=typeof self=="object"&&self&&self.Object===Object&&self,W=Mt||Rt||Function("return this")(),xe=a&&!a.nodeType&&a,ze=xe&&!0&&e&&!e.nodeType&&e,Et=ze&&ze.exports===xe;function Pt(t,n){return t.set(n[0],n[1]),t}r(Pt,"addMapEntry");function Bt(t,n){return t.add(n),t}r(Bt,"addSetEntry");function Lt(t,n){for(var l=-1,c=t?t.length:0;++l<c&&n(t[l],l,t)!==!1;);return t}r(Lt,"arrayEach");function xt(t,n){for(var l=-1,c=n.length,K=t.length;++l<c;)t[K+l]=n[l];return t}r(xt,"arrayPush");function De(t,n,l,c){var K=-1,q=t?t.length:0;for(c&&q&&(l=t[++K]);++K<q;)l=n(l,t[K],K,t);return l}r(De,"arrayReduce");function zt(t,n){for(var l=-1,c=Array(t);++l<t;)c[l]=n(l);return c}r(zt,"baseTimes");function Dt(t,n){return t==null?void 0:t[n]}r(Dt,"getValue");function Ue(t){var n=!1;if(t!=null&&typeof t.toString!="function")try{n=!!(t+"")}catch{}return n}r(Ue,"isHostObject");function Ge(t){var n=-1,l=Array(t.size);return t.forEach(function(c,K){l[++n]=[K,c]}),l}r(Ge,"mapToArray");function Oe(t,n){return function(l){return t(n(l))}}r(Oe,"overArg");function He(t){var n=-1,l=Array(t.size);return t.forEach(function(c){l[++n]=c}),l}r(He,"setToArray");var Ut=Array.prototype,Gt=Function.prototype,ke=Object.prototype,Ve=W["__core-js_shared__"],Ye=function(){var t=/[^.]+$/.exec(Ve&&Ve.keys&&Ve.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),We=Gt.toString,X=ke.hasOwnProperty,_e=ke.toString,Ht=RegExp("^"+We.call(X).replace(Kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Je=Et?W.Buffer:void 0,Ze=W.Symbol,Qe=W.Uint8Array,Yt=Oe(Object.getPrototypeOf,Object),Wt=Object.create,Jt=ke.propertyIsEnumerable,Zt=Ut.splice,Xe=Object.getOwnPropertySymbols,Qt=Je?Je.isBuffer:void 0,Xt=Oe(Object.keys,Object),Ae=de(W,"DataView"),pe=de(W,"Map"),Ne=de(W,"Promise"),Ke=de(W,"Set"),je=de(W,"WeakMap"),ge=de(Object,"create"),en=ne(Ae),tn=ne(pe),nn=ne(Ne),an=ne(Ke),rn=ne(je),et=Ze?Ze.prototype:void 0,tt=et?et.valueOf:void 0;function ee(t){var n=-1,l=t?t.length:0;for(this.clear();++n<l;){var c=t[n];this.set(c[0],c[1])}}r(ee,"Hash");function ln(){this.__data__=ge?ge(null):{}}r(ln,"hashClear");function on(t){return this.has(t)&&delete this.__data__[t]}r(on,"hashDelete");function sn(t){var n=this.__data__;if(ge){var l=n[t];return l===b?void 0:l}return X.call(n,t)?n[t]:void 0}r(sn,"hashGet");function un(t){var n=this.__data__;return ge?n[t]!==void 0:X.call(n,t)}r(un,"hashHas");function dn(t,n){var l=this.__data__;return l[t]=ge&&n===void 0?b:n,this}r(dn,"hashSet"),ee.prototype.clear=ln,ee.prototype.delete=on,ee.prototype.get=sn,ee.prototype.has=un,ee.prototype.set=dn;function J(t){var n=-1,l=t?t.length:0;for(this.clear();++n<l;){var c=t[n];this.set(c[0],c[1])}}r(J,"ListCache");function cn(){this.__data__=[]}r(cn,"listCacheClear");function fn(t){var n=this.__data__,l=$e(n,t);if(l<0)return!1;var c=n.length-1;return l==c?n.pop():Zt.call(n,l,1),!0}r(fn,"listCacheDelete");function mn(t){var n=this.__data__,l=$e(n,t);return l<0?void 0:n[l][1]}r(mn,"listCacheGet");function pn(t){return $e(this.__data__,t)>-1}r(pn,"listCacheHas");function gn(t,n){var l=this.__data__,c=$e(l,t);return c<0?l.push([t,n]):l[c][1]=n,this}r(gn,"listCacheSet"),J.prototype.clear=cn,J.prototype.delete=fn,J.prototype.get=mn,J.prototype.has=pn,J.prototype.set=gn;function se(t){var n=-1,l=t?t.length:0;for(this.clear();++n<l;){var c=t[n];this.set(c[0],c[1])}}r(se,"MapCache");function yn(){this.__data__={hash:new ee,map:new(pe||J),string:new ee}}r(yn,"mapCacheClear");function vn(t){return Ce(this,t).delete(t)}r(vn,"mapCacheDelete");function bn(t){return Ce(this,t).get(t)}r(bn,"mapCacheGet");function hn(t){return Ce(this,t).has(t)}r(hn,"mapCacheHas");function kn(t,n){return Ce(this,t).set(t,n),this}r(kn,"mapCacheSet"),se.prototype.clear=yn,se.prototype.delete=vn,se.prototype.get=bn,se.prototype.has=hn,se.prototype.set=kn;function ue(t){this.__data__=new J(t)}r(ue,"Stack");function _n(){this.__data__=new J}r(_n,"stackClear");function $n(t){return this.__data__.delete(t)}r($n,"stackDelete");function Cn(t){return this.__data__.get(t)}r(Cn,"stackGet");function wn(t){return this.__data__.has(t)}r(wn,"stackHas");function Tn(t,n){var l=this.__data__;if(l instanceof J){var c=l.__data__;if(!pe||c.length<p-1)return c.push([t,n]),this;l=this.__data__=new se(c)}return l.set(t,n),this}r(Tn,"stackSet"),ue.prototype.clear=_n,ue.prototype.delete=$n,ue.prototype.get=Cn,ue.prototype.has=wn,ue.prototype.set=Tn;function Sn(t,n){var l=Me(t)||Jn(t)?zt(t.length,String):[],c=l.length,K=!!c;for(var q in t)(n||X.call(t,q))&&!(K&&(q=="length"||Gn(q,c)))&&l.push(q);return l}r(Sn,"arrayLikeKeys");function nt(t,n,l){var c=t[n];(!(X.call(t,n)&&it(c,l))||l===void 0&&!(n in t))&&(t[n]=l)}r(nt,"assignValue");function $e(t,n){for(var l=t.length;l--;)if(it(t[l][0],n))return l;return-1}r($e,"assocIndexOf");function Fn(t,n){return t&&at(n,Re(n),t)}r(Fn,"baseAssign");function Ie(t,n,l,c,K,q,D){var R;if(c&&(R=q?c(t,K,q,D):c(t)),R!==void 0)return R;if(!we(t))return t;var ut=Me(t);if(ut){if(R=zn(t),!n)return Bn(t,R)}else{var ce=te(t),dt=ce==S||ce==s;if(Qn(t))return jn(t,n);if(ce==M||ce==v||dt&&!q){if(Ue(t))return q?t:{};if(R=Dn(dt?{}:t),!n)return Ln(t,Fn(R,t))}else{if(!O[ce])return q?t:{};R=Un(t,ce,Ie,n)}}D||(D=new ue);var ct=D.get(t);if(ct)return ct;if(D.set(t,R),!ut)var ft=l?xn(t):Re(t);return Lt(ft||t,function(Ee,Te){ft&&(Te=Ee,Ee=t[Te]),nt(R,Te,Ie(Ee,n,l,c,Te,t,D))}),R}r(Ie,"baseClone");function On(t){return we(t)?Wt(t):{}}r(On,"baseCreate");function Vn(t,n,l){var c=n(t);return Me(t)?c:xt(c,l(t))}r(Vn,"baseGetAllKeys");function An(t){return _e.call(t)}r(An,"baseGetTag");function Nn(t){if(!we(t)||Yn(t))return!1;var n=st(t)||Ue(t)?Ht:It;return n.test(ne(t))}r(Nn,"baseIsNative");function Kn(t){if(!lt(t))return Xt(t);var n=[];for(var l in Object(t))X.call(t,l)&&l!="constructor"&&n.push(l);return n}r(Kn,"baseKeys");function jn(t,n){if(n)return t.slice();var l=new t.constructor(t.length);return t.copy(l),l}r(jn,"cloneBuffer");function qe(t){var n=new t.constructor(t.byteLength);return new Qe(n).set(new Qe(t)),n}r(qe,"cloneArrayBuffer");function In(t,n){var l=n?qe(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.byteLength)}r(In,"cloneDataView");function qn(t,n,l){var c=n?l(Ge(t),!0):Ge(t);return De(c,Pt,new t.constructor)}r(qn,"cloneMap");function Mn(t){var n=new t.constructor(t.source,jt.exec(t));return n.lastIndex=t.lastIndex,n}r(Mn,"cloneRegExp");function Rn(t,n,l){var c=n?l(He(t),!0):He(t);return De(c,Bt,new t.constructor)}r(Rn,"cloneSet");function En(t){return tt?Object(tt.call(t)):{}}r(En,"cloneSymbol");function Pn(t,n){var l=n?qe(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.length)}r(Pn,"cloneTypedArray");function Bn(t,n){var l=-1,c=t.length;for(n||(n=Array(c));++l<c;)n[l]=t[l];return n}r(Bn,"copyArray");function at(t,n,l,c){l||(l={});for(var K=-1,q=n.length;++K<q;){var D=n[K],R=c?c(l[D],t[D],D,l,t):void 0;nt(l,D,R===void 0?t[D]:R)}return l}r(at,"copyObject");function Ln(t,n){return at(t,rt(t),n)}r(Ln,"copySymbols");function xn(t){return Vn(t,Re,rt)}r(xn,"getAllKeys");function Ce(t,n){var l=t.__data__;return Hn(n)?l[typeof n=="string"?"string":"hash"]:l.map}r(Ce,"getMapData");function de(t,n){var l=Dt(t,n);return Nn(l)?l:void 0}r(de,"getNative");var rt=Xe?Oe(Xe,Object):ta,te=An;(Ae&&te(new Ae(new ArrayBuffer(1)))!=i||pe&&te(new pe)!=f||Ne&&te(Ne.resolve())!=z||Ke&&te(new Ke)!=Y||je&&te(new je)!=Q)&&(te=r(function(t){var n=_e.call(t),l=n==M?t.constructor:void 0,c=l?ne(l):void 0;if(c)switch(c){case en:return i;case tn:return f;case nn:return z;case an:return Y;case rn:return Q}return n},"getTag"));function zn(t){var n=t.length,l=t.constructor(n);return n&&typeof t[0]=="string"&&X.call(t,"index")&&(l.index=t.index,l.input=t.input),l}r(zn,"initCloneArray");function Dn(t){return typeof t.constructor=="function"&&!lt(t)?On(Yt(t)):{}}r(Dn,"initCloneObject");function Un(t,n,l,c){var K=t.constructor;switch(n){case le:return qe(t);case d:case g:return new K(+t);case i:return In(t,c);case A:case y:case ie:case me:case ve:case be:case oe:case he:case Le:return Pn(t,c);case f:return qn(t,c,l);case V:case Z:return new K(t);case G:return Mn(t);case Y:return Rn(t,c,l);case re:return En(t)}}r(Un,"initCloneByTag");function Gn(t,n){return n=n==null?m:n,!!n&&(typeof t=="number"||qt.test(t))&&t>-1&&t%1==0&&t<n}r(Gn,"isIndex");function Hn(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}r(Hn,"isKeyable");function Yn(t){return!!Ye&&Ye in t}r(Yn,"isMasked");function lt(t){var n=t&&t.constructor,l=typeof n=="function"&&n.prototype||ke;return t===l}r(lt,"isPrototype");function ne(t){if(t!=null){try{return We.call(t)}catch{}try{return t+""}catch{}}return""}r(ne,"toSource");function Wn(t){return Ie(t,!0,!0)}r(Wn,"cloneDeep");function it(t,n){return t===n||t!==t&&n!==n}r(it,"eq");function Jn(t){return Zn(t)&&X.call(t,"callee")&&(!Jt.call(t,"callee")||_e.call(t)==v)}r(Jn,"isArguments");var Me=Array.isArray;function ot(t){return t!=null&&Xn(t.length)&&!st(t)}r(ot,"isArrayLike");function Zn(t){return ea(t)&&ot(t)}r(Zn,"isArrayLikeObject");var Qn=Qt||na;function st(t){var n=we(t)?_e.call(t):"";return n==S||n==s}r(st,"isFunction");function Xn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=m}r(Xn,"isLength");function we(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}r(we,"isObject");function ea(t){return!!t&&typeof t=="object"}r(ea,"isObjectLike");function Re(t){return ot(t)?Sn(t):Kn(t)}r(Re,"keys");function ta(){return[]}r(ta,"stubArray");function na(){return!1}r(na,"stubFalse"),e.exports=Wn})(Be,Be.exports);const ba=Be.exports,h=ra({page:1,order:null,filter:null,search:"",limit:20,reset:!0,strict:!0});function bt(e,a){const p=r((s,f=null)=>{const V=fe();a.store&&(f?V.order(a.store).set(s,f):V.order(a.store).delete(s)),f?h.order?h.order[s]=f:h.order={[s]:f}:h.order&&h.order[s]&&delete h.order[s],h.reset=!0,h.page=1,e.emit("fetch",d.value)},"order"),b=r(s=>{const f=fe();a.store&&f.limit(a.store).set(s),h.limit=s,h.reset=!0,h.page=1,e.emit("fetch",d.value)},"limit"),m=r((s,f)=>{const V=fe();a.store&&(f!==null?V.filter(a.store).set(s,f):V.filter(a.store).delete(s)),f!==null?h.filter===null?h.filter={[s]:f}:h.filter[s]=f:f===null&&h.filter&&h.filter[s]&&delete h.filter[s],h.reset=!0,h.page=1,e.emit("fetch",d.value)},"filter"),v=r(s=>{const f=fe();a.store&&f.strict(a.store).set(s),h.strict=s,e.emit("fetch",d.value)},"strict"),o=r(()=>{const s=fe();a.store&&s.filter(a.store).reset(),h.page=1,h.order=null,h.filter=null,h.search="",h.reset=!0,h.strict=!0,e.emit("fetch",d.value)},"resetFilters"),d=N(()=>{let s=null;if(a.requiredFilters){const f=ba(a.requiredFilters);s=S(f,h.filter,h.strict)}else s=S(null,h.filter,h.strict);return{page:h.page,limit:h.limit,order:h.order,filter:s,reset:h.reset}}),g=r(()=>{const s=fe();if(a.store){const f=s.get(a.store);f&&(h.order=f.order,h.limit=f.limit,h.filter=f.filter,h.strict=f.strict)}},"loadStoreParams"),T=r(s=>{let f=[];return Array.isArray(s)?s.forEach(V=>{f=f.concat(T(V))}):typeof s=="object"&&Object.keys(s).forEach(V=>{const M=s[V];M&&(V==="$and"||V==="$or"?f=f.concat(T(M)):f.push({field:V,value:M}))}),f},"getFieldFilters"),S=r((s=null,f=null,V=!0)=>{if(!s&&!f)return null;if(s&&!f)return s;if(!s&&f)return{[V?"$and":"$or"]:f};if(s&&f){["$and","$or"].includes(Object.keys(s)[0])||(s={$and:[s]});const M=T(s),z=[];return Object.keys(f).forEach(G=>{M.find(Z=>Z.field===G)||z.push({[G]:f[G]})}),s&&(s.$and?V?s.$and.push({$and:z}):s.$and.push({$or:z}):s.$or&&(V?s.$or.push({$and:z}):s.$or.push({$or:z}))),s}},"mergeFilters");return{order:p,loadStoreParams:g,limit:b,filter:m,query:d,resetFilters:o,strict:v}}r(bt,"useFilter");const yt=I(!1);function ha(e,a){const{query:p}=bt(e,a),b=N(()=>a.data.length<a.total),m=r(()=>{b.value&&(h.page+=1,h.reset=!1,e.emit("fetch",p.value))},"loadMore"),v=N(()=>!!(a.loading||a.data.length>=a.total)),o=N(()=>a.data);return{isMore:b,loadMore:m,busy:v,data:o,refresh:r(()=>{h.page=1,h.reset=!0,e.emit("fetch",p.value)},"refresh")}}r(ha,"useFetch");const ht=L({name:"KTableDate",props:{value:{type:String,default:""}},setup(e){const a=N(()=>Pe(e.value).format("LL")),p=N(()=>ma.ucfirst(Pe(e.value).fromNow()));return{props:e,text:a,from:p}}});function ka(e,a,p,b,m,v){const o=_("k-date");return u(),w(o,{simple:"",value:e.value},null,8,["value"])}r(ka,"_sfc_render$c");const _a=x(ht,[["render",ka]]);ht.__docgenInfo={displayName:"KTableDate",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string"},defaultValue:{func:!1,value:"''"}}]};const kt=L({name:"KTableImage",props:{value:{type:String,default:""}},setup(e){const a=I();return ye(()=>{ca(a.value)}),{props:e,img:a}}}),$a="_image_1skvg_1",Ca={image:$a},wa=["src"];function Ta(e,a,p,b,m,v){return u(),C("div",{class:j(["rounded-4",e.$style.image])},[k("img",{ref:"img",src:e.value,"data-zoom":""},null,8,wa)],2)}r(Ta,"_sfc_render$b");const Sa={$style:Ca},Fa=x(kt,[["render",Ta],["__cssModules",Sa]]);kt.__docgenInfo={displayName:"KTableImage",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string"},defaultValue:{func:!1,value:"''"}}]};const _t=L({name:"KTableStatus",props:{value:{type:[String,Boolean,Number],default:""}},setup(e){const a=N(()=>typeof e.value=="string"?e.value!=="0":typeof e.value=="boolean"?e.value:typeof e.value=="number"?!!e.value:!1);return{props:e,status:a}}}),Oa={class:"badge badge-success"};function Va(e,a,p,b,m,v){return u(),C("span",Oa,[k("i",{class:j(["fad me-2",[e.status?"fa-check":"fa-times"]])},null,2),B(" "+U(e.status?"Activo":"Inactivo"),1)])}r(Va,"_sfc_render$a");const Aa=x(_t,[["render",Va]]);_t.__docgenInfo={displayName:"KTableStatus",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string|boolean|number"},defaultValue:{func:!1,value:"''"}}]};const $t=L({name:"KTablePrice",props:{value:{type:[String,Number],default:""}},setup(e){return{price:N(()=>{let p=e.value;return typeof p=="string"&&(p=parseFloat(p)),p.toFixed(2).replace(".",",")})}}}),Na={class:"price"};function Ka(e,a,p,b,m,v){return u(),C("span",Na,U(e.price)+" \u20AC",1)}r(Ka,"_sfc_render$9");const ja=x($t,[["render",Ka]]);$t.__docgenInfo={displayName:"KTablePrice",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string|number"},defaultValue:{func:!1,value:"''"}}]};const Ct=L({name:"KTableCode",components:{KBadge:fa},props:{value:{type:[String,Number],default:""}},setup(){return{}}});function Ia(e,a,p,b,m,v){const o=_("k-icon"),d=_("k-badge");return u(),w(d,{size:"xs"},{default:F(()=>[$(o,{icon:"qrcode",class:"mr-2"}),B(" "+U(e.value),1)]),_:1})}r(Ia,"_sfc_render$8");const qa=x(Ct,[["render",Ia]]);Ct.__docgenInfo={displayName:"KTableCode",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string|number"},defaultValue:{func:!1,value:"''"}}]};const wt=L({name:"KTableOrderFilter",props:{value:{type:[String,null],default:null}},emits:["order"],setup(e,a){return{order:r((b=null)=>{a.emit("order",b)},"order")}}}),Ma={class:"cursor-pointer"};function Ra(e,a,p,b,m,v){const o=_("k-icon");return u(),C("span",Ma,[e.value&&e.value==="asc"?(u(),C("a",{key:0,onClick:a[0]||(a[0]=d=>e.order(null))},[H(e.$slots,"default"),$(o,{icon:"sort-up",class:"ml-2"})])):e.value&&e.value==="desc"?(u(),C("a",{key:1,onClick:a[1]||(a[1]=d=>e.order("asc"))},[H(e.$slots,"default"),$(o,{icon:"sort-down",class:"ml-2"})])):(u(),C("a",{key:2,onClick:a[2]||(a[2]=d=>e.order("desc"))},[H(e.$slots,"default"),$(o,{icon:"sort",class:"ml-2"})]))])}r(Ra,"_sfc_render$7");const Ea=x(wt,[["render",Ra]]);wt.__docgenInfo={displayName:"KTableOrderFilter",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"'asc' | 'desc' | null"},defaultValue:{func:!1,value:"null"}}],events:[{name:"order"}],slots:[{name:"default"}]};const Tt=L({name:"KTableLimit",props:{value:{type:Number,default:20},loading:{type:Boolean,default:!1}},emits:["limit","nextPage"],setup(e,a){const p=I(!1);return{limit:r(v=>{a.emit("limit",v)},"limit"),loadMore:r(()=>{a.emit("nextPage")},"loadMore"),visible:p}}});const Pa={class:"text-center"};function Ba(e,a,p,b,m,v){const o=_("k-button"),d=_("k-icon"),g=_("k-tooltip");return u(),C("div",null,[$(o,{loading:e.loading,disabled:e.loading,size:"sm",class:"mr-2",onClick:a[0]||(a[0]=T=>e.loadMore())},{default:F(()=>[B(" Cargar m\xE1s ")]),_:1},8,["loading","disabled"]),$(g,{visible:e.visible},{content:F(()=>[k("ul",Pa,[k("li",null,[k("a",{class:j(["dropdown-item p-3 cursor-pointer",{active:e.value===10}]),onClick:a[2]||(a[2]=T=>e.limit(10))}," 10 ",2)]),k("li",null,[k("a",{class:j(["dropdown-item p-3 cursor-pointer",{active:e.value===20}]),onClick:a[3]||(a[3]=T=>e.limit(20))}," 20 ",2)]),k("li",null,[k("a",{class:j(["dropdown-item p-3 cursor-pointer",{active:e.value===30}]),onClick:a[4]||(a[4]=T=>e.limit(30))}," 30 ",2)]),k("li",null,[k("a",{class:j(["dropdown-item p-3 cursor-pointer",{active:e.value===50}]),onClick:a[5]||(a[5]=T=>e.limit(50))}," 50 ",2)]),k("li",null,[k("a",{class:j(["dropdown-item p-3 cursor-pointer",{active:e.value===100}]),onClick:a[6]||(a[6]=T=>e.limit(100))}," 100 ",2)])])]),default:F(()=>[$(o,{size:"sm",onClick:a[1]||(a[1]=T=>e.visible=!e.visible)},{default:F(()=>[$(d,{icon:"ellipsis"})]),_:1})]),_:1},8,["visible"])])}r(Ba,"_sfc_render$6");const La=x(Tt,[["render",Ba],["__scopeId","data-v-ead107a7"]]);Tt.__docgenInfo={displayName:"KTableLimit",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"number"},defaultValue:{func:!1,value:"20"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"limit"},{name:"nextPage"}]};const St=L({name:"KTableFilterSelect",props:{options:{type:Object,required:!0},value:{type:Object,default:null},modal:{type:Boolean,default:!1}},emits:["filter"],setup(e,a){const p=I("dropdown"),b=r((o,d)=>{a.emit("filter",{[o]:d})},"filter"),m=r(()=>{a.emit("filter",null)},"reset"),v=N(()=>e.value&&e.value.$eq!==void 0?e.value.$eq:null);return{dropdown:p,filter:b,reset:m,active:v}}});function xa(e,a,p,b,m,v){const o=_("k-icon"),d=_("k-dropdown-item"),g=_("k-dropdown"),T=_("k-select-option"),S=_("k-select");return e.modal?(u(),w(S,{key:1,size:"sm"},{default:F(()=>[(u(!0),C(P,null,ae(e.options,(s,f)=>(u(),w(T,{key:f,value:s.value,click:"filter('$eq', o.value)"},{default:F(()=>[s.icon?(u(),w(o,{key:0,class:"mr-2",icon:s.icon},null,8,["icon"])):E("",!0),B(" "+U(s.title),1)]),_:2},1032,["value"]))),128))]),_:1})):(u(),w(g,{key:0,tag:"span"},{content:F(()=>[$(d,{onClick:a[0]||(a[0]=s=>e.reset())},{default:F(()=>[$(o,{class:"mr-2",icon:"list"}),B(" Todo ")]),_:1}),(u(!0),C(P,null,ae(e.options,(s,f)=>(u(),w(d,{key:f,onClick:V=>e.filter("$eq",s.value)},{default:F(()=>[s.icon?(u(),w(o,{key:0,class:"mr-2",icon:s.icon},null,8,["icon"])):E("",!0),B(" "+U(s.title),1)]),_:2},1032,["onClick"]))),128))]),default:F(()=>[$(o,{icon:"filter",class:j([{"text-primary":e.active!==null},"ml-2 cursor-pointer"])},null,8,["class"])]),_:1}))}r(xa,"_sfc_render$5");const za=x(St,[["render",xa]]);St.__docgenInfo={displayName:"KTableFilterSelect",exportName:"default",description:"",tags:{},props:[{name:"options",type:{name:"KTableColumnFilter[]"},required:!0},{name:"value",type:{name:"Record<string, any> | null"},defaultValue:{func:!1,value:"null"}},{name:"modal",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"filter"}]};const Ft=L({name:"KTableFilterDate",props:{value:{type:Object,default:null},min:{type:String,default:""},max:{type:String,default:Pe().format("YYYY-MM-DD")},modal:{type:Boolean,default:!1}},emits:["filter"],setup(e,a){const p=I(!1),b=N(()=>e.value&&e.value.$gte&&e.value.$lte?[e.value.$gte,e.value.$lte]:"");return{filter:r(v=>{const o={$gte:`${v[0]} 00:00:00`,$lte:`${v[1]} 23:59:59`};a.emit("filter",o),p.value=!1},"filter"),defaultValue:b,visible:p}}});function Da(e,a,p,b,m,v){const o=_("k-icon"),d=_("k-datepicker"),g=_("k-tooltip");return e.modal?(u(),w(d,{key:1,"min-date":e.min,"max-date":e.max,range:!0,time:!1,clearable:!0,value:e.defaultValue,size:"sm",onChange:e.filter},null,8,["min-date","max-date","value","onChange"])):(u(),w(g,{key:0,visible:e.visible},{content:F(()=>[$(d,{"min-date":e.min,"max-date":e.max,range:!0,time:!1,clearable:!0,value:e.defaultValue,inline:"",onChange:e.filter},null,8,["min-date","max-date","value","onChange"])]),default:F(()=>[$(o,{icon:"calendar",class:j([{"text-primary":e.defaultValue},"ml-2 cursor-pointer"]),onClick:a[0]||(a[0]=T=>e.visible=!e.visible)},null,8,["class"])]),_:1},8,["visible"]))}r(Da,"_sfc_render$4");const Ua=x(Ft,[["render",Da]]);Ft.__docgenInfo={displayName:"KTableFilterDate",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"Record<string, any> | null"},defaultValue:{func:!1,value:"null"}},{name:"min",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"max",type:{name:"string"},defaultValue:{func:!1,value:"dayjs().format('YYYY-MM-DD')"}},{name:"modal",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"filter"}]};const Ot=L({name:"KTableFilterRange",props:{value:{type:Object,default:null},min:{type:Number,default:0},max:{type:Number,default:100}},emits:["filter"],setup(e,a){const p=vt(),b=I("dropdown"),m=I([0,0]),v=I(),o=r(()=>{const S=document.querySelector(`#${p}`);!S||(S.innerHTML="")},"initSlider");ye(()=>{o()});const d=N(()=>e.value&&e.value.$gte&&e.value.$lte?[e.value.$gte,e.value.$lte]:"");return{id:p,dropdown:b,filter:r(()=>{const S={$gte:m.value[0],$lte:m.value[1]};v.value.hide(),a.emit("filter",S)},"filter"),defaultValue:d,reset:r(()=>{v.value.hide(),a.emit("filter",null)},"reset")}}}),Ga={class:"flex items-center px-6 py-4"},Ha=["id"],Ya={class:"ms-10 flex align-items-center"};function Wa(e,a,p,b,m,v){const o=_("k-icon"),d=_("k-tooltip");return u(),w(d,null,{content:F(()=>[k("div",Ga,[k("div",{id:`${e.id}`,class:"noUi-target noUi-target-primary w-150px w-xxl-200px noUi-sm"},null,8,Ha),k("div",Ya,[k("a",{class:"text-danger cursor-pointer me-2 d-inline-flex",onClick:a[0]||(a[0]=(...g)=>e.reset&&e.reset(...g))},[$(o,{icon:"square-xmark",size:1})]),k("a",{class:"text-success cursor-pointer d-inline-flex",onClick:a[1]||(a[1]=(...g)=>e.filter&&e.filter(...g))},[$(o,{icon:"square-check",size:1})])])])]),default:F(()=>[$(o,{icon:"filter",class:j([{"text-primary":e.defaultValue},"ml-2"])},null,8,["class"])]),_:1})}r(Wa,"_sfc_render$3");const Ja=x(Ot,[["render",Wa]]);Ot.__docgenInfo={displayName:"KTableFilterRange",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"Record<string, any> | null"},defaultValue:{func:!1,value:"null"}},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}}],events:[{name:"filter"}]};const Vt=L({name:"KTableFilterText",props:{value:{type:Object,default:null},min:{type:Number,default:0},max:{type:Number,default:100},modal:{type:Boolean,default:!1}},emits:["filter"],setup(e,a){const p=I("dropdown"),b=I(""),m=I(!1),v=N(()=>e.value&&e.value.$like?e.value.$like:"");return ye(()=>{e.value&&e.value.$like&&(b.value=e.value.$like)}),{visible:m,dropdown:p,filter:r(()=>{const g={$like:b.value};a.emit("filter",g),m.value=!1},"filter"),defaultValue:v,reset:r(()=>{b.value="",a.emit("filter",null),m.value=!1},"reset"),inputText:b}}}),Za={class:"flex items-center"},Qa={class:"ml-4 flex items-center"},Xa={key:1,class:"flex items-center"},er={class:"ml-4 flex items-center"};function tr(e,a,p,b,m,v){const o=_("k-icon"),d=_("k-input"),g=_("k-button"),T=_("k-tooltip");return e.modal?(u(),C("div",Xa,[$(d,{modelValue:e.inputText,"onUpdate:modelValue":a[2]||(a[2]=S=>e.inputText=S),type:"text",size:"sm",width:150,placeholder:"Lorem ipsum",onKeyup:Fe(e.filter,["enter"])},null,8,["modelValue","onKeyup"]),k("div",er,[$(g,{icon:"xmark",color:"danger",size:"sm",title:"Resetear",class:"mr-2",onClick:e.reset},null,8,["onClick"]),$(g,{icon:"check",color:"success",size:"sm",title:"Aplicar",onClick:e.filter},null,8,["onClick"])])])):(u(),w(T,{key:0,visible:e.visible},{content:F(()=>[k("div",Za,[$(d,{modelValue:e.inputText,"onUpdate:modelValue":a[1]||(a[1]=S=>e.inputText=S),type:"text",size:"sm",width:150,placeholder:"Lorem ipsum",onKeyup:Fe(e.filter,["enter"])},null,8,["modelValue","onKeyup"]),k("div",Qa,[$(g,{icon:"xmark",color:"danger",size:"sm",title:"Resetear",class:"mr-2",onClick:e.reset},null,8,["onClick"]),$(g,{icon:"check",color:"success",size:"sm",title:"Aplicar",onClick:e.filter},null,8,["onClick"])])])]),default:F(()=>[$(o,{icon:"filter",class:j([{"text-primary":e.defaultValue},"ml-2 cursor-pointer"]),onClick:a[0]||(a[0]=S=>e.visible=!e.visible)},null,8,["class"])]),_:1},8,["visible"]))}r(tr,"_sfc_render$2");const nr=x(Vt,[["render",tr]]);Vt.__docgenInfo={displayName:"KTableFilterText",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"Record<string, any> | null"},defaultValue:{func:!1,value:"null"}},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"modal",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"filter"}]};const At=L({name:"KTableFilterNumber",props:{value:{type:Object,default:null},min:{type:Number,default:0},max:{type:Number,default:0},modal:{type:Boolean,default:!1}},emits:["filter"],setup(e,a){const p=vt(),b=I("dropdown"),m=I(),v=I(!1),o=N(()=>e.value&&e.value.$eq?e.value.$eq:"");return ye(()=>{e.value&&e.value.$eq&&(m.value=e.value.$eq)}),{id:p,dropdown:b,filter:r(()=>{const T={$eq:m.value};a.emit("filter",T),v.value=!1},"filter"),defaultValue:o,reset:r(()=>{m.value=void 0,a.emit("filter",null)},"reset"),inputText:m,visible:v}}}),ar={class:"flex items-center"},rr={class:"ml-4 flex align-items-center"},lr={key:1,class:"flex items-center"},ir={class:"ml-4 flex align-items-center"};function or(e,a,p,b,m,v){const o=_("k-icon"),d=_("k-input"),g=_("k-button"),T=_("k-tooltip");return e.modal?(u(),C("div",lr,[$(d,{modelValue:e.inputText,"onUpdate:modelValue":a[2]||(a[2]=S=>e.inputText=S),type:"number",size:"sm",width:90,min:e.min,max:e.max||void 0,placeholder:"0",onKeyup:Fe(e.filter,["enter"])},null,8,["modelValue","min","max","onKeyup"]),k("div",ir,[$(g,{icon:"xmark",color:"danger",size:"sm",title:"Resetear",class:"mr-2",onClick:e.reset},null,8,["onClick"]),$(g,{icon:"check",color:"success",size:"sm",title:"Aplicar",onClick:e.filter},null,8,["onClick"])])])):(u(),w(T,{key:0,visible:e.visible},{content:F(()=>[k("div",ar,[$(d,{modelValue:e.inputText,"onUpdate:modelValue":a[1]||(a[1]=S=>e.inputText=S),type:"number",size:"sm",width:90,min:e.min,max:e.max||void 0,placeholder:"0",onKeyup:Fe(e.filter,["enter"])},null,8,["modelValue","min","max","onKeyup"]),k("div",rr,[$(g,{icon:"xmark",color:"danger",size:"sm",title:"Resetear",class:"mr-2",onClick:e.reset},null,8,["onClick"]),$(g,{icon:"check",color:"success",size:"sm",title:"Aplicar",onClick:e.filter},null,8,["onClick"])])])]),default:F(()=>[$(o,{icon:"filter",class:j([{"text-primary":e.defaultValue},"ml-2 cursor-pointer"]),onClick:a[0]||(a[0]=S=>e.visible=!e.visible)},null,8,["class"])]),_:1},8,["visible"]))}r(or,"_sfc_render$1");const sr=x(At,[["render",or]]);At.__docgenInfo={displayName:"KTableFilterNumber",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"Record<string, any> | null"},defaultValue:{func:!1,value:"null"}},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"modal",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"filter"}]};const Nt=L({name:"KTable",autoload:!0,components:{KTableDate:_a,KTableImage:Fa,KTableStatus:Aa,KTablePrice:ja,KTableCode:qa,KTableOrder:Ea,KTableLimit:La,KTableFilterSelect:za,KTableFilterDate:Ua,KTableFilterRange:Ja,KTableFilterText:nr,KTableFilterNumber:sr},props:pa,emits:["fetch","filter"],setup(e,a){const p=r(oe=>!!a.slots[oe],"hasSlot"),b=ua(),m=I(!1),{isRowOpen:v,toggleRow:o}=va(e),{cols:d,colLength:g}=ga(e,a.slots),{toggleCheck:T,isRowChecked:S,toggleGlobalCheck:s,populateChecks:f,isCheckedAll:V}=ya(e),{isMore:M,loadMore:z,busy:G,data:Y,refresh:Z}=ha(a,e),{order:re,loadStoreParams:Q,limit:le,filter:i,query:A,resetFilters:y,strict:ie}=bt(a,e);la(Y,f,{deep:!0}),f(),Q();const me=N(()=>{const oe=b.get("isMobileView",!1),he=b.get("isTabletView",!1);return!!(oe||he)}),ve=N(()=>e.card===!0||e.card==="auto"&&me.value),be=r(()=>{y(),m.value=!1},"resetAndClose");return ye(()=>{yt.value=!0,a.emit("fetch",A.value)}),{hasSlot:p,cols:d,refresh:Z,colLength:g,toggleCheck:T,isRowChecked:S,toggleGlobalCheck:s,busy:G,enable404:yt,isCheckedAll:V,isMore:M,loadMore:z,isRowOpen:v,toggleRow:o,params:h,loadStoreParams:Q,order:re,limit:le,filter:i,resetFilters:y,strict:ie,query:A,isMobile:me,modalOpened:m,cardMode:ve,resetAndClose:be}}});const ur={class:"k-table"},dr={class:"k-table-header-left"},cr={class:"whitespace-nowrap font-normal"},fr={class:"k-table-header-toolbar"},mr=k("div",{class:"mx-2"},null,-1),pr={class:"overflow-x-auto"},gr={key:0,class:"w-6 k-table-body-title"},yr=["checked"],vr={key:0},br=["checked","onChange"],hr={key:6},kr={key:1,align:"right"},_r=["onClick"],$r={key:0},Cr=["colspan"],wr={key:3,class:"card-footer text-center border-0 mt-8"},Tr=k("div",{class:"ml-auto"},null,-1),Sr={class:"flex flex-col -m-5"},Fr={key:0,class:"text-base border-b border-b-gray-100 dark:border-b-gray-700 last:border-0 uppercase font-bold p-5 flex flex-row justify-between items-center"};function Or(e,a,p,b,m,v){const o=_("k-title"),d=_("k-button"),g=_("k-loading"),T=_("k-table-order"),S=_("k-table-filter-select"),s=_("k-table-filter-date"),f=_("k-table-filter-range"),V=_("k-table-filter-text"),M=_("k-table-filter-number"),z=_("k-table-date"),G=_("k-table-image"),Y=_("k-table-status"),Z=_("k-table-price"),re=_("k-table-code"),Q=_("k-table-limit"),le=_("k-drawer");return u(),C("div",ur,[e.header?(u(),C("div",{key:0,class:j(["k-table-header",{"k-table-header-clean":e.clean}])},[H(e.$slots,"header-left",{},()=>[k("h3",dr,[$(o,{size:5,bold:""},{subtitle:F(()=>[H(e.$slots,"subtitle",{selected:e.selected,query:e.query},()=>[k("span",cr,U(e.total)+" registros ",1)])]),default:F(()=>[H(e.$slots,"title",{selected:e.selected,query:e.query},()=>[B(" Listado ")])]),_:3})])]),k("div",fr,[H(e.$slots,"header-right",{selected:e.selected,query:e.query}),mr,e.cardMode?(u(),w(d,{key:0,icon:"filter",color:e.query.filter?"primary":"gray",title:"Filtrar",loading:e.loading,class:"mr-2",onClick:a[0]||(a[0]=i=>e.modalOpened=!0)},null,8,["color","loading"])):(u(),w(d,{key:1,icon:"filter-slash",color:"gray",title:"Limpiar filtros",loading:e.loading,class:"mr-2",onClick:e.resetFilters},null,8,["loading","onClick"])),e.params.strict?(u(),w(d,{key:2,icon:"object-intersect",color:"gray",title:"Filtro estricto",loading:e.loading,class:"mr-2",onClick:a[1]||(a[1]=i=>e.strict(!1))},null,8,["loading"])):(u(),w(d,{key:3,icon:"object-union",color:"gray",title:"Filtro flexible",loading:e.loading,class:"mr-2",onClick:a[2]||(a[2]=i=>e.strict(!0))},null,8,["loading"])),$(d,{icon:"rotate",color:"primary",light:"",title:"Refrescar",loading:e.loading,onClick:e.refresh},null,8,["loading","onClick"])])],2)):E("",!0),e.cardMode?(u(),w(ia(e.cardTag),{key:1,class:j(e.cardClasses)},{default:F(()=>[(u(!0),C(P,null,ae(e.data,(i,A)=>H(e.$slots,"card",mt(pt({key:A},{row:i,query:e.query,index:A})))),128))]),_:3},8,["class"])):(u(),C("div",{key:2,class:j(["k-table-body",{"k-table-body-clean":e.clean}])},[$(g,{active:e.loading},null,8,["active"]),k("div",pr,[k("table",null,[k("thead",null,[k("tr",null,[e.selected?(u(),C("th",gr,[k("input",{type:"checkbox",class:"k-checkbox w-4 h-4 border-gray-300 rounded dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 text-primary focus:ring-primary dark:focus:ring-primary",checked:e.isCheckedAll,onChange:a[3]||(a[3]=(...i)=>e.toggleGlobalCheck&&e.toggleGlobalCheck(...i))},null,40,yr)])):E("",!0),(u(!0),C(P,null,ae(e.cols,(i,A)=>(u(),C("th",{key:A,style:gt(i.style),class:"k-table-body-title"},[i.order&&i.index?(u(),w(T,{key:0,value:e.params.order&&e.params.order[i.index]||null,onOrder:y=>e.order(i.index,y)},{default:F(()=>[B(U(i.title),1)]),_:2},1032,["value","onOrder"])):(u(),C(P,{key:1},[B(U(i.title),1)],64)),i.filter&&i.index?(u(),C(P,{key:2},[i.filter.type==="select"&&i.filter.options.length>0?(u(),w(S,{key:0,options:i.filter.options,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,onFilter:y=>e.filter(i.index,y)},null,8,["options","value","onFilter"])):i.filter.type==="date"?(u(),w(s,{key:1,min:i.filter.min,max:i.filter.max,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,onFilter:y=>e.filter(i.index,y)},null,8,["min","max","value","onFilter"])):i.filter.type==="range"?(u(),w(f,{key:2,min:i.filter.min,max:i.filter.max,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,onFilter:y=>e.filter(i.index,y)},null,8,["min","max","value","onFilter"])):i.filter.type==="text"?(u(),w(V,{key:3,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,onFilter:y=>e.filter(i.index,y)},null,8,["value","onFilter"])):i.filter.type==="number"?(u(),w(M,{key:4,min:i.filter.min,max:i.filter.max,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,onFilter:y=>e.filter(i.index,y)},null,8,["min","max","value","onFilter"])):E("",!0)],64)):E("",!0)],4))),128))])]),k("tbody",null,[(u(!0),C(P,null,ae(e.data,(i,A)=>(u(),C(P,{key:A},[k("tr",null,[e.selected?(u(),C("td",vr,[k("div",null,[k("input",{type:"checkbox",class:"k-checkbox w-4 h-4 -mt-1 border-gray-300 rounded dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 text-primary focus:ring-primary dark:focus:ring-primary",checked:e.isRowChecked[A],onChange:y=>e.toggleCheck(A)},null,40,br)])])):E("",!0),(u(!0),C(P,null,ae(e.cols,(y,ie)=>(u(),C("td",{key:ie,style:gt(y.style)},[y.makeup==="date"?(u(),w(z,{key:0,value:i[y.index]},null,8,["value"])):y.makeup==="image"?(u(),w(G,{key:1,value:i[y.index]},null,8,["value"])):y.makeup==="status"?(u(),w(Y,{key:2,value:i[y.index]},null,8,["value"])):y.makeup==="price"?(u(),w(Z,{key:3,value:i[y.index]},null,8,["value"])):y.makeup==="code"?(u(),w(re,{key:4,value:i[y.index]},null,8,["value"])):y.slot?H(e.$slots,y.slot,mt(pt({key:5},{row:i,value:i[y.index],query:e.query,index:A}))):(u(),C("div",hr,U(i[y.index]),1))],4))),128)),e.hasSlot("content")?(u(),C("td",kr,[k("a",{class:"btn btn-icon btn-gray-300 cursor-pointer",onClick:y=>e.toggleRow(A)},[k("i",{class:j([e.isRowOpen[A]?"fa-chevron-up":"fa-chevron-down","fas"])},null,2)],8,_r)])):E("",!0)]),e.hasSlot("content")?oa((u(),C("tr",$r,[k("td",{colspan:e.colLength},[H(e.$slots,"content",{row:i,query:e.query,index:A})],8,Cr)],512)),[[sa,e.isRowOpen[A]]]):E("",!0)],64))),128))])])])],2)),e.isMore?(u(),C("div",wr,[$(Q,{loading:e.loading,value:e.params.limit,onLimit:e.limit,onNextPage:e.loadMore},null,8,["loading","value","onLimit","onNextPage"])])):E("",!0),$(le,{modelValue:e.modalOpened,"onUpdate:modelValue":a[5]||(a[5]=i=>e.modalOpened=i),title:"Filtros",width:400},{footer:F(()=>[Tr,$(d,{icon:"filter-slash",color:"danger",class:"mr-2",onClick:e.resetAndClose},{default:F(()=>[B(" Resetear ")]),_:1},8,["onClick"]),$(d,{icon:"filter",color:"primary",onClick:a[4]||(a[4]=i=>e.modalOpened=!1)},{default:F(()=>[B(" Guardar ")]),_:1})]),default:F(()=>[k("div",Sr,[(u(!0),C(P,null,ae(e.cols,(i,A)=>(u(),C(P,{key:A},[i.order||i.filter?(u(),C("div",Fr,[i.order&&i.index?(u(),w(T,{key:0,value:e.params.order&&e.params.order[i.index]||null,onOrder:y=>e.order(i.index,y)},{default:F(()=>[B(U(i.title),1)]),_:2},1032,["value","onOrder"])):(u(),C(P,{key:1},[B(U(i.title),1)],64)),i.filter&&i.index?(u(),C(P,{key:2},[i.filter.type==="select"&&i.filter.options.length>0?(u(),w(S,{key:0,options:i.filter.options,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,modal:"",onFilter:y=>e.filter(i.index,y)},null,8,["options","value","onFilter"])):i.filter.type==="date"?(u(),w(s,{key:1,min:i.filter.min,max:i.filter.max,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,modal:"",onFilter:y=>e.filter(i.index,y)},null,8,["min","max","value","onFilter"])):i.filter.type==="range"?(u(),w(f,{key:2,min:i.filter.min,max:i.filter.max,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,modal:"",onFilter:y=>e.filter(i.index,y)},null,8,["min","max","value","onFilter"])):i.filter.type==="text"?(u(),w(V,{key:3,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,modal:"",onFilter:y=>e.filter(i.index,y)},null,8,["value","onFilter"])):i.filter.type==="number"?(u(),w(M,{key:4,min:i.filter.min,max:i.filter.max,value:e.params.filter&&e.params.filter[i.index]?e.params.filter[i.index]:null,modal:"",onFilter:y=>e.filter(i.index,y)},null,8,["min","max","value","onFilter"])):E("",!0)],64)):E("",!0)])):E("",!0)],64))),128))])]),_:1},8,["modelValue"])])}r(Or,"_sfc_render");const Pr=x(Nt,[["render",Or]]);Nt.__docgenInfo={displayName:"KTable",exportName:"default",description:"",tags:{},events:[{name:"fetch"},{name:"filter"}],slots:[{name:"header-left"},{name:"title",scoped:!0,bindings:[{name:"selected",title:"binding"},{name:"query",title:"binding"}]},{name:"subtitle",scoped:!0,bindings:[{name:"selected",title:"binding"},{name:"query",title:"binding"}]},{name:"header-right",scoped:!0,bindings:[{name:"selected",title:"binding"},{name:"query",title:"binding"}]},{name:"card",scoped:!0,bindings:[{name:"row",title:"binding"},{name:"query",title:"binding"},{name:"index",title:"binding"}]},{name:"col.slot",scoped:!0,description:"Slots personalizados",bindings:[{name:"row",title:"binding"},{name:"value",title:"binding"},{name:"query",title:"binding"},{name:"index",title:"binding"},{name:"name",title:"binding"}]},{name:"content",scoped:!0,description:"Contenido adicional de la fila",tags:{mock:[{description:"Click me",title:"mock"}]},bindings:[{name:"row",title:"binding"},{name:"query",title:"binding"},{name:"index",title:"binding"}]}]};export{Pr as K};
//# sourceMappingURL=k-table.98d0d5f4.js.map
