{"version":3,"file":"k-input.efaca009.js","sources":["../../src/components/data-entry/k-input/k-input.vue"],"sourcesContent":["<template>\n    <div :class=\"[classes]\">\n        <label v-if=\"hasLabel && !float\" :for=\"uuid\">\n            <slot v-if=\"hasSlot('default')\" />\n            <template v-else>{{ label }}</template>\n\n            <span v-if=\"required\" class=\"font-bold text-danger ml-1\">*</span>\n            <template v-if=\"firstError\">\n                <k-tooltip :content=\"firstError\">\n                    <k-icon icon=\"triangle-exclamation\" class=\"ml-2\" />\n                </k-tooltip>\n            </template>\n        </label>\n\n        <input\n            :id=\"uuid\"\n            :type=\"type\"\n            :maxlength=\"maxLength\"\n            :placeholder=\"placeholderText\"\n            :required=\"required\"\n            :value=\"model\"\n            :min=\"min\"\n            :max=\"max\"\n            :style=\"style\"\n            :autofocus=\"autofocus\"\n            :disabled=\"disabled\"\n            @input=\"change\"\n            @blur=\"validate\"\n        />\n\n        <div v-if=\"type === 'number'\" class=\"k-input-control\">\n            <div @click=\"sum()\">\n                <k-icon\n                    icon=\"plus\"\n                    type=\"fas\"\n                    class=\"k-input-icon\"\n                    :size=\"12\"\n                />\n            </div>\n            <div @click=\"subtract()\">\n                <k-icon\n                    icon=\"minus\"\n                    type=\"fas\"\n                    class=\"k-input-icon\"\n                    :size=\"12\"\n                />\n            </div>\n        </div>\n\n        <label v-if=\"hasLabel && float\" :for=\"uuid\">\n            <slot v-if=\"hasSlot('default')\" />\n            <template v-else>{{ label || placeholder }}</template>\n\n            <span v-if=\"required\" class=\"font-bold text-danger ml-1\">*</span>\n\n            <template v-if=\"firstError\">\n                <k-tooltip hover :content=\"firstError\">\n                    <k-icon icon=\"triangle-exclamation\" class=\"ml-2\" />\n                </k-tooltip>\n            </template>\n        </label>\n    </div>\n</template>\n\n<script lang=\"ts\">\n    import { computed, defineComponent, PropType } from 'vue'\n    import { ErrorObject } from '@vuelidate/core'\n    import { uid } from '@/helpers/utils'\n\n    export default defineComponent({\n        name: 'KInput',\n        props: {\n            modelValue: {\n                type: [String, Number],\n                required: false,\n                default: '',\n                description: 'Valor del componente'\n            },\n            id: {\n                type: String,\n                required: false,\n                default: '',\n                description: 'ID único'\n            },\n            maxlength: {\n                type: Number,\n                required: false,\n                default: 0,\n                description: 'Longitud máxima'\n            },\n            placeholder: {\n                type: String,\n                required: false,\n                default: '',\n                description: 'Texto explicativo'\n            },\n            required: {\n                type: Boolean,\n                default: false,\n                description: 'Indica si el campo es requerido'\n            },\n            label: {\n                type: String,\n                required: false,\n                default: '',\n                description: 'Etiqueta de definición'\n            },\n            size: {\n                type: String,\n                default: 'md',\n                options: ['xs', 'sm', 'md', 'lg']\n            },\n            float: {\n                type: Boolean,\n                default: false,\n                description: 'Indica si el input tiene estilo flotante'\n            },\n            fieldset: {\n                type: Boolean,\n                default: false,\n                description: 'Indica si el input tiene estilo fieldset'\n            },\n            errors: {\n                type: Array as PropType<ErrorObject[]>,\n                required: false,\n                default: () => [],\n                description: 'Errores de validación'\n            },\n            status: {\n                type: String,\n                default: '',\n                options: ['warning', 'success', 'danger'],\n                description: 'Color de estado del input'\n            },\n            type: {\n                type: String,\n                default: 'text',\n                options: ['text', 'password', 'number', 'email']\n            },\n            width: {\n                type: Number,\n                default: 0,\n                description: 'Ancho del input'\n            },\n            min: {\n                type: Number,\n                required: false,\n                description: 'Valor mínimo si el input es `number`'\n            },\n            max: {\n                type: Number,\n                required: false,\n                description: 'Valor máximo si el input es `number`'\n            },\n            autofocus: {\n                type: Boolean,\n                default: false,\n                description: 'Indica si el input se enfoca automáticamente'\n            },\n            disabled: {\n                type: Boolean,\n                default: false,\n                description: 'Indica si el input está deshabilitado'\n            }\n        },\n        emits: ['update:modelValue'],\n        setup(props, ctx) {\n            const maxLength = props.maxlength > 0 ? props.maxlength : undefined\n            const uuid = props.id || uid()\n            const hasSlot = (name: string) => !!ctx.slots[name]\n\n            const model = computed({\n                get() {\n                    return props.modelValue\n                },\n                set(value: any) {\n                    ctx.emit('update:modelValue', value)\n                }\n            })\n\n            const classes = computed(() => {\n                const classes = ['k-input-text', `k-input-text-${props.size}`]\n\n                if (props.float) {\n                    classes.push('k-input-text-floating')\n                } else if (props.fieldset) {\n                    classes.push('k-input-text-fieldset')\n                }\n\n                if (props.type === 'number') {\n                    classes.push('k-input-number')\n                }\n\n                if (props.errors.length > 0) {\n                    classes.push('k-input-text-danger')\n                } else if (props.status) {\n                    classes.push(`k-input-text-${props.status}`)\n                }\n\n                return classes\n            })\n\n            const style = computed(() => {\n                const style: any = {}\n\n                if (props.width > 0) {\n                    style['width'] = props.width + 'px'\n                }\n\n                return style\n            })\n\n            const hasLabel = computed(() => {\n                return props.label || hasSlot('default')\n            })\n\n            const placeholderText = computed(() => {\n                if (props.float) {\n                    return (\n                        props.placeholder ||\n                        props.label ||\n                        ctx.slots.default?.().toString()\n                    )\n                }\n\n                return props.placeholder\n            })\n\n            const change = (e: any) => {\n                model.value = e.target.value\n            }\n\n            const validate = () => {\n                let value = model.value\n\n                if (props.type === 'number') {\n                    value = Number(value)\n\n                    if (props.min !== undefined && value < props.min) {\n                        value = props.min\n                    }\n\n                    if (props.max !== undefined && value > props.max) {\n                        value = props.max\n                    }\n\n                    model.value = value\n                }\n            }\n\n            const firstError = computed(() => {\n                const error =\n                    props.errors.length > 0 ? props.errors[0].$message : ''\n                return error.toString()\n            })\n\n            const sum = () => {\n                const value = parseInt(props.modelValue.toString()) || 0\n                const newValue = value + 1\n\n                if (props.max !== undefined && newValue <= props.max) {\n                    model.value = newValue\n                } else if (props.max !== undefined && newValue > props.max) {\n                    model.value = props.max\n                } else {\n                    model.value = newValue\n                }\n            }\n\n            const subtract = () => {\n                const value = parseInt(props.modelValue.toString()) || 0\n                const newValue = value - 1\n\n                if (props.min !== undefined && newValue >= props.min) {\n                    model.value = newValue\n                } else if (props.min !== undefined && newValue < props.min) {\n                    model.value = props.min\n                } else {\n                    model.value = newValue\n                }\n            }\n\n            return {\n                maxLength,\n                uuid,\n                classes,\n                change,\n                firstError,\n                hasSlot,\n                hasLabel,\n                placeholderText,\n                sum,\n                subtract,\n                style,\n                model,\n                validate\n            }\n        }\n    })\n</script>\n\n<style lang=\"scss\">\n    @import './k-input.scss';\n</style>\n"],"names":["_sfc_main","defineComponent","props","ctx","maxLength","uuid","uid","hasSlot","__name","name","model","computed","value","classes","style","hasLabel","placeholderText","_b","_a","change","e","validate","firstError","newValue","_hoisted_2","_hoisted_4","_hoisted_6","_resolveComponent","_normalizeClass","_ctx","_createElementBlock","_renderSlot","_openBlock","_Fragment","_createTextVNode","_toDisplayString","_createBlock","_component_k_tooltip","_withCtx","_createVNode","_component_k_icon","_hoisted_1","_createCommentVNode","_createElementVNode","_normalizeStyle","_cache","args","_hoisted_3","$event"],"mappings":"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"}