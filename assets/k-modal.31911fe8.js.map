{"version":3,"file":"k-modal.31911fe8.js","sources":["../../src/components/feedback/k-modal/k-modal.vue"],"sourcesContent":["<template>\n    <div\n        :id=\"modalId\"\n        tabindex=\"-1\"\n        aria-hidden=\"true\"\n        :class=\"defaultModalClasses\"\n    >\n        <div class=\"relative w-full h-full md:h-auto\" :class=\"contentClasses\">\n            <div class=\"relative bg-white rounded-lg shadow dark:bg-gray-700\">\n                <div\n                    v-if=\"header && (title || hasSlot('header'))\"\n                    class=\"flex items-center px-6 py-5 border-b rounded-t dark:border-gray-600\"\n                >\n                    <template v-if=\"hasSlot('header')\">\n                        <slot name=\"header\"></slot>\n                    </template>\n                    <template v-else>\n                        <k-title :size=\"5\" class=\"font-semibold\">\n                            {{ title }}\n                        </k-title>\n                    </template>\n\n                    <button\n                        v-if=\"closable\"\n                        type=\"button\"\n                        class=\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg w-8 h-8 text-sm flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white ml-auto\"\n                        @click=\"hide\"\n                    >\n                        <k-icon icon=\"times\" />\n                        <span class=\"sr-only\">Close menu</span>\n                    </button>\n                </div>\n\n                <div class=\"p-6\">\n                    <slot></slot>\n                </div>\n\n                <div\n                    v-if=\"hasSlot('footer')\"\n                    class=\"flex items-center px-6 py-5 border-t border-gray-200 rounded-b dark:border-gray-600\"\n                >\n                    <slot name=\"footer\"></slot>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\n    import { computed, defineComponent, onMounted, ref, Ref, watch } from 'vue'\n    import { Modal, ModalOptions } from 'flowbite'\n    import { uid } from '../../../helpers/utils'\n\n    export default defineComponent({\n        name: 'KModal',\n        props: {\n            modelValue: {\n                type: Boolean,\n                default: false,\n                description: 'Controla la apertura del modal'\n            },\n            title: {\n                type: String,\n                default: '',\n                description: 'Título del modal'\n            },\n            placement: {\n                type: String as () => ModalOptions['placement'],\n                default: 'top',\n                options: [\n                    'top-left',\n                    'top-center',\n                    'top-right',\n                    'center-left',\n                    'center-center',\n                    'center-right',\n                    'bottom-left',\n                    'bottom-center',\n                    'bottom-right'\n                ],\n                description: 'Posición del modal'\n            },\n            header: {\n                type: Boolean,\n                default: true,\n                description: 'Permite mostrar u ocultar el header del modal'\n            },\n            closable: {\n                type: Boolean,\n                default: true,\n                description:\n                    'Permite cerrar el modal desde el backdrop o clicando en el botón de cerrar'\n            },\n            backdropClose: {\n                type: Boolean,\n                default: true,\n                description: 'Permite cerrar el modal desde el backdrop'\n            },\n            size: {\n                type: String,\n                default: 'lg',\n                options: ['sm', 'md', 'lg', 'xl'],\n                description: 'Tamaño del modal'\n            },\n            zIndex: {\n                type: Number,\n                default: 40,\n                description: 'Indica el z-index del modal'\n            }\n        },\n        emits: ['update:modelValue', 'show', 'hide', 'toggle'],\n        setup(props, ctx) {\n            const modalId = uid()\n\n            const modal: Ref<Modal | null> = ref(null)\n            const hasSlot = (name: string) => !!ctx.slots[name]\n\n            const renderOptions = () => {\n                const options: ModalOptions = {\n                    placement: props.placement,\n                    backdrop: props.backdropClose ? 'dynamic' : 'static',\n                    backdropClasses: defaultBackdropClasses.value,\n                    closable: props.closable,\n                    onHide: () => {\n                        ctx.emit('update:modelValue', false)\n                        ctx.emit('hide')\n                    },\n                    onShow: () => {\n                        ctx.emit('update:modelValue', true)\n                        ctx.emit('show')\n                    },\n                    onToggle: () => {\n                        ctx.emit('toggle')\n                    }\n                }\n\n                return options\n            }\n\n            const init = () => {\n                const $targetEl = document.getElementById(modalId)\n                if ($targetEl) {\n                    const $parentEl = $targetEl.parentNode\n\n                    if ($parentEl) {\n                        $parentEl.removeChild($targetEl)\n                        document\n                            .getElementsByTagName('body')[0]\n                            .appendChild($targetEl)\n\n                        const options = renderOptions()\n\n                        modal.value = new Modal($targetEl, options)\n\n                        if (props.modelValue) {\n                            modal.value.show()\n                        } else {\n                            modal.value.hide()\n                        }\n                    }\n                }\n            }\n\n            const hide = () => {\n                ctx.emit('update:modelValue', false)\n            }\n\n            watch(\n                () => props.modelValue,\n                (value) => {\n                    if (value) {\n                        modal.value?.show()\n                    } else {\n                        modal.value?.hide()\n                    }\n                    ctx.emit('update:modelValue', value)\n                }\n            )\n\n            watch(\n                () => props.placement,\n                (value) => {\n                    const $targetEl = document.getElementById(modalId)\n                    if ($targetEl) {\n                        $targetEl.className = defaultModalClasses.value\n                    }\n\n                    init()\n                }\n            )\n\n            const defaultModalClasses = computed(() => {\n                const classes = [\n                    'fixed top-0 left-0 right-0 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full'\n                ]\n\n                if (props.zIndex === 50) {\n                    classes.push('z-50')\n                } else if (props.zIndex === 40) {\n                    classes.push('z-40')\n                } else if (props.zIndex === 30) {\n                    classes.push('z-30')\n                } else if (props.zIndex === 20) {\n                    classes.push('z-20')\n                } else if (props.zIndex === 10) {\n                    classes.push('z-10')\n                } else {\n                    classes.push('z-50')\n                }\n\n                return classes.join(' ')\n            })\n\n            const defaultBackdropClasses = computed(() => {\n                const classes = [\n                    'bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0'\n                ]\n\n                if (props.zIndex === 50) {\n                    classes.push('z-40')\n                } else if (props.zIndex === 40) {\n                    classes.push('z-30')\n                } else if (props.zIndex === 30) {\n                    classes.push('z-20')\n                } else if (props.zIndex === 20) {\n                    classes.push('z-10')\n                } else if (props.zIndex === 10) {\n                    classes.push('z-0')\n                } else {\n                    classes.push('z-40')\n                }\n\n                return classes.join(' ')\n            })\n\n            const contentClasses = computed(() => {\n                const classes = []\n\n                if (props.size === 'xs') {\n                    classes.push('max-w-md')\n                } else if (props.size === 'sm') {\n                    classes.push('max-w-xl')\n                } else if (props.size === 'md') {\n                    classes.push('max-w-2xl')\n                } else if (props.size === 'lg') {\n                    classes.push('max-w-4xl')\n                } else if (props.size === 'xl') {\n                    classes.push('max-w-5xl')\n                }\n\n                return classes\n            })\n\n            onMounted(() => {\n                init()\n            })\n\n            return {\n                modalId,\n                hasSlot,\n                hide,\n                defaultModalClasses,\n                contentClasses\n            }\n        }\n    })\n</script>\n\n<style scoped></style>\n"],"names":["_sfc_main","defineComponent","props","ctx","modalId","uid","modal","ref","hasSlot","__name","name","renderOptions","defaultBackdropClasses","init","$targetEl","$parentEl","options","Modal","hide","watch","value","_a","_b","defaultModalClasses","computed","classes","contentClasses","onMounted","_hoisted_3","_hoisted_6","_resolveComponent","_openBlock","_createElementBlock","_ctx","_normalizeClass","_createElementVNode","_hoisted_2","_renderSlot","_createBlock","_component_k_title","_cache","args","_createVNode","_component_k_icon","_createCommentVNode","_hoisted_5"],"mappings":"wXAqDI,MAAAA,EAAeC,EAAgB,CAC3B,KAAM,SACN,MAAO,CACH,WAAY,CACR,KAAM,QACN,QAAS,GACT,YAAa,gCACjB,EACA,MAAO,CACH,KAAM,OACN,QAAS,GACT,YAAa,qBACjB,EACA,UAAW,CACP,KAAM,OACN,QAAS,MACT,QAAS,CACL,WACA,aACA,YACA,cACA,gBACA,eACA,cACA,gBACA,cACJ,EACA,YAAa,uBACjB,EACA,OAAQ,CACJ,KAAM,QACN,QAAS,GACT,YAAa,+CACjB,EACA,SAAU,CACN,KAAM,QACN,QAAS,GACT,YACI,+EACR,EACA,cAAe,CACX,KAAM,QACN,QAAS,GACT,YAAa,2CACjB,EACA,KAAM,CACF,KAAM,OACN,QAAS,KACT,QAAS,CAAC,KAAM,KAAM,KAAM,IAAI,EAChC,YAAa,qBACjB,EACA,OAAQ,CACJ,KAAM,OACN,QAAS,GACT,YAAa,6BACjB,CACJ,EACA,MAAO,CAAC,oBAAqB,OAAQ,OAAQ,QAAQ,EACrD,MAAMC,EAAOC,EAAK,CACd,MAAMC,EAAUC,IAEVC,EAA2BC,EAAI,IAAI,EACnCC,EAAUC,EAACC,GAAiB,CAAC,CAACP,EAAI,MAAMO,GAA9B,WAEVC,EAAgBF,EAAA,KACY,CAC1B,UAAWP,EAAM,UACjB,SAAUA,EAAM,cAAgB,UAAY,SAC5C,gBAAiBU,EAAuB,MACxC,SAAUV,EAAM,SAChB,OAAQ,IAAM,CACNC,EAAA,KAAK,oBAAqB,EAAK,EACnCA,EAAI,KAAK,MAAM,CACnB,EACA,OAAQ,IAAM,CACNA,EAAA,KAAK,oBAAqB,EAAI,EAClCA,EAAI,KAAK,MAAM,CACnB,EACA,SAAU,IAAM,CACZA,EAAI,KAAK,QAAQ,CACrB,CAAA,GAhBc,iBAsBhBU,EAAOJ,EAAA,IAAM,CACT,MAAAK,EAAY,SAAS,eAAeV,CAAO,EACjD,GAAIU,EAAW,CACX,MAAMC,EAAYD,EAAU,WAE5B,GAAIC,EAAW,CACXA,EAAU,YAAYD,CAAS,EAC/B,SACK,qBAAqB,MAAM,EAAE,GAC7B,YAAYA,CAAS,EAE1B,MAAME,EAAUL,IAEhBL,EAAM,MAAQ,IAAIW,EAAMH,EAAWE,CAAO,EAEtCd,EAAM,WACNI,EAAM,MAAM,OAEZA,EAAM,MAAM,MAEpB,CACJ,CAAA,EArBS,QAwBPY,EAAOT,EAAA,IAAM,CACXN,EAAA,KAAK,oBAAqB,EAAK,CAAA,EAD1B,QAIbgB,EACI,IAAMjB,EAAM,WACXkB,GAAU,SACHA,GACAC,EAAAf,EAAM,QAAN,MAAAe,EAAa,QAEbC,EAAAhB,EAAM,QAAN,MAAAgB,EAAa,OAEbnB,EAAA,KAAK,oBAAqBiB,CAAK,CACvC,CAAA,EAGJD,EACI,IAAMjB,EAAM,UACXkB,GAAU,CACD,MAAAN,EAAY,SAAS,eAAeV,CAAO,EAC7CU,IACAA,EAAU,UAAYS,EAAoB,OAGzCV,GACT,CAAA,EAGE,MAAAU,EAAsBC,EAAS,IAAM,CACvC,MAAMC,EAAU,CACZ,yHAAA,EAGA,OAAAvB,EAAM,SAAW,GACjBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EAEnBA,EAAQ,KAAK,MAAM,EAGhBA,EAAQ,KAAK,GAAG,CAAA,CAC1B,EAEKb,EAAyBY,EAAS,IAAM,CAC1C,MAAMC,EAAU,CACZ,4DAAA,EAGA,OAAAvB,EAAM,SAAW,GACjBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,MAAM,EACZvB,EAAM,SAAW,GACxBuB,EAAQ,KAAK,KAAK,EAElBA,EAAQ,KAAK,MAAM,EAGhBA,EAAQ,KAAK,GAAG,CAAA,CAC1B,EAEKC,EAAiBF,EAAS,IAAM,CAClC,MAAMC,EAAU,CAAA,EAEZ,OAAAvB,EAAM,OAAS,KACfuB,EAAQ,KAAK,UAAU,EAChBvB,EAAM,OAAS,KACtBuB,EAAQ,KAAK,UAAU,EAChBvB,EAAM,OAAS,KACtBuB,EAAQ,KAAK,WAAW,EACjBvB,EAAM,OAAS,KACtBuB,EAAQ,KAAK,WAAW,EACjBvB,EAAM,OAAS,MACtBuB,EAAQ,KAAK,WAAW,EAGrBA,CAAA,CACV,EAED,OAAAE,EAAU,IAAM,CACPd,GAAA,CACR,EAEM,CACH,QAAAT,EACA,QAAAI,EACA,KAAAU,EACA,oBAAAK,EACA,eAAAG,CAAA,CAER,CACJ,CAAC,4EA9PeE,EAAM,CAAA,IAAA,6IA4BNC,EAAM,CAAA,IAAA,8IAtCtBC,EA4CM,QAAA,SA1CFC,EAAa,EAAAC,EAAA,MAAA,CACb,GAAAC,EAAA,QACC,SAAK,KAAA,cAAA,OAEN,MAqCMC,EAAAD,EAAA,mBAAA,CAAA,EAAA,UApCF,MAmCMC,EAAA,CAAA,mCAAAD,EAAA,cAAA,CAAA,CAAA,EAAA,CAlCFE,EAAA,MAAAC,EAAA,CAIoBH,EAAA,SAAAA,EAAO,+BACQ,EAAAD,EAAA,MAAAJ,EAAA,CAAAK,EAAA,QAAA,QAG3B,EAAiBI,EAAAJ,EAAA,OAAA,SAAA,CAAA,IAAA,CAAA,CAAA,GAAAF,EAAA,EAAAO,EAAAC,EAAA,CAAE,IAAK,EAAA,KAAA,2DAMlB,EAAA,CAAA,CAAA,mBACOP,EAAA,SAAA,CACb,IAAK,EACJ,KAAA,SAAA,MAAA,sLAED,QAAuBQ,EAAA,KAAAA,EAAA,GAAf,IAAIC,IAAQR,EAAA,MAAAA,EAAA,KAAA,GAAAQ,CAAA,EAAA,EACpB,CAAAC,EAAAC,EAAA,CAAA,KAAA,OAAA,CAAA,eAIR,CAAA,GACIC,EAAa,GAAA,EAAA,EAAAT,EAAA,MAAAU,EAAA,CAIPR,EAAOJ,EAAA,OAAA,SAAA,CAAA,CAAA,IAGb,QAA2B,QAAA,GAAAF,EAAA,EAAAC,EAAA,MAAAH,EAAA"}