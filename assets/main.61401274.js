var J=Object.defineProperty;var u=(e,s)=>J(e,"name",{value:s,configurable:!0});import{d as x,J as B,v as W,a as l,F as N,T as R,n as K,r as d,o,f as T,t as S,g as f,e as n,w,k as C,b as _,i as A,_ as q,q as G,a8 as X}from"./vue.esm-bundler.e9a14992.js";import{u as M}from"./query.0e66324b.js";import{u as H,v as Q,s as Y}from"./app.a3a393c9.js";import{A as Z}from"./index.7fcb4b4b.js";import{_ as E}from"./+plugin-vue+export-helper.ed6a1c48.js";import{k as I}from"./iframe.cf561a81.js";const ee=[],j=x({name:"KMenu",props:{collapsed:{type:Boolean,default:!1}},setup(){const e=H(),s=W("$menu")||(()=>[]),i=[{separator:!0}],b=[...s(),...i,...ee],k=u(a=>e.path.indexOf(a.toString())!==-1,"hasActiveChildren"),c=u(a=>a.auth?a.auth:!0,"checkRoles"),p=u(a=>{if(a.auth)return a.auth;if(a.pages)for(let h=0;h<a.pages.length;h++){const t=a.pages[h];if(t.auth)return t.auth;if(t.pages)for(let v=0;v<t.pages.length;v++){const r=t.pages[v];if(c(r))return!0}}return!1},"hasOneAccess"),m=u(()=>{let a=[];b.forEach(t=>{t.pages&&t.pages.forEach(v=>{if(v.pages){const r=document.getElementById(`k-menu-dropdown-${v.title}`),$=document.getElementById(`k-menu-dropdown-${v.title}-body`);r&&$&&a.push({id:`k-menu-dropdown-${v.title}`,triggerEl:r,targetEl:$,active:!1})}})});const h={alwaysOpen:!0,activeClasses:"bg-gray-800 text-gray-200",inactiveClasses:"text-gray-200"};new Z(a,h)},"initCollapse");return B(()=>{m()}),{hasActiveChildren:k,hasOneAccess:p,menu:b,version:Q,checkRoles:c}}});const te={key:0,class:"k-menu-header"},oe={key:1,class:"k-menu-separator"},se={key:0},ne=["data-href","onClick"],ae={key:0,class:"k-menu-icon"},le={key:1,class:"k-menu-title"},ie=["id"],ce={key:0,class:"k-menu-icon"},re={key:1,class:"k-menu-title"},de=["id"],pe={key:0},ue=["data-href","onClick"],_e={key:0,class:"k-menu-icon",type:"fal"},fe={key:1,class:"k-menu-title"};function ge(e,s,i,g,b,k){const c=d("k-icon"),p=d("router-link"),m=d("k-tooltip");return o(),l("ul",{class:K(["k-menu",{"k-menu-collapsed":e.collapsed}])},[(o(!0),l(N,null,R(e.menu,(a,h)=>(o(),l(N,{key:h},[e.checkRoles(a)?(o(),l(N,{key:0},[a.heading&&e.hasOneAccess(a)?(o(),l("li",te,[e.collapsed?f("",!0):(o(),l(N,{key:0},[T(S(a.heading),1)],64))])):a.separator?(o(),l("li",oe)):f("",!0),(o(!0),l(N,null,R(a.pages,(t,v)=>(o(),l(N,{key:v},[e.checkRoles(t)?(o(),l(N,{key:0},[t.pages?e.hasOneAccess(t)?(o(),l("li",{key:1,class:K({show:e.hasActiveChildren(t.route)})},[n(m,{title:t.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:w(()=>[_("button",{id:`k-menu-dropdown-${t.title}`,class:"k-menu-item"},[t.icon?(o(),l("span",ce,[n(c,{icon:t.icon,type:"fal"},null,8,["icon"])])):f("",!0),e.collapsed?f("",!0):(o(),l("span",re,S(t.title),1)),t.pages&&!e.collapsed?(o(),C(c,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):f("",!0)],8,ie)]),_:2},1032,["title","disabled"]),_("ul",{id:`k-menu-dropdown-${t.title}-body`,class:"k-menu-sub hidden"},[(o(!0),l(N,null,R(t.pages,(r,$)=>(o(),l(N,{key:$},[r.title&&e.checkRoles(r)?(o(),l("li",pe,[n(m,{title:r.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:w(()=>[r.pages?f("",!0):(o(),C(p,{key:0,"active-class":"active",to:r.disabled?{}:r.route},{default:w(({href:y,navigate:L,isActive:z})=>[_("button",{class:K(["k-menu-item",{"k-menu-item-active":z,"k-menu-item-disabled":r.disabled}]),"data-href":y,onClick:L},[r.icon?(o(),l("span",_e,[n(c,{icon:r.icon,type:"fal"},null,8,["icon"])])):f("",!0),e.collapsed?f("",!0):(o(),l("span",fe,S(r.title),1))],10,ue)]),_:2},1032,["to"]))]),_:2},1032,["title","disabled"])])):f("",!0)],64))),128))],8,de)],2)):f("",!0):(o(),l("li",se,[n(m,{title:t.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:w(()=>[t.pages?f("",!0):(o(),C(p,{key:0,"active-class":"active",to:t.disabled?{}:t.route},{default:w(({href:r,navigate:$,isActive:y})=>[_("button",{class:K(["k-menu-item",{"k-menu-item-active":y,"k-menu-item-disabled":t.disabled}]),"data-href":r,onClick:$},[t.icon?(o(),l("span",ae,[n(c,{icon:t.icon,type:"fal"},null,8,["icon"])])):f("",!0),e.collapsed?f("",!0):(o(),l("span",le,S(t.title),1)),t.pages&&!e.collapsed?(o(),C(c,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):f("",!0)],10,ne)]),_:2},1032,["to"]))]),_:2},1032,["title","disabled"])]))],64)):f("",!0)],64))),128))],64)):f("",!0)],64))),128))],2)}u(ge,"_sfc_render$6");const ke=E(j,[["render",ge],["__scopeId","data-v-1fc8fd62"]]);j.__docgenInfo={displayName:"KMenu",exportName:"default",description:"",tags:{},props:[{name:"collapsed",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}]};const D=x({name:"KAside",components:{KMenu:ke},setup(){const e=u(i=>typeof q(i)!="string","isComponent");return{collapsed:A({get(){return M().get("aside.collapsed")||!1},set(i){M().set("aside.collapsed",i)}}),isComponent:e}}});const me={class:"overflow-y-auto py-5 px-3 h-full flex-1"},he={class:"justify-center p-4 space-x-4"};function ve(e,s,i,g,b,k){const c=d("k-logo"),p=d("k-button"),m=d("k-menu"),a=d("k-aside-footer");return o(),l("aside",{class:K(["k-aside h-screen bg-sidebar text-gray-100 flex flex-col",{"k-aside-collapsed":e.collapsed}])},[_("div",{class:K(["px-3 pb-5 pt-5 flex relative",e.collapsed?"justify-center":"justify-between"])},[n(c,{dark:"",side:!e.collapsed,class:"cursor-pointer",onClick:s[0]||(s[0]=h=>e.collapsed=!1)},null,8,["side"]),e.collapsed?(o(),C(p,{key:1,icon:"chevrons-right",link:"",color:"primary",class:"absolute top-0 right-0 -m-3 mt-5",onClick:s[2]||(s[2]=h=>e.collapsed=!1)})):(o(),C(p,{key:0,icon:"chevrons-left",link:"",color:"primary",class:"-mr-2",onClick:s[1]||(s[1]=h=>e.collapsed=!0)}))],2),_("div",me,[n(m,{collapsed:e.collapsed},null,8,["collapsed"])]),_("div",he,[n(a,{collapsed:e.collapsed},null,8,["collapsed"])])],2)}u(ve,"_sfc_render$5");const ye=E(D,[["render",ve],["__scopeId","data-v-0af091d2"]]);D.__docgenInfo={displayName:"KAside",exportName:"default",description:"",tags:{}};function be(e={}){const{immediate:s=!1,onNeedRefresh:i,onOfflineReady:g,onRegistered:b,onRegisteredSW:k,onRegisterError:c}=e;let p,m,a,h;const t=u(async(r=!0)=>{await a,r&&(p==null||p.addEventListener("controlling",$=>{$.isUpdate&&window.location.reload()})),await(h==null?void 0:h())},"updateServiceWorker");async function v(){if("serviceWorker"in navigator){const{Workbox:r,messageSW:$}=await I(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);h=u(async()=>{m&&m.waiting&&await $(m.waiting,{type:"SKIP_WAITING"})},"sendSkipWaitingMessage"),p=new r("/sw.js",{scope:"/",type:"classic"}),p.addEventListener("activated",y=>{y.isUpdate||g==null||g()});{const y=u(()=>{i==null||i()},"showSkipWaitingPrompt");p.addEventListener("waiting",y),p.addEventListener("externalwaiting",y)}p.register({immediate:s}).then(y=>{m=y,k?k("/sw.js",y):b==null||b(y)}).catch(y=>{c==null||c(y)})}}return u(v,"register"),a=v(),t}u(be,"registerSW");const F=x({name:"KUpdater",setup(){let e=G(!1),s=null;const i=u(()=>{s&&s(!0)},"update");return B(()=>{"serviceWorker"in navigator&&(s=be({onNeedRefresh(){e.value=!0},onRegistered(g){g&&setInterval(()=>{g.update()},6e4)}}))}),{update:i,updateAvailable:e}}});function $e(e,s,i,g,b,k){const c=d("k-button"),p=d("k-tooltip");return e.updateAvailable?(o(),C(p,{key:0,title:"\u{1F37E} Actualizaci\xF3n disponible",placement:"left"},{default:w(()=>[n(c,{neon:"",color:"success",icon:"cloud-arrow-down",onClick:e.update},null,8,["onClick"])]),_:1})):f("",!0)}u($e,"_sfc_render$4");const we=E(F,[["render",$e]]);F.__docgenInfo={displayName:"KUpdater",exportName:"default",description:"",tags:{}};const O=x({name:"KTheme",setup(){const e=A(()=>M().get("darkMode"));return{toggleTheme:u(()=>{const i=M();e.value?(i.set("darkMode",!1),document.getElementsByTagName("html")[0].classList.remove("dark"),document.getElementsByTagName("html")[0].classList.add("light")):(i.set("darkMode",!0),document.getElementsByTagName("html")[0].classList.remove("light"),document.getElementsByTagName("html")[0].classList.add("dark"))},"toggleTheme"),darkMode:e}}});function Ne(e,s,i,g,b,k){const c=d("k-button");return o(),C(c,{outline:"",color:"gray",icon:e.darkMode?"moon":"sun","icon-type":"fal",onClick:e.toggleTheme},null,8,["icon","onClick"])}u(Ne,"_sfc_render$3");const Ce=E(O,[["render",Ne]]);O.__docgenInfo={displayName:"KTheme",exportName:"default",description:"",tags:{}};const V=x({name:"KDebug",setup(){const e=M();return{debug:A(()=>e.get("debug"))}}}),Ke="_debug_54i91_1",Me={debug:Ke},xe=X('<div class="block sm:hidden">XS</div><div class="hidden sm:block md:hidden">SM</div><div class="hidden md:block lg:hidden">MD</div><div class="hidden lg:block xl:hidden">LG</div><div class="hidden xl:block">XL</div>',5),Ee=[xe];function Ae(e,s,i,g,b,k){return e.debug?(o(),l("div",{key:0,class:K(e.$style.debug)},Ee,2)):f("",!0)}u(Ae,"_sfc_render$2");const Te={$style:Me},Se=E(V,[["render",Ae],["__cssModules",Te]]);V.__docgenInfo={displayName:"KDebug",exportName:"default",description:"",tags:{}};const P=x({name:"KTopbar",components:{KUpdater:we,KTheme:Ce,KDebug:Se},setup(){const e=W("$auth"),s=u(()=>{e.logout()},"logout"),i=A(()=>e.getLastName()||"Jhon"),g=A(()=>{const k=e.getName()||"Jhon",c=e.getLastName()||"Doe";return`${k} ${c}`}),b=A({get(){return M().get("aside.collapsed")||!1},set(k){M().set("aside.collapsed",k)}});return{firstname:i,fullname:g,searchEnabled:Y,logout:s,collapsed:b}}}),Le={class:"px-4 lg:px-6 py-2.5 bg-sidebar text-gray-200 select-none"},Re={class:"flex flex-wrap items-center"},Be={class:"flex sm:hidden"},We={class:"hidden sm:flex justify-start items-center"},je=_("div",{class:"ml-auto"},null,-1),De={class:"flex flex-row gap-4"},Fe={class:"flex items-center lg:order-2"},Oe={class:"flex gap-4 items-center"},Ve=_("br",null,null,-1);function Pe(e,s,i,g,b,k){const c=d("k-button"),p=d("k-toolbar-search"),m=d("k-updater"),a=d("k-debug"),h=d("k-theme"),t=d("k-avatar"),v=d("k-icon"),r=d("router-link"),$=d("k-dropdown-item"),y=d("k-dropdown");return o(),l("header",null,[_("nav",Le,[_("div",Re,[_("div",Be,[n(c,{icon:"chevrons-right",link:"",color:"primary",onClick:s[0]||(s[0]=L=>e.collapsed=!1)})]),_("div",We,[n(p)]),je,_("div",De,[n(m),n(a),n(h),_("div",Fe,[n(y,{click:""},{header:w(()=>[_("div",Oe,[n(t,{name:e.fullname,size:40,tooltip:!1},null,8,["name"]),_("div",null,[T(" Bienvenido "),Ve,_("strong",null,S(e.firstname),1)])])]),content:w(()=>[n($,null,{default:w(()=>[n(r,{to:"/pages/profile/overview"},{default:w(()=>[n(v,{icon:"address-card",type:"fal",class:"mr-2"}),T(" Mi Perfil ")]),_:1})]),_:1}),n($,null,{default:w(()=>[n(r,{to:"/pages/profile/overview"},{default:w(()=>[n(v,{icon:"gear",type:"fal",class:"mr-2"}),T(" Configuraci\xF3n ")]),_:1})]),_:1})]),footer:w(()=>[_("a",{class:"text-danger cursor-pointer block",onClick:s[1]||(s[1]=L=>e.logout())},[n(v,{icon:"right-from-bracket",class:"mr-2"}),T(" Cerrar sesi\xF3n ")])]),default:w(()=>[n(t,{name:e.fullname,size:42,tooltip:!1,square:"",class:"cursor-pointer"},null,8,["name"])]),_:1})])])])])])}u(Pe,"_sfc_render$1");const Ue=E(P,[["render",Pe]]);P.__docgenInfo={displayName:"KTopbar",exportName:"default",description:"",tags:{}};const U=x({name:"KMain",components:{KAside:ye,KTopbar:Ue},setup(){return{}}});const ze={class:"flex flex-row bg-white dark:bg-gray-800"},Je={id:"k-wrapper",class:"flex flex-col flex-row-fluid w-full bg-gray-100 dark:bg-gray-900 h-screen overflow-y-auto overflow-x-hidden"};function qe(e,s,i,g,b,k){const c=d("k-aside"),p=d("k-topbar"),m=d("router-view");return o(),l("div",ze,[n(c),_("div",Je,[n(p),n(m)])])}u(qe,"_sfc_render");const et=E(U,[["render",qe]]);U.__docgenInfo={displayName:"KMain",exportName:"default",description:"",tags:{}};export{et as default};
//# sourceMappingURL=main.61401274.js.map
