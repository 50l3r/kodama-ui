{"version":3,"file":"forgot.b76f4ff5.js","sources":["../../src/views/auth/forgot.vue"],"sourcesContent":["<template>\n    <k-card id=\"k-forgot\">\n        <div class=\"p-1 sm:p-5 select-none\">\n            <div class=\"text-center mb-10\">\n                <h1 class=\"mb-3 sm:text-2xl text-xl uppercase font-bold\">\n                    Â¿Olvidaste tu clave?\n                </h1>\n            </div>\n\n            <form @submit.prevent=\"submitForgot\">\n                <div class=\"mb-4\">\n                    <k-input\n                        v-model=\"state.email\"\n                        type=\"email\"\n                        placeholder=\"jhon@doe.com\"\n                        label=\"Email\"\n                        tabindex=\"1\"\n                        :errors=\"v$.email.$silentErrors\"\n                    />\n\n                    <div class=\"fv-plugins-message-container\">\n                        <div class=\"fv-help-block\">\n                            <ErrorMessage name=\"email\" />\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"text-center\">\n                    <k-button\n                        :loading=\"loading\"\n                        icon=\"right-from-bracket\"\n                        class=\"w-full mb-4\"\n                        :disabled=\"!isValidForm\"\n                        type=\"submit\"\n                    >\n                        Acceder\n                    </k-button>\n\n                    <router-link\n                        :to=\"{ name: 'login' }\"\n                        class=\"text-sm text-gray-400\"\n                    >\n                        Ya me acuerdo de mi clave\n                    </router-link>\n                </div>\n            </form>\n        </div>\n    </k-card>\n</template>\n\n<script lang=\"ts\">\n    import { computed, defineComponent, inject, reactive, ref } from 'vue'\n    import { required, email } from '@vuelidate/validators'\n    import useVuelidate from '@vuelidate/core'\n    import { KodamaParams } from '@/config'\n\n    export default defineComponent({\n        name: 'ForgotPassword',\n\n        setup() {\n            const auth = inject('$auth') as KodamaParams['auth']\n            const loading = ref(false)\n\n            const state = reactive({\n                email: ''\n            })\n\n            const rules = {\n                email: { email, required }\n            }\n\n            const v$ = useVuelidate(rules, state)\n\n            const isValidForm = computed(() => {\n                return !v$.value.$invalid\n            })\n\n            const submitForgot = async () => {\n                if (isValidForm.value) {\n                    loading.value = true\n\n                    auth.forgot(state.email).finally(() => {\n                        loading.value = false\n                    })\n                }\n            }\n\n            return {\n                loading,\n                state,\n                v$,\n                isValidForm,\n                submitForgot\n            }\n        }\n    })\n</script>\n\n<style>\n    #k-forgot {\n        @apply w-full sm:w-96;\n    }\n</style>\n"],"names":["_sfc_main","defineComponent","auth","inject","loading","ref","state","reactive","v$","useVuelidate","email","required","isValidForm","computed","__name","_createElementVNode","_hoisted_4","_resolveComponent","_openBlock","_createBlock","_component_k_card","_withCtx","_hoisted_1","_hoisted_2","_cache","_withModifiers","args","_ctx","_hoisted_3","_createVNode","_component_k_input","$event","_hoisted_5","_hoisted_6","_component_k_button","_component_router_link"],"mappings":"4UAwDI,MAAAA,EAAeC,EAAgB,CAC3B,KAAM,iBAEN,OAAQ,CACE,MAAAC,EAAOC,EAAO,OAAO,EACrBC,EAAUC,EAAI,EAAK,EAEnBC,EAAQC,EAAS,CACnB,MAAO,EAAA,CACV,EAMKC,EAAKC,EAJG,CACV,MAAO,CAAE,MAAAC,EAAO,SAAAC,CAAS,CAAA,EAGEL,CAAK,EAE9BM,EAAcC,EAAS,IAClB,CAACL,EAAG,MAAM,QACpB,EAYM,MAAA,CACH,QAAAJ,EACA,MAAAE,EACA,GAAAE,EACA,YAAAI,EACA,aAfiBE,EAAA,SAAY,CACzBF,EAAY,QACZR,EAAQ,MAAQ,GAEhBF,EAAK,OAAOI,EAAM,KAAK,EAAE,QAAQ,IAAM,CACnCF,EAAQ,MAAQ,EAAA,CACnB,EACL,EAPiB,eAejB,CAER,CACJ,CAAC,UA3FW,CAAU,MAAA,iEAMOW,EAAA,KAAA,CAAA,MAAA,8CAAA,EAAA,2BAAA,UAWJ,MAAM,QAMdC,EAAA,CAAA,MAAM,wLA1BvBC,EA8CS,QAAA,SA7CLC,EA4CM,EAAAC,EAAAC,EAAA,CAAA,GAAA,YAAA,CAAA,QA3CFC,EAIM,IAAA,CAAAN,EAEN,MAoCOO,EAAA,CAAAC,YAnCH,SAAAC,EAAA,KAeMA,EAfN,GAeMC,EAAA,IAAAC,IAAAC,EAAA,cAAAA,EAAA,aAAA,GAAAD,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,CAbWX,EAAA,MAAMa,EAAK,CAAAC,EAAAC,EAAA,CACpB,WAAKH,EAAO,MAAA,MACZ,sBAAYH,EAAc,KAAAA,EAAA,GAAAO,GAAAJ,EAAA,MAAA,MAAAI,GAC1B,KAAK,QACL,YAAY,eACX,MAAM,QAAA,SAAA,IAGX,OAIMJ,EAAA,GAAA,MAAA,aAAA,EAHF,qBAEM,QAFN,CAAA,EACiCZ,EAAA,MAAAC,EAAA,CAAAD,EAAA,MAAAiB,EAAA,sBAKzC,CAAA,CAAA,CAAA,IAEkB,MAAOC,EAAA,CAAAJ,EACZK,EAAoB,CACzB,QAAMP,EAAA,QACL,KAAA,qBACD,MAAK,cAAA,SAAA,CAAAA,EAAA,4DAKT,EAAA,CAAA,EACK,EAAI,CAAiB,UAAA,UAAA,CAAA,EAAAE,EAChBM,EAAuB,CAAA,GAAA,CAAA,KAAA,OAAA"}