{"version":3,"file":"k-drawer.a85eac7a.js","sources":["../../src/components/data-display/k-drawer/k-drawer.vue"],"sourcesContent":["<template>\n    <div\n        :id=\"drawerId\"\n        class=\"fixed z-40 max-w-full p-4 transition-transform bg-white dark:bg-gray-800\"\n        tabindex=\"-1\"\n        :class=\"classes\"\n        :style=\"styles\"\n    >\n        <div class=\"flex flex-col h-full\">\n            <div\n                class=\"flex flex-row items-center border-b dark:border-gray-600 mb-4 pb-4 justify-between -mx-4 px-4\"\n            >\n                <template v-if=\"hasSlot('header')\">\n                    <slot name=\"header\"></slot>\n                </template>\n                <k-title\n                    v-else\n                    :size=\"5\"\n                    class=\"font-semibold text-gray-800 dark:text-gray-400 overflow-hidden\"\n                >\n                    {{ title }}&nbsp;\n                </k-title>\n\n                <k-button\n                    icon=\"times\"\n                    color=\"gray\"\n                    neon\n                    size=\"md\"\n                    @click=\"hide\"\n                />\n            </div>\n\n            <div class=\"flex-1 -m-4 relative\">\n                <transition\n                    name=\"animated_fade\"\n                    enter-active-class=\"animate__animated animate__faster animate__fadeIn\"\n                    leave-active-class=\"animate__animated animate__faster animate__fadeOut\"\n                >\n                    <div\n                        v-if=\"loading\"\n                        class=\"flex z-50 absolute top-0 left-0 w-full h-full items-center justify-center bg-white bg-opacity-80 dark:bg-gray-900 dark:bg-opacity-80 cursor-progress\"\n                    >\n                        <k-icon\n                            icon=\"spinner-third\"\n                            spin\n                            class=\"text-primary\"\n                            :size=\"40\"\n                        />\n                    </div>\n                </transition>\n\n                <div class=\"p-4\">\n                    <slot></slot>\n                </div>\n            </div>\n\n            <div\n                v-if=\"hasSlot('footer')\"\n                class=\"flex flex-row items-center border-t dark:border-gray-600 justify-between px-4 pt-4 pb-0 -mx-4 mt-auto\"\n            >\n                <slot name=\"footer\"></slot>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\n    import { uid } from '@/helpers/utils'\n    import { computed } from '@vue/reactivity'\n    import { Drawer, DrawerOptions } from 'flowbite'\n    import { defineComponent, onMounted, Ref, ref, watch } from 'vue'\n\n    export default defineComponent({\n        name: 'KDrawer',\n        props: {\n            modelValue: {\n                type: Boolean,\n                default: false\n            },\n            title: {\n                type: String,\n                default: 'Drawer'\n            },\n            placement: {\n                type: String as () => DrawerOptions['placement'],\n                default: 'right',\n                options: ['right', 'left', 'top', 'bottom']\n            },\n            backdrop: {\n                type: Boolean,\n                default: true\n            },\n            width: {\n                type: Number,\n                default: 360,\n                description: 'Ancho del drawer en `px`'\n            },\n            loading: {\n                type: Boolean,\n                default: false\n            }\n        },\n        emits: ['update:modelValue'],\n        setup(props, ctx) {\n            const drawerId = uid()\n            const drawer: Ref<Drawer | null> = ref(null)\n            const hasSlot = (name: string) => !!ctx.slots[name]\n\n            // options with default values\n            const options: DrawerOptions = {\n                placement: props.placement,\n                backdrop: props.backdrop,\n                bodyScrolling: false,\n                edge: false,\n                edgeOffset: '',\n                backdropClasses:\n                    'bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30',\n                onShow: () => {\n                    ctx.emit('update:modelValue', true)\n                },\n                onHide: () => {\n                    ctx.emit('update:modelValue', false)\n                }\n            }\n\n            const classes = computed(() => {\n                if (props.placement === 'right') {\n                    return 'top-0 right-0 h-screen overflow-y-auto translate-x-full'\n                } else if (props.placement === 'left') {\n                    return 'top-0 left-0 h-screen overflow-y-auto -translate-x-full'\n                } else if (props.placement === 'top') {\n                    return 'top-0 left-0 right-0 w-full -translate-y-full '\n                } else if (props.placement === 'bottom') {\n                    return 'bottom-0 left-0 right-0 w-full overflow-y-auto transform-none'\n                }\n            })\n\n            const styles = computed(() => {\n                if (props.placement === 'right' || props.placement === 'left') {\n                    return {\n                        width: `${props.width}px`\n                    }\n                }\n\n                return {}\n            })\n\n            const hide = () => {\n                ctx.emit('update:modelValue', false)\n            }\n\n            onMounted(() => {\n                const $targetEl = document.getElementById(drawerId)\n                if ($targetEl) {\n                    const $parentEl = $targetEl.parentNode\n\n                    if ($parentEl) {\n                        $parentEl.removeChild($targetEl)\n                        document\n                            .getElementsByTagName('body')[0]\n                            .appendChild($targetEl)\n\n                        drawer.value = new Drawer($targetEl, options)\n\n                        if (props.modelValue) {\n                            drawer.value?.show()\n                        }\n                    }\n                }\n            })\n\n            watch(\n                () => props.modelValue,\n                (value) => {\n                    if (value) {\n                        drawer.value?.show()\n                    } else {\n                        drawer.value?.hide()\n                    }\n\n                    ctx.emit('update:modelValue', value)\n                }\n            )\n\n            return { drawerId, hide, hasSlot, classes, styles }\n        }\n    })\n</script>\n\n<style scoped></style>\n"],"names":["_sfc_main","defineComponent","props","ctx","drawerId","uid","drawer","ref","hasSlot","__name","name","options","classes","computed","styles","hide","onMounted","$targetEl","$parentEl","Drawer","_a","watch","value","_b","_hoisted_1","_hoisted_2","_hoisted_5","_hoisted_7","_resolveComponent","_openBlock","_createElementBlock","_ctx","_normalizeClass","_normalizeStyle","_createElementVNode","_hoisted_3","_renderSlot","_createBlock","_component_k_title","_createVNode","_component_k_button","_hoisted_4","_Transition","_withCtx","_component_k_icon"],"mappings":"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"}