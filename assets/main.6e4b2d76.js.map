{"version":3,"mappings":"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","names":["SysMenu","useMenu","__name","ctx","getCurrentInstance","SeparatorMenu","_sfc_main$6","defineComponent","route","useRoute","menu","hasActiveChildren","match","checkRoles","hasOneAccess","i","page","j","subpage","initCollapse","accordionItems","item","options","_hoisted_1","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_13","_hoisted_14","_resolveComponent","_ctx","_createElementBlock","_Fragment","_createCommentVNode","_openBlock","_component_k_tooltip","menuItem","_createVNode","_createElementVNode","item2","_withCtx","_hoisted_12","_hoisted_4","isComponent","name","resolveDynamicComponent","computed","useConfig","value","_normalizeClass","_component_k_logo","_cache","_createBlock","_component_k_menu","registerSW","wb","registration","registerPromise","sendSkipWaitingMessage","updateServiceWorker","reloadPage","event","register","__vitePreload","messageSW","Workbox","onOfflineReady","showSkipWaitingPrompt","onNeedRefresh","r","onRegisteredSW","onRegistered","e","onRegisterError","ref","updateSW","update","updateAvailable","_component_k_button","config","darkMode","inject","logout","auth","firstname","fullname","lastname","collapsed","_hoisted_3","_hoisted_7","_component_k_toolbar_search","_component_k_theme","_component_k_dropdown","_createTextVNode","_component_k_dropdown_item","_component_router_link","_component_k_icon","_createStaticVNode","_component_k_aside"],"sources":["../../src/config/_menu.ts","../../src/store/index.ts","../../src/layouts/main/partials/aside/menu.vue","../../src/layouts/main/partials/aside/aside.vue","../../../../../../../@vite-plugin-pwa/virtual:pwa-register","../../src/layouts/main/partials/topbar/updater.vue","../../src/layouts/main/partials/topbar/theme.vue","../../src/layouts/main/partials/topbar/topbar.vue","../../src/layouts/main/partials/debug.vue","../../src/layouts/main/main.vue"],"sourcesContent":["import { RouteLocationRaw } from 'vue-router'\n\nexport const SysMenu: Menu[] = [\n    // {\n    //     separator: true\n    // },\n    // {\n    //     // heading: 'Config',\n    //     // route: '/produccion',\n    //     pages: [\n    //         {\n    //             sectionTitle: 'Changelog v1.0',\n    //             route: '/cupones',\n    //             icon: ['fad', 'fa-file']\n    //         }\n    //     ]\n    // }\n]\n\nexport type MenuItem = {\n    title: string\n    disabled?: boolean\n    route: RouteLocationRaw\n    icon: string\n    auth?: boolean\n    pages?: MenuItem[]\n}\n\nexport type Menu = {\n    heading?: string\n    pages?: MenuItem[]\n    separator?: boolean\n    auth?: boolean\n}\n\n// export default (FrontMenu: () => Menu[]) => {\n//     const SeparatorMenu: Menu[] = [{ separator: true }]\n//     const CustomMenu: Menu[] = [...FrontMenu(), ...SeparatorMenu, ...SysMenu]\n\n//     return CustomMenu\n// }\n","import { getCurrentInstance } from 'vue'\nimport { Menu, SysMenu } from '../config/_menu'\nimport useConfig from './modules/config'\nimport useQuery from './modules/query'\n\nconst useMenu = function (): Menu[] {\n    const ctx: any = getCurrentInstance()\n\n    const SeparatorMenu: Menu[] = [{ separator: true }]\n    const FrontMenu: Menu[] = ctx ? ctx.proxy.menu() : []\n    const CustomMenu: Menu[] = [...FrontMenu, ...SeparatorMenu, ...SysMenu]\n\n    return CustomMenu\n}\n\nexport { useConfig, useMenu, useQuery }\n","<template>\n    <ul class=\"k-menu\" :class=\"{ 'k-menu-collapsed': collapsed }\">\n        <template v-for=\"(item, i) in menu\" :key=\"i\">\n            <template v-if=\"checkRoles(item)\">\n                <li\n                    v-if=\"item.heading && hasOneAccess(item)\"\n                    class=\"k-menu-header\"\n                >\n                    <template v-if=\"!collapsed\">{{ item.heading }}</template>\n                </li>\n                <li v-else-if=\"item.separator\" class=\"k-menu-separator\"></li>\n                <template v-for=\"(menuItem, j) in item.pages\" :key=\"j\">\n                    <template v-if=\"checkRoles(menuItem)\">\n                        <li v-if=\"!menuItem.pages\">\n                            <k-tooltip\n                                :title=\"menuItem.title\"\n                                placement=\"right\"\n                                :arrow=\"false\"\n                                :disabled=\"!collapsed\"\n                            >\n                                <button class=\"k-menu-item\">\n                                    <span\n                                        v-if=\"menuItem.icon\"\n                                        class=\"k-menu-icon\"\n                                    >\n                                        <k-icon\n                                            :icon=\"menuItem.icon\"\n                                            type=\"fal\"\n                                        />\n                                    </span>\n\n                                    <span\n                                        v-if=\"!collapsed\"\n                                        class=\"k-menu-title\"\n                                    >\n                                        {{ menuItem.title }}\n                                    </span>\n\n                                    <k-icon\n                                        v-if=\"menuItem.pages && !collapsed\"\n                                        icon=\"chevron-down\"\n                                        type=\"fal\"\n                                        class=\"k-menu-chevron\"\n                                    />\n                                </button>\n                            </k-tooltip>\n                        </li>\n\n                        <li\n                            v-else-if=\"hasOneAccess(menuItem)\"\n                            :class=\"{\n                                show: hasActiveChildren(menuItem.route)\n                            }\"\n                        >\n                            <k-tooltip\n                                :title=\"menuItem.title\"\n                                placement=\"right\"\n                                :arrow=\"false\"\n                                :disabled=\"!collapsed\"\n                            >\n                                <button\n                                    :id=\"`k-menu-dropdown-${menuItem.title}`\"\n                                    class=\"k-menu-item\"\n                                >\n                                    <span\n                                        v-if=\"menuItem.icon\"\n                                        class=\"k-menu-icon\"\n                                    >\n                                        <k-icon\n                                            :icon=\"menuItem.icon\"\n                                            type=\"fal\"\n                                        />\n                                    </span>\n                                    <span\n                                        v-if=\"!collapsed\"\n                                        class=\"k-menu-title\"\n                                    >\n                                        {{ menuItem.title }}\n                                    </span>\n\n                                    <k-icon\n                                        v-if=\"menuItem.pages && !collapsed\"\n                                        icon=\"chevron-down\"\n                                        type=\"fal\"\n                                        class=\"k-menu-chevron\"\n                                    />\n                                </button>\n                            </k-tooltip>\n\n                            <ul\n                                :id=\"`k-menu-dropdown-${menuItem.title}-body`\"\n                                class=\"k-menu-sub hidden\"\n                            >\n                                <template\n                                    v-for=\"(item2, k) in menuItem.pages\"\n                                    :key=\"k\"\n                                >\n                                    <li v-if=\"item2.title && checkRoles(item2)\">\n                                        <k-tooltip\n                                            :title=\"item2.title\"\n                                            placement=\"right\"\n                                            :arrow=\"false\"\n                                            :disabled=\"!collapsed\"\n                                        >\n                                            <button class=\"k-menu-item\">\n                                                <span\n                                                    v-if=\"item2.icon\"\n                                                    class=\"k-menu-icon\"\n                                                    type=\"fal\"\n                                                >\n                                                    <k-icon\n                                                        :icon=\"item2.icon\"\n                                                        type=\"fal\"\n                                                    />\n                                                </span>\n\n                                                <span\n                                                    v-if=\"!collapsed\"\n                                                    class=\"k-menu-title\"\n                                                >\n                                                    {{ item2.title }}\n                                                </span>\n\n                                                <!-- <k-icon\n                                                v-if=\"item2.pages\"\n                                                icon=\"chevron-down\"\n                                                class=\"k-menu-chevron\"\n                                            /> -->\n                                            </button>\n                                        </k-tooltip>\n\n                                        <!-- <div\n                                            class=\"menu-sub menu-sub-accordion\"\n                                        >\n                                            <template\n                                                v-for=\"(\n                                                    item3, k\n                                                ) in item2.pages\"\n                                                :key=\"k\"\n                                            >\n                                                <div\n                                                    v-if=\"checkRoles(item3)\"\n                                                    class=\"menu-item\"\n                                                >\n                                                    <menu-item :item=\"item3\" />\n                                                </div>\n                                            </template>\n                                        </div> -->\n                                    </li>\n                                </template>\n                            </ul>\n                        </li>\n                    </template>\n                </template>\n            </template>\n        </template>\n    </ul>\n</template>\n\n<script lang=\"ts\">\n    import { defineComponent, onMounted } from 'vue'\n    import { RouteLocationRaw, useRoute } from 'vue-router'\n    import { Accordion } from 'flowbite'\n\n    import { useMenu } from '@/store'\n    import { version } from '@/helpers/config'\n\n    export default defineComponent({\n        name: 'KMenu',\n        props: {\n            collapsed: {\n                type: Boolean,\n                default: false\n            }\n        },\n        setup() {\n            const route = useRoute()\n            const menu = useMenu()\n\n            const hasActiveChildren = (match: RouteLocationRaw) => {\n                return route.path.indexOf(match.toString()) !== -1\n            }\n\n            const checkRoles = (menu: any) => {\n                if (menu.auth) return menu.auth\n                return true\n            }\n\n            const hasOneAccess = (menu: any) => {\n                if (menu.auth) return menu.auth\n\n                if (menu.pages) {\n                    for (let i = 0; i < menu.pages.length; i++) {\n                        const page = menu.pages[i]\n\n                        if (page.auth) return page.auth\n\n                        if (page.pages) {\n                            for (let j = 0; j < page.pages.length; j++) {\n                                const subpage = page.pages[j]\n\n                                const subpageAccess = checkRoles(subpage)\n                                if (subpageAccess) return true\n                            }\n                        }\n                    }\n                }\n\n                return false\n            }\n\n            const initCollapse = () => {\n                // create an array of objects with the id, trigger element (eg. button), and the content element\n                let accordionItems: any[] = []\n                let i = 0\n                menu.forEach((item) => {\n                    if (item.pages) {\n                        item.pages.forEach((page) => {\n                            if (page.pages) {\n                                accordionItems.push({\n                                    id: `k-menu-dropdown-${page.title}`,\n                                    triggerEl: document.getElementById(\n                                        `k-menu-dropdown-${page.title}`\n                                    ),\n                                    targetEl: document.getElementById(\n                                        `k-menu-dropdown-${page.title}-body`\n                                    ),\n                                    active: false\n                                })\n                            }\n                        })\n                    }\n                    i++\n                })\n\n                const options = {\n                    alwaysOpen: true,\n                    activeClasses: 'bg-gray-800 text-gray-200',\n                    inactiveClasses: 'text-gray-200'\n                }\n\n                new Accordion(accordionItems, options)\n            }\n\n            onMounted(() => {\n                initCollapse()\n            })\n\n            return {\n                hasActiveChildren,\n                hasOneAccess,\n                menu,\n                version,\n                checkRoles\n            }\n        }\n    })\n</script>\n\n<style lang=\"scss\" scoped>\n    .k-menu {\n        // COLLAPSED\n        &.k-menu-collapsed {\n            li:not(.k-menu-sub) {\n                @apply space-y-0;\n            }\n\n            .k-menu-header {\n                @apply border-b border-gray-700 mb-4 pb-4 mt-0;\n            }\n\n            .k-menu-item {\n                @apply w-12 h-12 justify-center m-0;\n\n                .k-menu-icon {\n                    @apply m-0 w-auto;\n                }\n            }\n\n            .k-menu-sub {\n                @apply w-12 justify-center m-0;\n            }\n        }\n\n        & > .k-menu-header {\n            @apply text-gray-400 uppercase font-bold text-sm mt-6 mb-2 font-title;\n        }\n\n        .k-menu-icon {\n            @apply mr-2 w-5 inline-flex;\n        }\n\n        .k-menu-item {\n            @apply flex items-center w-full rounded-md px-2 py-3 hover:bg-gray-800 text-left text-gray-400 hover:text-gray-200;\n\n            .k-menu-title {\n                @apply text-sm font-semibold;\n            }\n\n            .k-menu-chevron {\n                @apply ml-auto;\n            }\n        }\n\n        .k-menu-item[aria-expanded='true'] {\n            @apply rounded-bl-none rounded-br-none;\n        }\n\n        .k-menu-sub {\n            margin-top: 0 !important;\n\n            @apply bg-gray-800 rounded-br-md rounded-bl-md pt-1 transition-all;\n\n            .k-menu-item {\n                @apply py-3;\n            }\n        }\n    }\n</style>\n","<template>\n    <aside\n        class=\"k-aside h-screen bg-sidebar text-gray-100 flex flex-col\"\n        :class=\"{ 'k-aside-collapsed': collapsed }\"\n    >\n        <div\n            class=\"px-3 pb-5 pt-5 flex relative\"\n            :class=\"collapsed ? 'justify-center' : 'justify-between'\"\n        >\n            <k-logo\n                dark\n                :side=\"!collapsed\"\n                class=\"cursor-pointer\"\n                @click=\"collapsed = false\"\n            />\n\n            <k-button\n                v-if=\"!collapsed\"\n                icon=\"chevrons-left\"\n                link\n                color=\"primary\"\n                class=\"-mr-2\"\n                @click=\"collapsed = true\"\n            ></k-button>\n\n            <k-button\n                v-else\n                icon=\"chevrons-right\"\n                link\n                color=\"primary\"\n                class=\"absolute top-0 right-0 -m-3 mt-5\"\n                @click=\"collapsed = false\"\n            ></k-button>\n        </div>\n        <div class=\"overflow-y-auto py-5 px-3 h-full flex-1\">\n            <k-menu :collapsed=\"collapsed\" />\n        </div>\n        <div class=\"justify-center p-4 space-x-4\">\n            <k-aside-footer />\n        </div>\n    </aside>\n</template>\n\n<script lang=\"ts\">\n    import { useConfig } from '@/store'\n    import { computed, defineComponent, resolveDynamicComponent } from 'vue'\n    import KMenu from './menu.vue'\n\n    export default defineComponent({\n        name: 'KAside',\n        components: {\n            KMenu\n        },\n        setup() {\n            const isComponent = (name: string) =>\n                typeof resolveDynamicComponent(name) !== 'string'\n\n            const collapsed = computed({\n                get() {\n                    const config = useConfig()\n                    return config.get('aside.collapsed') || false\n                },\n                set(value) {\n                    const config = useConfig()\n                    config.set('aside.collapsed', value)\n                }\n            })\n\n            return { collapsed, isComponent }\n        }\n    })\n</script>\n\n<style lang=\"scss\" scoped>\n    .k-aside {\n        @apply w-80 transition-all fixed z-50 sm:z-0 sm:relative;\n\n        &-collapsed {\n            @apply w-20 hidden sm:flex;\n        }\n    }\n</style>\n","// src/client/build/register.ts\nvar autoUpdateMode = \"false\";\nvar selfDestroying = \"false\";\nvar auto = autoUpdateMode === \"true\";\nvar autoDestroy = selfDestroying === \"true\";\nfunction registerSW(options = {}) {\n  const {\n    immediate = false,\n    onNeedRefresh,\n    onOfflineReady,\n    onRegistered,\n    onRegisteredSW,\n    onRegisterError\n  } = options;\n  let wb;\n  let registration;\n  let registerPromise;\n  let sendSkipWaitingMessage;\n  const updateServiceWorker = async (reloadPage = true) => {\n    await registerPromise;\n    if (!auto) {\n      if (reloadPage) {\n        wb == null ? void 0 : wb.addEventListener(\"controlling\", (event) => {\n          if (event.isUpdate)\n            window.location.reload();\n        });\n      }\n      await (sendSkipWaitingMessage == null ? void 0 : sendSkipWaitingMessage());\n    }\n  };\n  async function register() {\n    if (\"serviceWorker\" in navigator) {\n      const { Workbox, messageSW } = await import(\"workbox-window\");\n      sendSkipWaitingMessage = async () => {\n        if (registration && registration.waiting) {\n          await messageSW(registration.waiting, { type: \"SKIP_WAITING\" });\n        }\n      };\n      wb = new Workbox(\"/sw.js\", { scope: \"/\", type: \"classic\" });\n      wb.addEventListener(\"activated\", (event) => {\n        if (event.isUpdate)\n          auto && window.location.reload();\n        else if (!autoDestroy)\n          onOfflineReady == null ? void 0 : onOfflineReady();\n      });\n      if (!auto) {\n        const showSkipWaitingPrompt = () => {\n          onNeedRefresh == null ? void 0 : onNeedRefresh();\n        };\n        wb.addEventListener(\"waiting\", showSkipWaitingPrompt);\n        wb.addEventListener(\"externalwaiting\", showSkipWaitingPrompt);\n      }\n      wb.register({ immediate }).then((r) => {\n        registration = r;\n        if (onRegisteredSW)\n          onRegisteredSW(\"/sw.js\", r);\n        else\n          onRegistered == null ? void 0 : onRegistered(r);\n      }).catch((e) => {\n        onRegisterError == null ? void 0 : onRegisterError(e);\n      });\n    }\n  }\n  registerPromise = register();\n  return updateServiceWorker;\n}\nexport {\n  registerSW\n};\n","<template>\n    <k-tooltip\n        v-if=\"updateAvailable\"\n        title=\"🍾 Actualización disponible\"\n        placement=\"left\"\n    >\n        <k-button\n            neon\n            color=\"success\"\n            icon=\"cloud-arrow-down\"\n            @click=\"update\"\n        />\n    </k-tooltip>\n</template>\n\n<script type=\"module\" lang=\"ts\">\n    import { defineComponent, onMounted, ref } from 'vue'\n    import { registerSW } from 'virtual:pwa-register'\n\n    export default defineComponent({\n        name: 'KUpdater',\n        setup() {\n            let updateAvailable = ref(false)\n            let updateSW: any = null\n\n            const update = () => {\n                if (updateSW) updateSW(true)\n            }\n\n            onMounted(() => {\n                if ('serviceWorker' in navigator) {\n                    updateSW = registerSW({\n                        onNeedRefresh() {\n                            updateAvailable.value = true\n                        },\n                        onRegistered(r: any) {\n                            r &&\n                                setInterval(() => {\n                                    r.update()\n                                }, 60000)\n                        }\n                    })\n                }\n            })\n\n            return { update, updateAvailable }\n        }\n    })\n</script>\n\n<style scoped></style>\n","<template>\n    <k-button\n        outline\n        color=\"gray\"\n        :icon=\"['fal', darkMode ? 'moon' : 'sun']\"\n        @click=\"toggleTheme\"\n    />\n</template>\n\n<script type=\"module\" lang=\"ts\">\n    import { useConfig } from '@/store'\n    import { computed, defineComponent } from 'vue'\n\n    export default defineComponent({\n        name: 'KTheme',\n        setup() {\n            const darkMode = computed(() => {\n                const config = useConfig()\n                return config.get('darkMode')\n            })\n\n            const toggleTheme = () => {\n                const config = useConfig()\n\n                if (darkMode.value) {\n                    config.set('darkMode', false)\n\n                    document\n                        .getElementsByTagName('html')[0]\n                        .classList.remove('dark')\n                    document\n                        .getElementsByTagName('html')[0]\n                        .classList.add('light')\n                } else {\n                    config.set('darkMode', true)\n\n                    document\n                        .getElementsByTagName('html')[0]\n                        .classList.remove('light')\n                    document\n                        .getElementsByTagName('html')[0]\n                        .classList.add('dark')\n                }\n            }\n\n            return { toggleTheme, darkMode }\n        }\n    })\n</script>\n\n<style scoped></style>\n","<template>\n    <header>\n        <nav class=\"px-4 lg:px-6 py-2.5 bg-sidebar text-gray-100\">\n            <div class=\"flex flex-wrap items-center\">\n                <div class=\"flex sm:hidden\">\n                    <k-button\n                        icon=\"chevrons-right\"\n                        link\n                        color=\"white\"\n                        @click=\"collapsed = false\"\n                    ></k-button>\n                </div>\n\n                <div class=\"hidden sm:flex justify-start items-center\">\n                    <k-toolbar-search />\n                </div>\n\n                <div class=\"ml-auto\"></div>\n\n                <div class=\"flex flex-row gap-4\">\n                    <k-updater />\n\n                    <k-theme />\n\n                    <div class=\"flex items-center lg:order-2\">\n                        <k-dropdown click>\n                            <k-avatar\n                                :name=\"fullname\"\n                                :size=\"42\"\n                                :tooltip=\"false\"\n                                square\n                                class=\"cursor-pointer\"\n                            />\n\n                            <template #header>\n                                <div class=\"flex gap-4 items-center\">\n                                    <k-avatar\n                                        :name=\"fullname\"\n                                        :size=\"40\"\n                                        :tooltip=\"false\"\n                                    />\n                                    <div>\n                                        Bienvenido <br />\n                                        <strong>{{ firstname }}</strong>\n                                    </div>\n                                </div>\n                            </template>\n\n                            <template #content>\n                                <k-dropdown-item>\n                                    <router-link to=\"/pages/profile/overview\">\n                                        <k-icon\n                                            icon=\"address-card\"\n                                            type=\"fal\"\n                                            class=\"mr-2\"\n                                        />\n                                        Mi Perfil\n                                    </router-link>\n                                </k-dropdown-item>\n                                <k-dropdown-item>\n                                    <router-link to=\"/pages/profile/overview\">\n                                        <k-icon\n                                            icon=\"gear\"\n                                            type=\"fal\"\n                                            class=\"mr-2\"\n                                        />\n                                        Configuración\n                                    </router-link>\n                                </k-dropdown-item>\n                            </template>\n\n                            <template #footer>\n                                <a\n                                    class=\"text-danger cursor-pointer block\"\n                                    @click=\"logout()\"\n                                >\n                                    <k-icon\n                                        icon=\"right-from-bracket\"\n                                        class=\"mr-2\"\n                                    />\n                                    Cerrar sesión\n                                </a>\n                            </template>\n                        </k-dropdown>\n                    </div>\n                </div>\n            </div>\n        </nav>\n    </header>\n</template>\n\n<script lang=\"ts\">\n    import { defineComponent, computed, inject } from 'vue'\n\n    // import GlobalSearch from './global-search/global-search.vue'\n    import KUpdater from './updater.vue'\n    import KTheme from './theme.vue'\n\n    import { searchEnabled } from '@/helpers/config'\n    import { useConfig } from '@/store'\n    import { KodamaParams } from '@/config'\n\n    export default defineComponent({\n        name: 'KTopbar',\n        components: {\n            KUpdater,\n            KTheme\n        },\n        setup() {\n            const auth = inject('$auth') as KodamaParams['auth']\n\n            const logout = () => {\n                auth.logout()\n            }\n\n            const firstname = computed(() => {\n                return auth.getLastName() || 'Jhon'\n            })\n\n            const fullname = computed(() => {\n                const name = auth.getName() || 'Jhon'\n                const lastname = auth.getLastName() || 'Doe'\n                return `${name} ${lastname}`\n            })\n\n            const collapsed = computed({\n                get() {\n                    const config = useConfig()\n                    return config.get('aside.collapsed') || false\n                },\n                set(value) {\n                    const config = useConfig()\n                    config.set('aside.collapsed', value)\n                }\n            })\n\n            return { firstname, fullname, searchEnabled, logout, collapsed }\n        }\n    })\n</script>\n","<template>\n    <div v-if=\"debug\" :class=\"$style.debug\">\n        <div class=\"block sm:hidden\">XS</div>\n\n        <div class=\"hidden sm:block md:hidden\">SM</div>\n\n        <div class=\"hidden md:block lg:hidden\">MD</div>\n\n        <div class=\"hidden lg:block xl:hidden\">LG</div>\n\n        <div class=\"hidden xl:block\">XL</div>\n    </div>\n</template>\n\n<script lang=\"ts\">\n    import { computed, defineComponent } from 'vue'\n    import { useConfig } from '@/store'\n\n    export default defineComponent({\n        name: 'KDebug',\n        setup() {\n            const config = useConfig()\n            const debug = computed(() => config.get('debug'))\n\n            return { debug }\n        }\n    })\n</script>\n\n<style module lang=\"scss\">\n    .debug {\n        position: fixed;\n        top: 20px;\n        left: 50%;\n        width: 100px;\n        margin-left: -50px;\n        z-index: 9999;\n        background: rgba(0, 0, 0, 0.5);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 5px 10px;\n        font-size: 20px;\n        color: white;\n        border-radius: 10px;\n    }\n</style>\n","<template>\n    <div class=\"flex flex-row bg-white dark:bg-gray-800\">\n        <k-aside />\n\n        <div\n            id=\"k-wrapper\"\n            class=\"flex flex-col flex-row-fluid w-full bg-gray-100 dark:bg-gray-900 min-h-screen\"\n        >\n            <k-toolbar />\n\n            <router-view />\n        </div>\n    </div>\n\n    <k-debug />\n</template>\n\n<script lang=\"ts\">\n    import { defineComponent } from 'vue'\n\n    import KAside from './partials/aside/aside.vue'\n    import KToolbar from './partials/topbar/topbar.vue'\n    import KDebug from './partials/debug.vue'\n\n    export default defineComponent({\n        name: 'KMain',\n        components: {\n            KAside,\n            KDebug,\n            KToolbar\n        },\n        setup() {\n            return {}\n        }\n    })\n</script>\n\n<style lang=\"scss\"></style>\n"],"file":"assets/main.6e4b2d76.js"}