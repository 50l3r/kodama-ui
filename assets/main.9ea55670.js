var z=Object.defineProperty;var p=(e,o)=>z(e,"name",{value:o,configurable:!0});import{l as J,d as x,J as R,a as c,F as $,T as L,n as N,r as u,o as s,f as T,t as S,g as k,e as a,w as v,k as C,b as _,i as A,_ as q,q as G,v as X,a4 as H}from"./vue.esm-bundler.40c2ec29.js";import{u as M}from"./query.afc86d46.js";import{u as Q,v as Y,s as Z}from"./app.ab2c8004.js";import{A as I}from"./index.7fcb4b4b.js";import{_ as K}from"./+plugin-vue+export-helper.ed6a1c48.js";import{k as ee}from"./iframe.a35a8173.js";const te=[],oe=p(function(){const e=J(),o=[{separator:!0}];return[...e?e.proxy.menu():[],...o,...te]},"useMenu"),B=x({name:"KMenu",props:{collapsed:{type:Boolean,default:!1}},setup(){const e=Q(),o=oe(),l=p(t=>e.path.indexOf(t.toString())!==-1,"hasActiveChildren"),f=p(t=>t.auth?t.auth:!0,"checkRoles"),y=p(t=>{if(t.auth)return t.auth;if(t.pages)for(let i=0;i<t.pages.length;i++){const d=t.pages[i];if(d.auth)return d.auth;if(d.pages)for(let r=0;r<d.pages.length;r++){const b=d.pages[r];if(f(b))return!0}}return!1},"hasOneAccess"),m=p(()=>{let t=[];o.forEach(d=>{d.pages&&d.pages.forEach(r=>{r.pages&&t.push({id:`k-menu-dropdown-${r.title}`,triggerEl:document.getElementById(`k-menu-dropdown-${r.title}`),targetEl:document.getElementById(`k-menu-dropdown-${r.title}-body`),active:!1})})});const i={alwaysOpen:!0,activeClasses:"bg-gray-800 text-gray-200",inactiveClasses:"text-gray-200"};new I(t,i)},"initCollapse");return R(()=>{m()}),{hasActiveChildren:l,hasOneAccess:y,menu:o,version:Y,checkRoles:f}}});const se={key:0,class:"k-menu-header"},ne={key:1,class:"k-menu-separator"},ae={key:0},le=["data-href","onClick"],ie={key:0,class:"k-menu-icon"},ce={key:1,class:"k-menu-title"},re=["id"],de={key:0,class:"k-menu-icon"},ue={key:1,class:"k-menu-title"},pe=["id"],_e={key:0},fe=["data-href","onClick"],ge={key:0,class:"k-menu-icon",type:"fal"},ke={key:1,class:"k-menu-title"};function me(e,o,l,f,y,m){const t=u("k-icon"),i=u("router-link"),d=u("k-tooltip");return s(),c("ul",{class:N(["k-menu",{"k-menu-collapsed":e.collapsed}])},[(s(!0),c($,null,L(e.menu,(r,b)=>(s(),c($,{key:b},[e.checkRoles(r)?(s(),c($,{key:0},[r.heading&&e.hasOneAccess(r)?(s(),c("li",se,[e.collapsed?k("",!0):(s(),c($,{key:0},[T(S(r.heading),1)],64))])):r.separator?(s(),c("li",ne)):k("",!0),(s(!0),c($,null,L(r.pages,(n,E)=>(s(),c($,{key:E},[e.checkRoles(n)?(s(),c($,{key:0},[n.pages?e.hasOneAccess(n)?(s(),c("li",{key:1,class:N({show:e.hasActiveChildren(n.route)})},[a(d,{title:n.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[_("button",{id:`k-menu-dropdown-${n.title}`,class:"k-menu-item"},[n.icon?(s(),c("span",de,[a(t,{icon:n.icon,type:"fal"},null,8,["icon"])])):k("",!0),e.collapsed?k("",!0):(s(),c("span",ue,S(n.title),1)),n.pages&&!e.collapsed?(s(),C(t,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):k("",!0)],8,re)]),_:2},1032,["title","disabled"]),_("ul",{id:`k-menu-dropdown-${n.title}-body`,class:"k-menu-sub hidden"},[(s(!0),c($,null,L(n.pages,(g,w)=>(s(),c($,{key:w},[g.title&&e.checkRoles(g)?(s(),c("li",_e,[a(d,{title:g.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[!g.disabled&&!g.pages?(s(),C(i,{key:0,"active-class":"active",to:g.disabled?{}:g.route},{default:v(({href:h,navigate:P,isActive:U})=>[_("button",{class:N(["k-menu-item",{"k-menu-item-active":U}]),"data-href":h,onClick:P},[g.icon?(s(),c("span",ge,[a(t,{icon:g.icon,type:"fal"},null,8,["icon"])])):k("",!0),e.collapsed?k("",!0):(s(),c("span",ke,S(g.title),1))],10,fe)]),_:2},1032,["to"])):k("",!0)]),_:2},1032,["title","disabled"])])):k("",!0)],64))),128))],8,pe)],2)):k("",!0):(s(),c("li",ae,[a(d,{title:n.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[!n.disabled&&!n.pages?(s(),C(i,{key:0,"active-class":"active",to:n.disabled?{}:n.route},{default:v(({href:g,navigate:w,isActive:h})=>[_("button",{class:N(["k-menu-item",{"k-menu-item-active":h}]),"data-href":g,onClick:w},[n.icon?(s(),c("span",ie,[a(t,{icon:n.icon,type:"fal"},null,8,["icon"])])):k("",!0),e.collapsed?k("",!0):(s(),c("span",ce,S(n.title),1)),n.pages&&!e.collapsed?(s(),C(t,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):k("",!0)],10,le)]),_:2},1032,["to"])):k("",!0)]),_:2},1032,["title","disabled"])]))],64)):k("",!0)],64))),128))],64)):k("",!0)],64))),128))],2)}p(me,"_sfc_render$6");const he=K(B,[["render",me],["__scopeId","data-v-31f3b7f3"]]);B.__docgenInfo={displayName:"KMenu",exportName:"default",description:"",tags:{},props:[{name:"collapsed",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}]};const W=x({name:"KAside",components:{KMenu:he},setup(){const e=p(l=>typeof q(l)!="string","isComponent");return{collapsed:A({get(){return M().get("aside.collapsed")||!1},set(l){M().set("aside.collapsed",l)}}),isComponent:e}}});const ve={class:"overflow-y-auto py-5 px-3 h-full flex-1"},ye={class:"justify-center p-4 space-x-4"};function be(e,o,l,f,y,m){const t=u("k-logo"),i=u("k-button"),d=u("k-menu"),r=u("k-aside-footer");return s(),c("aside",{class:N(["k-aside h-screen bg-sidebar text-gray-100 flex flex-col",{"k-aside-collapsed":e.collapsed}])},[_("div",{class:N(["px-3 pb-5 pt-5 flex relative",e.collapsed?"justify-center":"justify-between"])},[a(t,{dark:"",side:!e.collapsed,class:"cursor-pointer",onClick:o[0]||(o[0]=b=>e.collapsed=!1)},null,8,["side"]),e.collapsed?(s(),C(i,{key:1,icon:"chevrons-right",link:"",color:"primary",class:"absolute top-0 right-0 -m-3 mt-5",onClick:o[2]||(o[2]=b=>e.collapsed=!1)})):(s(),C(i,{key:0,icon:"chevrons-left",link:"",color:"primary",class:"-mr-2",onClick:o[1]||(o[1]=b=>e.collapsed=!0)}))],2),_("div",ve,[a(d,{collapsed:e.collapsed},null,8,["collapsed"])]),_("div",ye,[a(r,{collapsed:e.collapsed},null,8,["collapsed"])])],2)}p(be,"_sfc_render$5");const $e=K(W,[["render",be],["__scopeId","data-v-0af091d2"]]);W.__docgenInfo={displayName:"KAside",exportName:"default",description:"",tags:{}};function we(e={}){const{immediate:o=!1,onNeedRefresh:l,onOfflineReady:f,onRegistered:y,onRegisteredSW:m,onRegisterError:t}=e;let i,d,r,b;const n=p(async(g=!0)=>{await r,g&&(i==null||i.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()})),await(b==null?void 0:b())},"updateServiceWorker");async function E(){if("serviceWorker"in navigator){const{Workbox:g,messageSW:w}=await ee(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);b=p(async()=>{d&&d.waiting&&await w(d.waiting,{type:"SKIP_WAITING"})},"sendSkipWaitingMessage"),i=new g("/sw.js",{scope:"/",type:"classic"}),i.addEventListener("activated",h=>{h.isUpdate||f==null||f()});{const h=p(()=>{l==null||l()},"showSkipWaitingPrompt");i.addEventListener("waiting",h),i.addEventListener("externalwaiting",h)}i.register({immediate:o}).then(h=>{d=h,m?m("/sw.js",h):y==null||y(h)}).catch(h=>{t==null||t(h)})}}return p(E,"register"),r=E(),n}p(we,"registerSW");const j=x({name:"KUpdater",setup(){let e=G(!1),o=null;const l=p(()=>{o&&o(!0)},"update");return R(()=>{"serviceWorker"in navigator&&(o=we({onNeedRefresh(){e.value=!0},onRegistered(f){f&&setInterval(()=>{f.update()},6e4)}}))}),{update:l,updateAvailable:e}}});function Ce(e,o,l,f,y,m){const t=u("k-button"),i=u("k-tooltip");return e.updateAvailable?(s(),C(i,{key:0,title:"\u{1F37E} Actualizaci\xF3n disponible",placement:"left"},{default:v(()=>[a(t,{neon:"",color:"success",icon:"cloud-arrow-down",onClick:e.update},null,8,["onClick"])]),_:1})):k("",!0)}p(Ce,"_sfc_render$4");const Ne=K(j,[["render",Ce]]);j.__docgenInfo={displayName:"KUpdater",exportName:"default",description:"",tags:{}};const D=x({name:"KTheme",setup(){const e=A(()=>M().get("darkMode"));return{toggleTheme:p(()=>{const l=M();e.value?(l.set("darkMode",!1),document.getElementsByTagName("html")[0].classList.remove("dark"),document.getElementsByTagName("html")[0].classList.add("light")):(l.set("darkMode",!0),document.getElementsByTagName("html")[0].classList.remove("light"),document.getElementsByTagName("html")[0].classList.add("dark"))},"toggleTheme"),darkMode:e}}});function Me(e,o,l,f,y,m){const t=u("k-button");return s(),C(t,{outline:"",color:"gray",icon:e.darkMode?"moon":"sun","icon-type":"fal",onClick:e.toggleTheme},null,8,["icon","onClick"])}p(Me,"_sfc_render$3");const xe=K(D,[["render",Me]]);D.__docgenInfo={displayName:"KTheme",exportName:"default",description:"",tags:{}};const F=x({name:"KTopbar",components:{KUpdater:Ne,KTheme:xe},setup(){const e=X("$auth"),o=p(()=>{e.logout()},"logout"),l=A(()=>e.getLastName()||"Jhon"),f=A(()=>{const m=e.getName()||"Jhon",t=e.getLastName()||"Doe";return`${m} ${t}`}),y=A({get(){return M().get("aside.collapsed")||!1},set(m){M().set("aside.collapsed",m)}});return{firstname:l,fullname:f,searchEnabled:Z,logout:o,collapsed:y}}}),Ke={class:"px-4 lg:px-6 py-2.5 bg-sidebar text-gray-200 select-none"},Ee={class:"flex flex-wrap items-center"},Ae={class:"flex sm:hidden"},Te={class:"hidden sm:flex justify-start items-center"},Se=_("div",{class:"ml-auto"},null,-1),Le={class:"flex flex-row gap-4"},Re={class:"flex items-center lg:order-2"},Be={class:"flex gap-4 items-center"},We=_("br",null,null,-1);function je(e,o,l,f,y,m){const t=u("k-button"),i=u("k-toolbar-search"),d=u("k-updater"),r=u("k-theme"),b=u("k-avatar"),n=u("k-icon"),E=u("router-link"),g=u("k-dropdown-item"),w=u("k-dropdown");return s(),c("header",null,[_("nav",Ke,[_("div",Ee,[_("div",Ae,[a(t,{icon:"chevrons-right",link:"",color:"primary",onClick:o[0]||(o[0]=h=>e.collapsed=!1)})]),_("div",Te,[a(i)]),Se,_("div",Le,[a(d),a(r),_("div",Re,[a(w,{click:""},{header:v(()=>[_("div",Be,[a(b,{name:e.fullname,size:40,tooltip:!1},null,8,["name"]),_("div",null,[T(" Bienvenido "),We,_("strong",null,S(e.firstname),1)])])]),content:v(()=>[a(g,null,{default:v(()=>[a(E,{to:"/pages/profile/overview"},{default:v(()=>[a(n,{icon:"address-card",type:"fal",class:"mr-2"}),T(" Mi Perfil ")]),_:1})]),_:1}),a(g,null,{default:v(()=>[a(E,{to:"/pages/profile/overview"},{default:v(()=>[a(n,{icon:"gear",type:"fal",class:"mr-2"}),T(" Configuraci\xF3n ")]),_:1})]),_:1})]),footer:v(()=>[_("a",{class:"text-danger cursor-pointer block",onClick:o[1]||(o[1]=h=>e.logout())},[a(n,{icon:"right-from-bracket",class:"mr-2"}),T(" Cerrar sesi\xF3n ")])]),default:v(()=>[a(b,{name:e.fullname,size:42,tooltip:!1,square:"",class:"cursor-pointer"},null,8,["name"])]),_:1})])])])])])}p(je,"_sfc_render$2");const De=K(F,[["render",je]]);F.__docgenInfo={displayName:"KTopbar",exportName:"default",description:"",tags:{}};const O=x({name:"KDebug",setup(){const e=M();return{debug:A(()=>e.get("debug"))}}}),Fe="_debug_1nu6e_1",Oe={debug:Fe},Ve=H('<div class="block sm:hidden">XS</div><div class="hidden sm:block md:hidden">SM</div><div class="hidden md:block lg:hidden">MD</div><div class="hidden lg:block xl:hidden">LG</div><div class="hidden xl:block">XL</div>',5),Pe=[Ve];function Ue(e,o,l,f,y,m){return e.debug?(s(),c("div",{key:0,class:N(e.$style.debug)},Pe,2)):k("",!0)}p(Ue,"_sfc_render$1");const ze={$style:Oe},Je=K(O,[["render",Ue],["__cssModules",ze]]);O.__docgenInfo={displayName:"KDebug",exportName:"default",description:"",tags:{}};const V=x({name:"KMain",components:{KAside:$e,KDebug:Je,KToolbar:De},setup(){return{}}});const qe={class:"flex flex-row bg-white dark:bg-gray-800"},Ge={id:"k-wrapper",class:"flex flex-col flex-row-fluid w-full bg-gray-100 dark:bg-gray-900 h-screen overflow-y-auto overflow-x-hidden"};function Xe(e,o,l,f,y,m){const t=u("k-aside"),i=u("k-toolbar"),d=u("router-view"),r=u("k-debug");return s(),c($,null,[_("div",qe,[a(t),_("div",Ge,[a(i),a(d)])]),a(r)],64)}p(Xe,"_sfc_render");const ot=K(V,[["render",Xe]]);V.__docgenInfo={displayName:"KMain",exportName:"default",description:"",tags:{}};export{ot as default};
//# sourceMappingURL=main.9ea55670.js.map
