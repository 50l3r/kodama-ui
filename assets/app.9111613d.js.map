{"version":3,"file":"app.9111613d.js","sources":["../../src/helpers/config.ts","../../src/views/app.vue"],"sourcesContent":["import { computed } from 'vue'\nimport { useConfig } from '../store'\nimport { Config } from '../config/_settings'\n\n// Returns all config config\nexport const config = computed((): Config => {\n    const config = useConfig()\n    return config.get()\n})\n\n//////////////////////////////////////\n// GENERAL\n//////////////////////////////////////\n\n// Get application name\nexport const name = computed((): Config['name'] => {\n    const config = useConfig()\n    return config.get('name')\n})\n\n// Get kodama version\nexport const version = computed((): Config['version'] => {\n    const config = useConfig()\n    return config.get('version')\n})\n\n// Get homepage\nexport const homepage = computed((): Config['homepage'] => {\n    const config = useConfig()\n    return config.get('homepage')\n})\n\n//////////////////////////////////////\n// BRANDING\n//////////////////////////////////////\n\nexport const logo = computed((): Config['logo'] => {\n    const config = useConfig()\n    return config.get('logo')\n})\n\n// Get copyright info\nexport const copyright = computed((): Config['copyright'] => {\n    const config = useConfig()\n    return config.get('copyright')\n})\n\nexport const darkMode = computed(() => {\n    const config = useConfig()\n    return config.get('darkMode')\n})\n\nexport const bubbleColor = computed(() => {\n    if (darkMode.value) {\n        return '#1F2937'\n    }\n\n    return '#F3F4F6'\n})\n\n//////////////////////////////////////\n// AUTH\n//////////////////////////////////////\nexport const authBackground = computed((): Config['auth']['background'] => {\n    const config = useConfig()\n    return config.get('auth.background')\n})\n\n// Check if enabled signup\nexport const signupEnabled = computed(() => {\n    const config = useConfig()\n    return config.get('auth.signup') === true\n})\n\n//////////////////////////////////////\n// VIEWS\n//////////////////////////////////////\n\n// Check if is changelog view enabled\nexport const changelogEnabled = computed(() => {\n    const config = useConfig()\n    return config.get('changelog') === true\n})\n\n// Check if enabled global search\nexport const searchEnabled = computed(() => {\n    const config = useConfig()\n    return config.get('search') === true\n})\n\n//////////////////////////////////////\n// LAYOUT\n//////////////////////////////////////\n\n// Get the aside display\nexport const asideCollapsed = computed(() => {\n    const config = useConfig()\n    return config.get('aside.collapsed') === true\n})\n\n//////////////////////////////////////\n// VENDOR\n//////////////////////////////////////\n\nexport const fontAwesomeKit = computed(\n    (): Config['vendor']['fontAwesomeKit'] => {\n        const config = useConfig()\n        return config.get('vendor.fontAwesomeKit')\n    }\n)\n\nexport const sentryDSN = computed((): Config['vendor']['sentryDSN'] => {\n    const config = useConfig()\n    return config.get('vendor.sentryDSN')\n})\n\n//////////////////////////////////////\n// DEVELOPER\n//////////////////////////////////////\n\nexport const debug = computed((): Config['debug'] => {\n    const config = useConfig()\n    return config.get('debug')\n})\n","<template>\n    <router-view />\n</template>\n\n<script lang=\"ts\">\n    import tippy from 'tippy.js'\n    import { defineComponent, nextTick, onMounted, onBeforeUnmount } from 'vue'\n    import { useConfig } from '../store'\n    import { logo, fontAwesomeKit } from '../helpers/config'\n\n    export default defineComponent({\n        name: 'KodamaUI',\n        setup() {\n            const config = useConfig()\n\n            onMounted(() => {\n                detectViewPort(true)\n                window.addEventListener('resize', detectViewPortListener)\n            })\n\n            onBeforeUnmount(() => {\n                window.removeEventListener('resize', detectViewPortListener)\n            })\n\n            const detectViewPortListener = () => {\n                detectViewPort(false)\n            }\n\n            const setViewPort = (\n                isMobileView = false,\n                isTabletView = false\n            ) => {\n                config.set('isMobileView', isMobileView)\n                config.set('isTabletView', isTabletView)\n            }\n\n            const detectViewPort = (firstLoad = true) => {\n                const isMobile = config.get('isMobileView', false)\n                const isTablet = config.get('isTabletView', false)\n\n                const width = window.innerWidth\n                const state = {\n                    next: {\n                        mobile: width < 768,\n                        tablet: width < 992,\n                        desktop: !(width < 768) && !(width < 992)\n                    },\n                    prev: {\n                        mobile: isMobile,\n                        tablet: isTablet,\n                        desktop: !isMobile && !isTablet\n                    }\n                }\n\n                // desktop\n                if (\n                    state.next.desktop &&\n                    (state.next.desktop !== state.prev.desktop || firstLoad)\n                ) {\n                    setViewPort(false, false)\n                }\n                // tablet & collapse menu\n                if (\n                    state.next.tablet &&\n                    !state.next.mobile &&\n                    (state.next.tablet !== state.prev.tablet || firstLoad)\n                ) {\n                    setViewPort(false, true)\n                }\n                // mobile\n                if (\n                    state.next.mobile &&\n                    (state.next.mobile !== state.prev.mobile || firstLoad)\n                ) {\n                    setViewPort(true, false)\n                }\n            }\n\n            const replaceFavicon = () => {\n                var link: any = document.querySelector('link[rel~=\"icon\"]')\n                if (!link) {\n                    link = document.createElement('link')\n                    link.rel = 'icon'\n                    document.getElementsByTagName('head')[0].appendChild(link)\n                }\n                link.href = logo.value.favicon\n            }\n\n            const addFontAwesomeKit = () => {\n                const kit = fontAwesomeKit\n\n                if (kit) {\n                    const script = document.createElement('script')\n                    script.src = kit.value\n                    script.crossOrigin = 'anonymous'\n\n                    document.head.prepend(script)\n                }\n            }\n\n            const addGoogleFonts = () => {\n                const link = document.createElement('link')\n                link.rel = 'stylesheet'\n                link.href =\n                    'https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Rubik:wght@400;500;600;700&display=swap'\n\n                document.head.prepend(link)\n            }\n\n            const darkMode = config.get('darkMode')\n            if (darkMode) {\n                document.querySelector('html')?.classList.add('dark')\n            }\n\n            onMounted(() => {\n                config.init()\n\n                replaceFavicon()\n                addFontAwesomeKit()\n                addGoogleFonts()\n\n                tippy('[tooltip]')\n\n                const html = document.querySelector('html')\n                const sb =\n                    html?.getAttribute('data-storybook') === 'true'\n                        ? true\n                        : false\n\n                if (html && sb) {\n                    const observer: MutationObserver = new MutationObserver(\n                        (mutations) => {\n                            for (const m of mutations) {\n                                const n: any = m\n                                const newValue = n.target.getAttribute(\n                                    m.attributeName\n                                )\n\n                                nextTick(() => {\n                                    if (newValue === 'dark') {\n                                        config.set('darkMode', true)\n                                    } else {\n                                        config.set('darkMode', false)\n                                    }\n                                })\n                            }\n                        }\n                    )\n\n                    observer.observe(html, {\n                        attributes: true,\n                        attributeOldValue: true,\n                        attributeFilter: ['class']\n                    })\n                }\n            })\n        }\n    })\n</script>\n\n<style lang=\"scss\">\n    // Vendor\n    @import 'animate.css';\n\n    // Main demo style scss\n    @import '../assets/style/index.css';\n</style>\n"],"names":["computed","useConfig","version","homepage","logo","copyright","darkMode","bubbleColor","authBackground","changelogEnabled","searchEnabled","fontAwesomeKit","_sfc_main","defineComponent","config","onMounted","detectViewPort","detectViewPortListener","onBeforeUnmount","__name","setViewPort","isMobileView","isTabletView","firstLoad","isMobile","isTablet","width","state","replaceFavicon","link","addFontAwesomeKit","kit","script","addGoogleFonts","_a","tippy","html","sb","mutations","m","newValue","nextTick","_resolveComponent"],"mappings":"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"}