{"version":3,"file":"k-dropdown.848c1b20.js","sources":["../../src/components/navigation/k-dropdown/k-dropdown.vue"],"sourcesContent":["<template>\n    <component :is=\"tag\" :id=\"buttonId\" class=\"relative\">\n        <slot></slot>\n\n        <k-icon\n            v-if=\"submenu\"\n            icon=\"chevron-right\"\n            type=\"fas\"\n            class=\"absolute -right-2 top-0 mt-1\"\n            :size=\"12\"\n        ></k-icon>\n    </component>\n\n    <div :id=\"menuId\" class=\"k-dropdown\">\n        <div\n            v-if=\"hasSlot('header')\"\n            class=\"px-4 py-3 text-sm text-gray-900 dark:text-white\"\n        >\n            <slot name=\"header\"></slot>\n        </div>\n\n        <ul\n            class=\"k-dropdown-items text-sm text-gray-700 dark:text-gray-200 text-left\"\n            :style=\"ulStyle\"\n        >\n            <slot name=\"content\"></slot>\n        </ul>\n\n        <div\n            v-if=\"hasSlot('footer')\"\n            class=\"px-4 py-3 text-sm text-gray-900 dark:text-white\"\n        >\n            <slot name=\"footer\"></slot>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\n    import { uid } from '@/helpers/utils'\n    import { defineComponent, ref, Ref, onMounted, watch, computed } from 'vue'\n    import { Dropdown } from 'flowbite'\n    import type { DropdownOptions } from 'flowbite'\n\n    export default defineComponent({\n        name: 'KDropdown',\n        autoload: true,\n        props: {\n            placement: {\n                type: String as () => DropdownOptions['placement'],\n                default: 'bottom',\n                options: [\n                    'top',\n                    'bottom',\n                    'left',\n                    'left-start',\n                    'left-end',\n                    'right',\n                    'right-start',\n                    'right-end'\n                ]\n            },\n            visible: {\n                type: Boolean,\n                default: undefined\n            },\n            hover: {\n                type: Boolean,\n                default: false\n            },\n            click: {\n                type: Boolean,\n                default: true\n            },\n            submenu: {\n                type: Boolean,\n                default: false\n            },\n            height: {\n                type: Number,\n                default: 0\n            },\n            disabled: {\n                type: Boolean,\n                default: false\n            },\n            tag: {\n                type: String,\n                default: 'div'\n            }\n        },\n        emits: ['click'],\n        setup(props, { slots }) {\n            const menuId = uid()\n            const buttonId = uid()\n\n            const dropdown: Ref<Dropdown | null> = ref(null)\n            const hasSlot = (name: string) => !!slots[name]\n\n            const ulStyle = computed((): Record<string, any> => {\n                return {\n                    maxHeight: props.height ? `${props.height}px` : 'auto',\n                    overflowY: props.height ? 'auto' : 'visible'\n                }\n            })\n\n            const method =\n                props.visible !== undefined\n                    ? 'none'\n                    : props.hover\n                    ? 'hover'\n                    : props.click\n                    ? 'click'\n                    : 'none'\n\n            const options: DropdownOptions = {\n                placement: props.placement,\n                triggerType: method,\n                offsetSkidding: 0,\n                offsetDistance: props.submenu ? 30 : 10,\n                delay: 300,\n                onShow: () => {\n                    if (props.disabled) {\n                        dropdown.value?.hide()\n                    }\n                }\n            }\n\n            onMounted(() => {\n                const $targetEl = document.getElementById(menuId)\n                const $triggerEl = document.getElementById(buttonId)\n\n                dropdown.value = new Dropdown($targetEl, $triggerEl, options)\n            })\n\n            watch(\n                () => props.visible,\n                (value) => {\n                    if (value) {\n                        if (!props.disabled) dropdown.value?.show()\n                    } else {\n                        dropdown.value?.hide()\n                    }\n                }\n            )\n\n            return { dropdown, menuId, buttonId, hasSlot, ulStyle }\n        }\n    })\n</script>\n\n<style lang=\"scss\">\n    .k-dropdown {\n        min-width: 11rem;\n        max-width: 24rem;\n\n        @apply z-10 hidden divide-y divide-gray-100 dark:divide-gray-600 select-none;\n\n        .k-dropdown-items {\n            li {\n                @apply border-b border-gray-200 dark:border-gray-600 last:border-0 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-700 bg-white block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer font-semibold shadow;\n            }\n        }\n    }\n</style>\n"],"names":["_sfc_main","defineComponent","props","slots","menuId","uid","buttonId","dropdown","ref","hasSlot","__name","name","ulStyle","computed","method","options","_a","onMounted","$targetEl","$triggerEl","Dropdown","watch","value","_b","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_Fragment","_createBlock","_resolveDynamicComponent","_ctx","_withCtx","_renderSlot","_component_k_icon","_createElementVNode","_createCommentVNode","_normalizeStyle"],"mappings":"4WA2CI,MAAAA,EAAeC,EAAgB,CAC3B,KAAM,YACN,SAAU,GACV,MAAO,CACH,UAAW,CACP,KAAM,OACN,QAAS,SACT,QAAS,CACL,MACA,SACA,OACA,aACA,WACA,QACA,cACA,WACJ,CACJ,EACA,QAAS,CACL,KAAM,QACN,QAAS,MACb,EACA,MAAO,CACH,KAAM,QACN,QAAS,EACb,EACA,MAAO,CACH,KAAM,QACN,QAAS,EACb,EACA,QAAS,CACL,KAAM,QACN,QAAS,EACb,EACA,OAAQ,CACJ,KAAM,OACN,QAAS,CACb,EACA,SAAU,CACN,KAAM,QACN,QAAS,EACb,EACA,IAAK,CACD,KAAM,OACN,QAAS,KACb,CACJ,EACA,MAAO,CAAC,OAAO,EACf,MAAMC,EAAO,CAAE,MAAAC,GAAS,CACpB,MAAMC,EAASC,IACTC,EAAWD,IAEXE,EAAiCC,EAAI,IAAI,EACzCC,EAAUC,EAACC,GAAiB,CAAC,CAACR,EAAMQ,GAA1B,WAEVC,EAAUC,EAAS,KACd,CACH,UAAWX,EAAM,OAAS,GAAGA,EAAM,WAAa,OAChD,UAAWA,EAAM,OAAS,OAAS,SAAA,EAE1C,EAEKY,EACFZ,EAAM,UAAY,OACZ,OACAA,EAAM,MACN,QACAA,EAAM,MACN,QACA,OAEJa,EAA2B,CAC7B,UAAWb,EAAM,UACjB,YAAaY,EACb,eAAgB,EAChB,eAAgBZ,EAAM,QAAU,GAAK,GACrC,MAAO,IACP,OAAQ,IAAM,OACNA,EAAM,YACNc,EAAAT,EAAS,QAAT,MAAAS,EAAgB,OAExB,CAAA,EAGJ,OAAAC,EAAU,IAAM,CACN,MAAAC,EAAY,SAAS,eAAed,CAAM,EAC1Ce,EAAa,SAAS,eAAeb,CAAQ,EAEnDC,EAAS,MAAQ,IAAIa,EAASF,EAAWC,EAAYJ,CAAO,CAAA,CAC/D,EAEDM,EACI,IAAMnB,EAAM,QACXoB,GAAU,SACHA,EACKpB,EAAM,WAAUc,EAAAT,EAAS,QAAT,MAAAS,EAAgB,QAErCO,EAAAhB,EAAS,QAAT,MAAAgB,EAAgB,MAExB,CAAA,EAGG,CAAE,SAAAhB,EAAU,OAAAH,EAAQ,SAAAE,EAAU,QAAAG,EAAS,QAAAG,CAAQ,CAC1D,CACJ,CAAC,iBAnIOY,EAAM,CAAA,IAAA,2DAcNC,EAAM,CAAA,IAAA,8GA7BYC,EAAQ,EAAAC,EAAAC,EAAA,KAAA,EAAAF,EAAkB,EAAAG,EAAAC,EAAAC,EAAA,GAAA,EAAA,CAAA,GAAAA,EAAA,oCAItCC,EAAO,IAAA,CAAAC,EAAAF,EAAA,OADjB,SAMU,EAAAA,EAAA,SAAAL,IAJcG,EAAAK,EAAA,CACpB,IAAI,EACJ,KAAK,gBACJ,KAAM,MAAA,MAAA,qDAIf,EAAA,CAAA,EAAM,EAAI,CAAA,IAAA,CAAA,GAAAC,EAAc,MAAY,CAAA,GAAAJ,EAAA,OAEtB,MAAA,YAAA,EAAA,GAGN,QAA2B,QAAA,GAAAL,EAAA,EAAAC,EAAA,MAAAH,EAAA,qBAG/B,CAAA,GACIY,EAAM,GAAA,EAAA,EAAAD,EACA,KAAE,CAAA,MAAA,sEAER,MAA4BE,EAAAN,EAAA,OAAA,CAAA,EAAA,CAItBE,EAAOF,EAAA,OAAA,SAAA,CAAA,EAAA,CAAA,IAGb,QAA2B,QAAA,GAAAL,EAAA,EAAAC,EAAA,MAAAF,EAAA"}