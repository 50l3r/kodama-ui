var z=Object.defineProperty;var p=(e,o)=>z(e,"name",{value:o,configurable:!0});import{l as J,d as K,J as B,a as c,F as w,T as R,n as M,r as d,o as s,f as T,t as S,g as k,e as n,w as v,k as C,b as _,i as A,_ as q,q as G,a4 as X,v as H}from"./vue.esm-bundler.40c2ec29.js";import{u as x}from"./query.f44bf3fb.js";import{u as Q,v as Y,s as Z}from"./app.271979cf.js";import{A as I}from"./index.7fcb4b4b.js";import{_ as E}from"./+plugin-vue+export-helper.ed6a1c48.js";import{k as ee}from"./iframe.7b188eaa.js";const te=[],oe=p(function(){const e=J(),o=[{separator:!0}];return[...e?e.proxy.menu():[],...o,...te]},"useMenu"),W=K({name:"KMenu",props:{collapsed:{type:Boolean,default:!1}},setup(){const e=Q(),o=oe(),l=p(t=>e.path.indexOf(t.toString())!==-1,"hasActiveChildren"),f=p(t=>t.auth?t.auth:!0,"checkRoles"),y=p(t=>{if(t.auth)return t.auth;if(t.pages)for(let i=0;i<t.pages.length;i++){const r=t.pages[i];if(r.auth)return r.auth;if(r.pages)for(let u=0;u<r.pages.length;u++){const b=r.pages[u];if(f(b))return!0}}return!1},"hasOneAccess"),m=p(()=>{let t=[];o.forEach(r=>{r.pages&&r.pages.forEach(u=>{u.pages&&t.push({id:`k-menu-dropdown-${u.title}`,triggerEl:document.getElementById(`k-menu-dropdown-${u.title}`),targetEl:document.getElementById(`k-menu-dropdown-${u.title}-body`),active:!1})})});const i={alwaysOpen:!0,activeClasses:"bg-gray-800 text-gray-200",inactiveClasses:"text-gray-200"};new I(t,i)},"initCollapse");return B(()=>{m()}),{hasActiveChildren:l,hasOneAccess:y,menu:o,version:Y,checkRoles:f}}});const se={key:0,class:"k-menu-header"},ne={key:1,class:"k-menu-separator"},ae={key:0},le=["data-href","onClick"],ie={key:0,class:"k-menu-icon"},ce={key:1,class:"k-menu-title"},re=["id"],de={key:0,class:"k-menu-icon"},ue={key:1,class:"k-menu-title"},pe=["id"],_e={key:0},fe=["data-href","onClick"],ge={key:0,class:"k-menu-icon",type:"fal"},ke={key:1,class:"k-menu-title"};function me(e,o,l,f,y,m){const t=d("k-icon"),i=d("router-link"),r=d("k-tooltip");return s(),c("ul",{class:M(["k-menu",{"k-menu-collapsed":e.collapsed}])},[(s(!0),c(w,null,R(e.menu,(u,b)=>(s(),c(w,{key:b},[e.checkRoles(u)?(s(),c(w,{key:0},[u.heading&&e.hasOneAccess(u)?(s(),c("li",se,[e.collapsed?k("",!0):(s(),c(w,{key:0},[T(S(u.heading),1)],64))])):u.separator?(s(),c("li",ne)):k("",!0),(s(!0),c(w,null,R(u.pages,(a,N)=>(s(),c(w,{key:N},[e.checkRoles(a)?(s(),c(w,{key:0},[a.pages?e.hasOneAccess(a)?(s(),c("li",{key:1,class:M({show:e.hasActiveChildren(a.route)})},[n(r,{title:a.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[_("button",{id:`k-menu-dropdown-${a.title}`,class:"k-menu-item"},[a.icon?(s(),c("span",de,[n(t,{icon:a.icon,type:"fal"},null,8,["icon"])])):k("",!0),e.collapsed?k("",!0):(s(),c("span",ue,S(a.title),1)),a.pages&&!e.collapsed?(s(),C(t,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):k("",!0)],8,re)]),_:2},1032,["title","disabled"]),_("ul",{id:`k-menu-dropdown-${a.title}-body`,class:"k-menu-sub hidden"},[(s(!0),c(w,null,R(a.pages,(g,$)=>(s(),c(w,{key:$},[g.title&&e.checkRoles(g)?(s(),c("li",_e,[n(r,{title:g.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[g.pages?k("",!0):(s(),C(i,{key:0,"active-class":"active",to:g.disabled?{}:g.route},{default:v(({href:h,navigate:L,isActive:U})=>[_("button",{class:M(["k-menu-item",{"k-menu-item-active":U,"k-menu-item-disabled":g.disabled}]),"data-href":h,onClick:L},[g.icon?(s(),c("span",ge,[n(t,{icon:g.icon,type:"fal"},null,8,["icon"])])):k("",!0),e.collapsed?k("",!0):(s(),c("span",ke,S(g.title),1))],10,fe)]),_:2},1032,["to"]))]),_:2},1032,["title","disabled"])])):k("",!0)],64))),128))],8,pe)],2)):k("",!0):(s(),c("li",ae,[n(r,{title:a.title,placement:"right",arrow:!1,disabled:!e.collapsed},{default:v(()=>[a.pages?k("",!0):(s(),C(i,{key:0,"active-class":"active",to:a.disabled?{}:a.route},{default:v(({href:g,navigate:$,isActive:h})=>[_("button",{class:M(["k-menu-item",{"k-menu-item-active":h,"k-menu-item-disabled":a.disabled}]),"data-href":g,onClick:$},[a.icon?(s(),c("span",ie,[n(t,{icon:a.icon,type:"fal"},null,8,["icon"])])):k("",!0),e.collapsed?k("",!0):(s(),c("span",ce,S(a.title),1)),a.pages&&!e.collapsed?(s(),C(t,{key:2,icon:"chevron-down",type:"fal",class:"k-menu-chevron"})):k("",!0)],10,le)]),_:2},1032,["to"]))]),_:2},1032,["title","disabled"])]))],64)):k("",!0)],64))),128))],64)):k("",!0)],64))),128))],2)}p(me,"_sfc_render$6");const he=E(W,[["render",me],["__scopeId","data-v-960aa36a"]]);W.__docgenInfo={displayName:"KMenu",exportName:"default",description:"",tags:{},props:[{name:"collapsed",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}]};const j=K({name:"KAside",components:{KMenu:he},setup(){const e=p(l=>typeof q(l)!="string","isComponent");return{collapsed:A({get(){return x().get("aside.collapsed")||!1},set(l){x().set("aside.collapsed",l)}}),isComponent:e}}});const ve={class:"overflow-y-auto py-5 px-3 h-full flex-1"},ye={class:"justify-center p-4 space-x-4"};function be(e,o,l,f,y,m){const t=d("k-logo"),i=d("k-button"),r=d("k-menu"),u=d("k-aside-footer");return s(),c("aside",{class:M(["k-aside h-screen bg-sidebar text-gray-100 flex flex-col",{"k-aside-collapsed":e.collapsed}])},[_("div",{class:M(["px-3 pb-5 pt-5 flex relative",e.collapsed?"justify-center":"justify-between"])},[n(t,{dark:"",side:!e.collapsed,class:"cursor-pointer",onClick:o[0]||(o[0]=b=>e.collapsed=!1)},null,8,["side"]),e.collapsed?(s(),C(i,{key:1,icon:"chevrons-right",link:"",color:"primary",class:"absolute top-0 right-0 -m-3 mt-5",onClick:o[2]||(o[2]=b=>e.collapsed=!1)})):(s(),C(i,{key:0,icon:"chevrons-left",link:"",color:"primary",class:"-mr-2",onClick:o[1]||(o[1]=b=>e.collapsed=!0)}))],2),_("div",ve,[n(r,{collapsed:e.collapsed},null,8,["collapsed"])]),_("div",ye,[n(u,{collapsed:e.collapsed},null,8,["collapsed"])])],2)}p(be,"_sfc_render$5");const $e=E(j,[["render",be],["__scopeId","data-v-0af091d2"]]);j.__docgenInfo={displayName:"KAside",exportName:"default",description:"",tags:{}};function we(e={}){const{immediate:o=!1,onNeedRefresh:l,onOfflineReady:f,onRegistered:y,onRegisteredSW:m,onRegisterError:t}=e;let i,r,u,b;const a=p(async(g=!0)=>{await u,g&&(i==null||i.addEventListener("controlling",$=>{$.isUpdate&&window.location.reload()})),await(b==null?void 0:b())},"updateServiceWorker");async function N(){if("serviceWorker"in navigator){const{Workbox:g,messageSW:$}=await ee(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);b=p(async()=>{r&&r.waiting&&await $(r.waiting,{type:"SKIP_WAITING"})},"sendSkipWaitingMessage"),i=new g("/sw.js",{scope:"/",type:"classic"}),i.addEventListener("activated",h=>{h.isUpdate||f==null||f()});{const h=p(()=>{l==null||l()},"showSkipWaitingPrompt");i.addEventListener("waiting",h),i.addEventListener("externalwaiting",h)}i.register({immediate:o}).then(h=>{r=h,m?m("/sw.js",h):y==null||y(h)}).catch(h=>{t==null||t(h)})}}return p(N,"register"),u=N(),a}p(we,"registerSW");const D=K({name:"KUpdater",setup(){let e=G(!1),o=null;const l=p(()=>{o&&o(!0)},"update");return B(()=>{"serviceWorker"in navigator&&(o=we({onNeedRefresh(){e.value=!0},onRegistered(f){f&&setInterval(()=>{f.update()},6e4)}}))}),{update:l,updateAvailable:e}}});function Ce(e,o,l,f,y,m){const t=d("k-button"),i=d("k-tooltip");return e.updateAvailable?(s(),C(i,{key:0,title:"\u{1F37E} Actualizaci\xF3n disponible",placement:"left"},{default:v(()=>[n(t,{neon:"",color:"success",icon:"cloud-arrow-down",onClick:e.update},null,8,["onClick"])]),_:1})):k("",!0)}p(Ce,"_sfc_render$4");const Ne=E(D,[["render",Ce]]);D.__docgenInfo={displayName:"KUpdater",exportName:"default",description:"",tags:{}};const F=K({name:"KTheme",setup(){const e=A(()=>x().get("darkMode"));return{toggleTheme:p(()=>{const l=x();e.value?(l.set("darkMode",!1),document.getElementsByTagName("html")[0].classList.remove("dark"),document.getElementsByTagName("html")[0].classList.add("light")):(l.set("darkMode",!0),document.getElementsByTagName("html")[0].classList.remove("light"),document.getElementsByTagName("html")[0].classList.add("dark"))},"toggleTheme"),darkMode:e}}});function Me(e,o,l,f,y,m){const t=d("k-button");return s(),C(t,{outline:"",color:"gray",icon:e.darkMode?"moon":"sun","icon-type":"fal",onClick:e.toggleTheme},null,8,["icon","onClick"])}p(Me,"_sfc_render$3");const xe=E(F,[["render",Me]]);F.__docgenInfo={displayName:"KTheme",exportName:"default",description:"",tags:{}};const O=K({name:"KDebug",setup(){const e=x();return{debug:A(()=>e.get("debug"))}}}),Ke="_debug_54i91_1",Ee={debug:Ke},Ae=X('<div class="block sm:hidden">XS</div><div class="hidden sm:block md:hidden">SM</div><div class="hidden md:block lg:hidden">MD</div><div class="hidden lg:block xl:hidden">LG</div><div class="hidden xl:block">XL</div>',5),Te=[Ae];function Se(e,o,l,f,y,m){return e.debug?(s(),c("div",{key:0,class:M(e.$style.debug)},Te,2)):k("",!0)}p(Se,"_sfc_render$2");const Le={$style:Ee},Re=E(O,[["render",Se],["__cssModules",Le]]);O.__docgenInfo={displayName:"KDebug",exportName:"default",description:"",tags:{}};const V=K({name:"KTopbar",components:{KUpdater:Ne,KTheme:xe,KDebug:Re},setup(){const e=H("$auth"),o=p(()=>{e.logout()},"logout"),l=A(()=>e.getLastName()||"Jhon"),f=A(()=>{const m=e.getName()||"Jhon",t=e.getLastName()||"Doe";return`${m} ${t}`}),y=A({get(){return x().get("aside.collapsed")||!1},set(m){x().set("aside.collapsed",m)}});return{firstname:l,fullname:f,searchEnabled:Z,logout:o,collapsed:y}}}),Be={class:"px-4 lg:px-6 py-2.5 bg-sidebar text-gray-200 select-none"},We={class:"flex flex-wrap items-center"},je={class:"flex sm:hidden"},De={class:"hidden sm:flex justify-start items-center"},Fe=_("div",{class:"ml-auto"},null,-1),Oe={class:"flex flex-row gap-4"},Ve={class:"flex items-center lg:order-2"},Pe={class:"flex gap-4 items-center"},Ue=_("br",null,null,-1);function ze(e,o,l,f,y,m){const t=d("k-button"),i=d("k-toolbar-search"),r=d("k-updater"),u=d("k-debug"),b=d("k-theme"),a=d("k-avatar"),N=d("k-icon"),g=d("router-link"),$=d("k-dropdown-item"),h=d("k-dropdown");return s(),c("header",null,[_("nav",Be,[_("div",We,[_("div",je,[n(t,{icon:"chevrons-right",link:"",color:"primary",onClick:o[0]||(o[0]=L=>e.collapsed=!1)})]),_("div",De,[n(i)]),Fe,_("div",Oe,[n(r),n(u),n(b),_("div",Ve,[n(h,{click:""},{header:v(()=>[_("div",Pe,[n(a,{name:e.fullname,size:40,tooltip:!1},null,8,["name"]),_("div",null,[T(" Bienvenido "),Ue,_("strong",null,S(e.firstname),1)])])]),content:v(()=>[n($,null,{default:v(()=>[n(g,{to:"/pages/profile/overview"},{default:v(()=>[n(N,{icon:"address-card",type:"fal",class:"mr-2"}),T(" Mi Perfil ")]),_:1})]),_:1}),n($,null,{default:v(()=>[n(g,{to:"/pages/profile/overview"},{default:v(()=>[n(N,{icon:"gear",type:"fal",class:"mr-2"}),T(" Configuraci\xF3n ")]),_:1})]),_:1})]),footer:v(()=>[_("a",{class:"text-danger cursor-pointer block",onClick:o[1]||(o[1]=L=>e.logout())},[n(N,{icon:"right-from-bracket",class:"mr-2"}),T(" Cerrar sesi\xF3n ")])]),default:v(()=>[n(a,{name:e.fullname,size:42,tooltip:!1,square:"",class:"cursor-pointer"},null,8,["name"])]),_:1})])])])])])}p(ze,"_sfc_render$1");const Je=E(V,[["render",ze]]);V.__docgenInfo={displayName:"KTopbar",exportName:"default",description:"",tags:{}};const P=K({name:"KMain",components:{KAside:$e,KTopbar:Je},setup(){return{}}});const qe={class:"flex flex-row bg-white dark:bg-gray-800"},Ge={id:"k-wrapper",class:"flex flex-col flex-row-fluid w-full bg-gray-100 dark:bg-gray-900 h-screen overflow-y-auto overflow-x-hidden"};function Xe(e,o,l,f,y,m){const t=d("k-aside"),i=d("k-topbar"),r=d("router-view");return s(),c("div",qe,[n(t),_("div",Ge,[n(i),n(r)])])}p(Xe,"_sfc_render");const ot=E(P,[["render",Xe]]);P.__docgenInfo={displayName:"KMain",exportName:"default",description:"",tags:{}};export{ot as default};
//# sourceMappingURL=main.49cda180.js.map
