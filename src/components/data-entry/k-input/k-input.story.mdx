import { Meta, Story, Canvas, Stories, ArgsTable } from '@storybook/addon-docs';
import KInputText from './k-input.vue';
import { renderArgs, renderParameters } from '../../../helpers/storybook'
import SHead from '../../../../.storybook/app/components/s-head.tsx'
import { ref } from 'vue'

export const Template = (args) => ({
    components: { KInputText },
    setup() {
      return { args };
    },
    template: '<k-input v-bind="args">ü¶Ñ Label</k-input>'
});

<Meta title="Data Entry/Input" component={KInputText} argTypes={renderArgs(KInputText)} decorators={[() => ({ template: '<div class="flex items-center justify-center p-10"><story /></div>' })]} />

<SHead image="https://media2.giphy.com/media/SwImQhtiNA7io/giphy.gif?cid=ecf05e47z82yq5bzlbtacqrphv0r4tr1wtbmnhzeakchqa9a&rid=giphy.gif&ct=g">‚å® KInput</SHead>

# KInput
Con el componente `k-input` puedes renderizar un input text para solicitar contenido.

<Story name="Default" parameters={renderParameters({showPanel: true})}>
  {Template.bind({})}
</Story>

<ArgsTable story="Default" />


## **Types**
Se puede cambiar el tipo de input a `text`, `password` y `number`.

<Canvas>
  <Story name="Types" argTypes={renderArgs(KInputText, {}, true)} parameters={renderParameters({showPanel: false})}>
    {() => {
      return {
        components: { KInputText },
        template: `
          <k-input type="text" class="mr-4">Texto</k-input>
          <k-input type="password" class="mr-4">Contrase√±a</k-input>
          <k-input type="number">Numero</k-input>
        `,
      };
    }}
  </Story>
</Canvas>

## **Sizes**
Puedes establecer distintos tama√±os que van desde `xs` hasta `lg`.

<Canvas>
  <Story name="Sizes" argTypes={renderArgs(KInputText, {}, true)} parameters={renderParameters({showPanel: false})}>
    {() => {
      return {
        components: { KInputText },
        setup() {
          const data = ref(0)
          return { data };
        },
        template: `
          <div class="flex flex-col">
            <div class="flex flex-row mb-8">
              <k-input size="xs" class="mr-4">Label XS</k-input>
              <k-input size="sm" class="mr-4">Label SM</k-input>
              <k-input size="md" class="mr-4">Label MD</k-input>
              <k-input size="lg">Label LG</k-input>
            </div>
            <div class="flex flex-row">
              <k-input size="xs" type="number" class="mr-4" v-model="data">Label XS</k-input>
              <k-input size="sm" type="number" class="mr-4" v-model="data">Label SM</k-input>
              <k-input size="md" type="number" class="mr-4" v-model="data">Label MD</k-input>
              <k-input size="lg" type="number" v-model="data">Label LG</k-input>
            </div>
          </div>
        `,
      };
    }}
  </Story>
</Canvas>


## **Float**
Establece el estilo `float` al input y lo dota de una animaci√≥n al placeholder al hacer foco sobre el.

<Canvas>
  <Story name="Float" argTypes={renderArgs(KInputText, {}, true)} parameters={renderParameters({showPanel: false})}>
    {() => {
      return {
        components: { KInputText },
        template: `
          <k-input float label="label" size="xs" class="mr-4">Label XS</k-input>
          <k-input float size="sm" class="mr-4">Label SM</k-input>
          <k-input float size="md" class="mr-4">Label MD</k-input>
          <k-input float size="lg">Label LG</k-input>
        `,
      };
    }}
  </Story>
</Canvas>


## **Fieldset**
Establece el estilo `fieldset` el cual coloca el label en el borde superior del imput.

<Canvas>
  <Story name="Fieldset" argTypes={renderArgs(KInputText, {}, true)} parameters={renderParameters({showPanel: false})}>
    {() => {
      return {
        components: { KInputText },
        template: `
          <k-input fieldset size="xs" class="mr-4">Label XS</k-input>
          <k-input fieldset size="sm" class="mr-4">Label SM</k-input>
          <k-input fieldset size="md" class="mr-4">Label MD</k-input>
          <k-input fieldset size="lg">Label LG</k-input>
        `,
      };
    }}
  </Story>
</Canvas>


## **Errors**
Define una lista de errores del input. Se mostrar√° un icono de alerta con el primer error.

<Canvas>
  <Story name="Errors" argTypes={renderArgs(KInputText, {}, true)} parameters={renderParameters({showPanel: false})}>
    {() => {
      return {
        components: { KInputText },
        setup() {
          return { errors : [{$message: 'Lorem ipsum dolor sit'}] };
        },
        template: `
          <div class="flex flex-col gap-12">
            <k-input :errors="errors">Label MD</k-input>
            <k-input float  class="mr-4" :errors="errors">Label MD</k-input>
            <k-input fieldset :errors="errors">Label MD</k-input>
          </div>
        `,
      };
    }}
  </Story>
</Canvas>

## **Colors**
Define una lista de errores del input. Se mostrar√° un icono de alerta con el primer error.

<Canvas>
  <Story name="Colors" argTypes={renderArgs(KInputText, {}, true)} parameters={renderParameters({showPanel: false})}>
    {() => {
      return {
        components: { KInputText },
   
        template: `
          <div class="flex flex-row gap-12">
            <div class="flex flex-col gap-12">
              <k-input color="success">Success</k-input>
              <k-input color="success" float>Success</k-input>
              <k-input color="success" fieldset>Success</k-input>
            </div>
            <div class="flex flex-col gap-12">
              <k-input color="warning">Warning</k-input>
              <k-input color="warning" float>Warning</k-input>
              <k-input color="warning" fieldset>Warning</k-input>
            </div>
            <div class="flex flex-col gap-12">
              <k-input color="danger">Danger</k-input>
              <k-input color="danger" float>Danger</k-input>
              <k-input color="danger" fieldset>Danger</k-input>
            </div>
          </div>
        `,
      };
    }}
  </Story>
</Canvas>